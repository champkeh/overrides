!function (mods) {
    function t(t) {
        for (var r, o, c = t[0], u = t[1], l = t[2], s = 0, p = []; s < c.length; s++)
            o = c[s],
            a[o] && p.push(a[o][0]),
                a[o] = 0;
        for (r in u)
            Object.prototype.hasOwnProperty.call(u, r) && (mods[r] = u[r]);
        for (f && f(t); p.length;)
            p.shift()();
        return i.push.apply(i, l || []),
            n()
    }

    function n() {
        for (var e, t = 0; t < i.length; t++) {
            for (var n = i[t], r = !0, o = 1; o < n.length; o++) {
                var u = n[o];
                0 !== a[u] && (r = !1)
            }
            r && (i.splice(t--, 1),
                e = webpack_require(webpack_require.s = n[0]))
        }
        return e
    }

    var cache = {},
        o = {
            8: 0
        },
        a = {
            8: 0
        },
        i = [];

    function webpack_require(id) {
        if (cache[id]) {
            return cache[id].exports
        }
        let module = cache[id] = {
            i: id,
            l: false,
            exports: {}
        };
        mods[id].call(module.exports, module, module.exports, webpack_require)
        module.l = true
        return module.exports
    }

    webpack_require.e = function (e) {
        var t = [];
        o[e] ? t.push(o[e]) : 0 !== o[e] && {
            0: 1,
            3: 1,
            4: 1,
            5: 1,
            6: 1,
            7: 1,
            11: 1
        }[e] && t.push(o[e] = new Promise(function (t, n) {
                for (var r = "pub/" + ({
                    0: "Anniversary",
                    1: "HomeBanners.async",
                    2: "MobileHeader.async",
                    3: "PayUI.async",
                    4: "Reader",
                    5: "desktop",
                    6: "legacy-icon",
                    7: "modals",
                    11: "signflow"
                }[e] || e) + "." + {
                    0: "2311ac7c564581b33169",
                    1: "31d6cfe0d16ae931b73c",
                    2: "31d6cfe0d16ae931b73c",
                    3: "fae1cc9ba7828ded8aec",
                    4: "107663466da8b4837b26",
                    5: "e5e26b8ce32b6432de39",
                    6: "b8ffaa9ac5ced0cd1dda",
                    7: "fae3e81e8c843d001d68",
                    11: "4c2b2348288c48b7d67b"
                }[e] + ".css", a = webpack_require.p + r, i = document.getElementsByTagName("link"), u = 0; u < i.length; u++) {
                    var l = (f = i[u]).getAttribute("data-href") || f.getAttribute("href");
                    if ("stylesheet" === f.rel && (l === r || l === a))
                        return t()
                }
                var s = document.getElementsByTagName("style");
                for (u = 0; u < s.length; u++) {
                    var f;
                    if ((l = (f = s[u]).getAttribute("data-href")) === r || l === a)
                        return t()
                }
                var p = document.createElement("link");
                p.rel = "stylesheet",
                    p.type = "text/css",
                    p.onload = t,
                    p.onerror = function (t) {
                        var r = t && t.target && t.target.src || a
                            , i = new Error("Loading CSS chunk " + e + " failed.\n(" + r + ")");
                        i.request = r,
                            delete o[e],
                            p.parentNode.removeChild(p),
                            n(i)
                    }
                    ,
                    p.href = a,
                    document.getElementsByTagName("head")[0].appendChild(p)
            }
        ).then(function () {
            o[e] = 0
        }));
        var n = a[e];
        if (0 !== n)
            if (n)
                t.push(n[2]);
            else {
                var r = new Promise(function (t, r) {
                        n = a[e] = [t, r]
                    }
                );
                t.push(n[2] = r);
                var i, u = document.getElementsByTagName("head")[0], l = document.createElement("script");
                l.charset = "utf-8",
                    l.timeout = 120,
                webpack_require.nc && l.setAttribute("nonce", webpack_require.nc),
                    l.src = function (e) {
                        return webpack_require.p + "pub/" + ({
                            0: "Anniversary",
                            1: "HomeBanners.async",
                            2: "MobileHeader.async",
                            3: "PayUI.async",
                            4: "Reader",
                            5: "desktop",
                            6: "legacy-icon",
                            7: "modals",
                            11: "signflow"
                        }[e] || e) + "." + {
                            0: "c346b3d7980b45d72861",
                            1: "584ca03dab153696f54a",
                            2: "87438dc0d4699083cc31",
                            3: "ff9b7baef4576d643716",
                            4: "dc873d300aea4130ad50",
                            5: "904ad5e2b765ffbb4ff4",
                            6: "dd01c7e6e184230f3af0",
                            7: "623bc606eae1f69bd272",
                            11: "c8be33e1c15de6361244"
                        }[e] + ".js"
                    }(e),
                    i = function (t) {
                        l.onerror = l.onload = null,
                            clearTimeout(s);
                        var n = a[e];
                        if (0 !== n) {
                            if (n) {
                                var r = t && ("load" === t.type ? "missing" : t.type)
                                    , o = t && t.target && t.target.src
                                    , i = new Error("Loading chunk " + e + " failed.\n(" + r + ": " + o + ")");
                                i.type = r,
                                    i.request = o,
                                    n[1](i)
                            }
                            a[e] = void 0
                        }
                    }
                ;
                var s = setTimeout(function () {
                    i({
                        type: "timeout",
                        target: l
                    })
                }, 12e4);
                l.onerror = l.onload = i,
                    u.appendChild(l)
            }
        return Promise.all(t)
    }
    webpack_require.m = mods
    webpack_require.c = cache
    webpack_require.d = function (e, t, n) {
        webpack_require.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: n
        })
    }
    webpack_require.r = function (e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }),
            Object.defineProperty(e, "__esModule", {
                value: !0
            })
    }
    webpack_require.t = function (e, t) {
        if (1 & t && (e = webpack_require(e)),
        8 & t)
            return e;
        if (4 & t && "object" == typeof e && e && e.__esModule)
            return e;
        var n = Object.create(null);
        if (webpack_require.r(n),
            Object.defineProperty(n, "default", {
                enumerable: !0,
                value: e
            }),
        2 & t && "string" != typeof e)
            for (var r in e)
                webpack_require.d(n, r, function (t) {
                    return e[t]
                }
                    .bind(null, r));
        return n
    }
    webpack_require.n = function (e) {
        var t = e && e.__esModule ? function () {
                    return e.default
                }
                : function () {
                    return e
                }
        ;
        return webpack_require.d(t, "a", t),
            t
    }
    webpack_require.o = function (e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    webpack_require.p = ""
    webpack_require.oe = function (e) {
        throw console.error(e),
            e
    }

    var webpackJsonp = window.webpackJsonp = window.webpackJsonp || [],
        webpackJsonpBoundPush = webpackJsonp.push.bind(webpackJsonp);
    webpackJsonp.push = t
    webpackJsonp = webpackJsonp.slice()
    for (let i = 0; i < webpackJsonp.length; i++) {
        t(webpackJsonp[i])
    }
    var f = webpackJsonpBoundPush;
    i.push([758, 12])
    n()
}(
    [
        , , , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return s
            }),
                n.d(t, "b", function () {
                    return f
                }),
                n.d(t, "c", function () {
                    return p
                }),
                n.d(t, "d", function () {
                    return m
                });
            var r = n(15)
                , o = n(136)
                , a = n(202)
                , i = n(96);

            function c(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            u(e, t, n[t])
                        })
                }
                return e
            }

            function u(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var l = {
                100000: "username",
                100003: "username",
                100006: "username",
                100028: "username",
                100030: "username",
                120005: "captcha",
                100004: "password",
                100005: "password",
                100007: "digits",
                100016: "digits",
                403: "extra"
            };

            function s(e, t) {
                return t.reduce(function (t, n) {
                    return c({}, t, u({}, n, ["request", "success", "failure"].reduce(function (t, o) {
                        return c({}, t, u({}, o, "".concat(e, "/").concat(Object(r.camelize)(n.toLowerCase()), "/").concat(o)))
                    }, {})))
                }, {})
            }

            function f(e, t) {
                return t.reduce(function (t, n) {
                    return c({}, t, u({}, n, "".concat(e, "/").concat(Object(r.camelize)(n.toLowerCase()))))
                }, {})
            }

            function p(e) {
                var t = e.code
                    , n = e.message;
                return u({}, l[t], n)
            }

            function m(e) {
                Object(a.b)(!0),
                    Object(a.c)(function (t, n) {
                        var a = Object(o.b)(t.replace(/\/api\/v4/, ""), e);
                        return Object(i.b)(a, n).then(i.c).then(r.camelizeKeys)
                    })
            }
        }, ,
        function (e, t, n) {
            "use strict";
            (function (e) {
                    n.d(t, "k", function () {
                        return O
                    }),
                        n.d(t, "o", function () {
                            return E
                        }),
                        n.d(t, "f", function () {
                            return w
                        }),
                        n.d(t, "e", function () {
                            return S
                        }),
                        n.d(t, "n", function () {
                            return P
                        }),
                        n.d(t, "m", function () {
                            return k
                        }),
                        n.d(t, "h", function () {
                            return j
                        }),
                        n.d(t, "i", function () {
                            return _
                        }),
                        n.d(t, "b", function () {
                            return T
                        }),
                        n.d(t, "a", function () {
                            return C
                        }),
                        n.d(t, "p", function () {
                            return N
                        }),
                        n.d(t, "c", function () {
                            return I
                        }),
                        n.d(t, "g", function () {
                            return A
                        }),
                        n.d(t, "d", function () {
                            return D
                        });
                    var r = n(244)
                        , o = n.n(r)
                        , a = n(23)
                        , i = n.n(a)
                        , c = n(54)
                        , u = n.n(c)
                        , l = n(138)
                        , s = n.n(l)
                        , f = n(368)
                        , p = n.n(f)
                        , m = n(245)
                        , b = n.n(m)
                        , d = n(165);
                    n.d(t, "l", function () {
                        return d.a
                    });
                    var y = n(316);

                    function h(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }

                    n.d(t, "j", function () {
                        return y.a
                    });
                    var v, g, O = (v = new o.a.Parser,
                            g = new o.a.HtmlRenderer({
                                safe: !0
                            }),
                            function (e) {
                                return g.render(v.parse(e))
                            }
                    );

                    function E(e) {
                        return "string" == typeof e ? e : e && e.length ? e[0].name + (e.length > 1 ? " 等" : "") : ""
                    }

                    function w(e) {
                        var t = e.find(function (e) {
                            return "best_answerer" === e.type
                        });
                        if (t) {
                            var n = t.topics || []
                                , r = n.length > 1 ? "等 ".concat(n.length, " 个") : "";
                            return "".concat(n[0].name).concat(r, "话题优秀回答者")
                        }
                        return e[0].description
                    }

                    function S(e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
                            , r = i.a.parse(e, !0)
                            , o = r.query;
                        if (Object.assign(o, t),
                            n.omitNull) {
                            var a = [o];
                            for (var c in o)
                                null === o[c] && a.push(c);
                            o = u.a.apply(null, a)
                        }
                        return r.query = o,
                            r.search = void 0,
                            i.a.format(r)
                    }

                    function P(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
                            , n = t ? S(t, {
                                utm_source: "weibo",
                                utm_medium: "social"
                            }) : ""
                            ,
                            r = "http://service.weibo.com/share/share.php?appkey=3063806388&title=".concat(encodeURIComponent(e + n));
                        window.open(r, "_blank", "width=615,height=505") || (window.location.href = r)
                    }

                    function k(t) {
                        t && e.Image && ((new e.Image).src = t)
                    }

                    function j(e) {
                        return e.startsWith("/") && (e = e.slice(1)),
                        e.endsWith("/") && (e = e.slice(0, -1)),
                            "zhihu://".concat(e)
                    }

                    function _(e) {
                        return Array.isArray(e) && e.length > 0
                    }

                    function T(e, t, n) {
                        return e < t ? t : e > n ? n : e
                    }

                    function C(e) {
                        if (!e)
                            return null;
                        var t = function (e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {}
                                    , r = Object.keys(n);
                                "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                                }))),
                                    r.forEach(function (t) {
                                        h(e, t, n[t])
                                    })
                            }
                            return e
                        }({}, e);
                        return ["transform"].forEach(function (e) {
                            void 0 !== t[e] && (t["Webkit".concat(e[0].toUpperCase()).concat(e.slice(1))] = t[e])
                        }),
                            t
                    }

                    function N(e) {
                        return p()(e, {
                            locale: b.a
                        })
                    }

                    function I(e, t) {
                        return s()(e, t, {
                            locale: b.a
                        })
                    }

                    function A(e, t) {
                        if (!e || !Array.isArray(t))
                            return "";
                        var n = t.findIndex(function (t) {
                            return t.id === e
                        });
                        if (-1 === n || n === t.length - 1)
                            return "";
                        for (var r = [], o = n; o < t.length && o < n + 10; o++)
                            r.push(t[o].id);
                        return "books_in_list=".concat(r.join(","))
                    }

                    function x(e, t) {
                        if (!t)
                            return "".concat(e);
                        var n = String(e).length
                            , r = "";
                        return n < t && (r = "".concat(Array.from({
                            length: t - n + 1
                        }).join("0"))),
                            "".concat(r).concat(e)
                    }

                    function D(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "default"
                            , n = arguments.length > 2 ? arguments[2] : void 0;
                        if (isNaN(e))
                            return "";
                        var r = "default" === t
                            , o = {
                            hours: {
                                default: ":",
                                cn: " 小时 "
                            },
                            minutes: {
                                default: ":",
                                cn: " 分 "
                            },
                            seconds: {
                                default: "",
                                cn: " 秒 "
                            }
                        }
                            , a = ""
                            , i = []
                            , c = parseInt(e / 3600);
                        c && i.push([c, o.hours[t]]);
                        var u = parseInt((e - 3600 * c) / 60);
                        u && i.push([x(u, i.length > 0 && r ? 2 : null), o.minutes[t]]);
                        var l = parseInt(e - 3600 * c - 60 * u);
                        return i.push([x(l, i.length > 0 && r ? 2 : null), o.seconds[t]]),
                        !r && i.length > n && (i.length = n),
                            i.forEach(function (e, t) {
                                a += "".concat(e[0]).concat(e[1])
                            }),
                            a = a.replace(/\s+$/, "")
                    }
                }
            ).call(this, n(26))
        }, , , , , ,
        function (e, t, n) {
            "use strict";
            (function (e) {
                    var r = n(43)
                        , o = n.n(r)
                        , a = n(235)
                        , i = n.n(a)
                        , c = n(54)
                        , u = n.n(c)
                        , l = n(0)
                        , s = n.n(l)
                        , f = n(3)
                        , p = n(4);

                    function m(e) {
                        return (m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                                    return typeof e
                                }
                                : function (e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                }
                        )(e)
                    }

                    function b(e, t) {
                        if (null == e)
                            return {};
                        var n, r, o = function (e, t) {
                            if (null == e)
                                return {};
                            var n, r, o = {}, a = Object.keys(e);
                            for (r = 0; r < a.length; r++)
                                n = a[r],
                                t.indexOf(n) >= 0 || (o[n] = e[n]);
                            return o
                        }(e, t);
                        if (Object.getOwnPropertySymbols) {
                            var a = Object.getOwnPropertySymbols(e);
                            for (r = 0; r < a.length; r++)
                                n = a[r],
                                t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                        }
                        return o
                    }

                    function d(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value" in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }

                    function y(e, t) {
                        return !t || "object" !== m(t) && "function" != typeof t ? function (e) {
                            if (void 0 === e)
                                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return e
                        }(e) : t
                    }

                    function h(e) {
                        return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                                return e.__proto__ || Object.getPrototypeOf(e)
                            }
                        )(e)
                    }

                    function v(e, t) {
                        return (v = Object.setPrototypeOf || function (e, t) {
                                return e.__proto__ = t,
                                    e
                            }
                        )(e, t)
                    }

                    function g(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }

                    var O = ["zh_app_id", "zh_template", "zh_url", "zh_navigation_bar_type", "zh_navigation_title", "zh_nav_left", "zh_nav_mid", "zh_nav_right", "zh_default_search_type", "zh_hide_tab_bar"];

                    function E(e) {
                        var t = function (e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {}
                                    , r = Object.keys(n);
                                "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                                }))),
                                    r.forEach(function (t) {
                                        g(e, t, n[t])
                                    })
                            }
                            return e
                        }({
                            zh_url: e
                        }, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {});
                        return "zhihu://hybrid?".concat(o.a.stringify(t))
                    }

                    var w = function (t) {
                        function n() {
                            return function (e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, n),
                                y(this, h(n).apply(this, arguments))
                        }

                        var r, a, c;
                        return function (e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function");
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && v(e, t)
                        }(n, s.a.Component),
                            r = n,
                        (a = [{
                            key: "render",
                            value: function () {
                                var t = this.props
                                    , n = t.useHybridInApp
                                    , r = t.component
                                    , a = (t.trackEvent,
                                    t.ua)
                                    , c = b(t, ["useHybridInApp", "component", "trackEvent", "ua"]);
                                if (a.Zhihu) {
                                    var l = c.to
                                        , f = c.href
                                        , p = b(c, ["to", "href"])
                                        , m = l || f;
                                    if (/^\/[^\/]/.test(m)) {
                                        var d = "https://www.zhihu.com";
                                        e.document && (d = location.origin),
                                            m = "".concat(d).concat(m)
                                    }
                                    if (n)
                                        m = E(m, i()(p, O));
                                    else {
                                        var y = o.a.stringify(i()(p, O));
                                        m = "".concat(m).concat(/\?/.test(m) ? "&" : "?").concat(y)
                                    }
                                    return s.a.createElement("a", Object.assign({
                                        href: m
                                    }, u()(p, O)))
                                }
                                return s.a.createElement(r, u()(c, O))
                            }
                        }]) && d(r.prototype, a),
                        c && d(r, c),
                            n
                    }();
                    w.defaultProps = {
                        component: f.c,
                        useHybridInApp: !1,
                        zh_app_id: 100001,
                        zh_default_search_type: "publication"
                    },
                        t.a = Object(p.b)(function (e) {
                            return {
                                ua: e.env.userAgent
                            }
                        }, {})(w)
                }
            ).call(this, n(26))
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return s
            });
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(391)
                , u = n.n(c)
                , l = o.a.createElement("span", {
                className: "Yuan-symbol"
            }, "¥");

            function s(e) {
                var t = e.component
                    , n = e.value
                    , r = e.cent
                    , a = e.precision
                    , c = e.className
                    , u = e.children;
                if (null != n || null != r) {
                    var s = null == n ? r / 100 : Number(n);
                    return o.a.createElement(t, {
                        className: i()("Yuan", c)
                    }, l, s.toFixed(a))
                }
                return o.a.createElement(t, {
                    className: i()("Yuan", c)
                }, l, u)
            }

            s.defaultProps = {
                component: "span",
                precision: 2
            },
                s.css = u.a
        }, ,
        function (e, t, n) {
            "use strict";
            var r = n(30)
                , o = n.n(r);
            t.a = o.a
        }, , , ,
        function (e, t, n) {
            "use strict";

            function r() {
                this.next = "",
                    this.items = [],
                    this.isFetching = !1,
                    this.isDrained = !1
            }

            n.d(t, "a", function () {
                return r
            })
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(86)
                , i = o.a.createElement(a.a, {
                className: "PubIndex-bookListSpinner"
            });
            t.a = i
        },
        function (e, t, n) {
            "use strict";
            var r = n(55);
            n.d(t, "a", function () {
                return r.a
            }),
                n.d(t, "b", function () {
                    return r.b
                }),
                n.d(t, "c", function () {
                    return r.c
                }),
                n.d(t, "d", function () {
                    return r.m
                }),
                n.d(t, "e", function () {
                    return r.p
                })
        }, , , , ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(190)
                , u = n(4)
                , l = n(388)
                , s = function (e) {
                var t = e.ua
                    , n = e.text
                    , r = t.Mobile || t.Android;
                return o.a.createElement("span", {
                    className: i()("CornerText", {
                        Mobile: r
                    })
                }, n)
            };
            s.css = n.n(l).a;
            var f = Object(u.b)(function (e) {
                return {
                    ua: e.env.userAgent
                }
            })(s)
                , p = n(389)
                , m = n.n(p)
                , b = n(390)
                , d = function (e) {
                var t = e.text
                    , n = e.className
                    , r = e.ua
                    , a = void 0 === r ? {} : r
                    , c = e.mediaIcon;
                return o.a.createElement("div", {
                    className: i()("root", "newUI", n)
                }, c && o.a.createElement("img", {
                    src: c,
                    className: i()("contentType")
                }), o.a.createElement("span", {
                    className: i()("productType", a.Android && "android")
                }, t))
            };
            d.css = n.n(b).a;
            var y = d;

            function h(e) {
                return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function v(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function g(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function O(e, t) {
                return !t || "object" !== h(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function E(e) {
                return (E = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function w(e, t) {
                return (w = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var S = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        O(this, E(t).apply(this, arguments))
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && w(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.cornerText
                            , n = e.className
                            , r = e.type
                            , a = e.mediaIcon
                            , u = v(e, ["cornerText", "className", "type", "mediaIcon"]);
                        return o.a.createElement("div", {
                            className: i()("BookCoverWrapper", n)
                        }, o.a.createElement(c.a, u), t && o.a.createElement(f, {
                            text: t
                        }), r && o.a.createElement(y, {
                            text: r,
                            mediaIcon: a
                        }))
                    }
                }]) && g(n.prototype, r),
                a && g(n, a),
                    t
            }();
            S.css = m.a;
            var P = S;
            t.a = P
        },
        function (e, t, n) {
            "use strict";
            (function (e) {
                    n.d(t, "c", function () {
                        return c
                    }),
                        n.d(t, "d", function () {
                            return u
                        }),
                        n.d(t, "e", function () {
                            return l
                        }),
                        n.d(t, "g", function () {
                            return s
                        }),
                        n.d(t, "b", function () {
                            return f
                        }),
                        n.d(t, "f", function () {
                            return p
                        }),
                        n.d(t, "a", function () {
                            return b
                        });
                    var r = n(5);

                    function o(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {}
                                , r = Object.keys(n);
                            "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                return Object.getOwnPropertyDescriptor(n, e).enumerable
                            }))),
                                r.forEach(function (t) {
                                    a(e, t, n[t])
                                })
                        }
                        return e
                    }

                    function a(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }

                    var i = o({}, Object(r.a)("pub", ["GET_BOOKINFO", "GET_COMMENTS", "GET_EXTENDINFO", "TOGGLE_VOTEBOOK", "GET_BUYINFO", "GET_AUTHORS_OTHER_BOOKS", "TOGGLE_FOLLOW_AUTHOR"]), Object(r.b)("pub", ["TOGGLE_SUBSCRIBE_STATUS"]));

                    function c(e) {
                        return function (t, n) {
                            var r = n().env.userAgent
                                , o = r.Mobile || r.Android ? {} : {
                                include: "pub_time,dci_number,dci_cert,categories,authors[*].url_token,is_following,badge[?topics]"
                            };
                            return t({
                                API: {
                                    types: i.GET_BOOKINFO,
                                    endpoint: "v3/books/".concat(e),
                                    query: o
                                },
                                token: e
                            })
                        }
                    }

                    function u(e, t) {
                        return function (n) {
                            return n({
                                API: {
                                    types: i.GET_COMMENTS,
                                    root: "https://api.zhihu.com/",
                                    endpoint: "wallet-halley/sku/".concat(e, "/reviews"),
                                    query: {
                                        limit: 10,
                                        order_by: "word_cnt"
                                    }
                                },
                                token: t
                            })
                        }
                    }

                    function l(e) {
                        return function (t, n) {
                            var r = n().env.userAgent
                                , o = r.Mobile || r.Android ? {} : {
                                recommends_count: 10,
                                include: "recommend.data[*].promotion"
                            };
                            return t({
                                API: {
                                    types: i.GET_EXTENDINFO,
                                    endpoint: "v3/books/".concat(e, "/extend_info"),
                                    query: o
                                },
                                token: e
                            })
                        }
                    }

                    function s(e, t, n) {
                        return {
                            API: {
                                types: i.TOGGLE_VOTEBOOK,
                                endpoint: t ? "v3/books/".concat(e, "/voters/").concat(n) : "v3/books/".concat(e, "/voters"),
                                method: t ? "DELETE" : "POST"
                            },
                            token: e,
                            isVoted: t
                        }
                    }

                    function f(e) {
                        return {
                            API: {
                                types: i.GET_AUTHORS_OTHER_BOOKS,
                                endpoint: "v3/books/".concat(e, "/authors/other_books")
                            },
                            token: e
                        }
                    }

                    function p(e) {
                        return {
                            type: i.TOGGLE_SUBSCRIBE_STATUS,
                            token: e
                        }
                    }

                    var m = {
                        buyInfo: {}
                    };

                    function b() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : m
                            , t = arguments.length > 1 ? arguments[1] : void 0;
                        switch (t.type) {
                            case i.GET_BOOKINFO.success:
                                var n = t.token;
                                return o({}, e, a({}, n, o({}, e[n], {
                                    bookInfo: t.payload
                                })));
                            case i.GET_BOOKINFO.failure:
                                var r = t.token
                                    , c = t.err
                                    , u = e[r] || {};
                                return o({}, e, a({}, r, o({}, u, {
                                    bookInfo: o({}, u.bookInfo, {
                                        isFetching: !1,
                                        error: c
                                    })
                                })));
                            case i.GET_COMMENTS.success:
                                var l = t.token;
                                return o({}, e, a({}, l, o({}, e[l], {
                                    bookComments: t.payload
                                })));
                            case i.GET_EXTENDINFO.request:
                                var s = t.token
                                    , f = e[s] || {};
                                return o({}, e, a({}, s, o({}, f, {
                                    extendInfo: o({}, f.extendInfo, {
                                        isFetching: !0
                                    })
                                })));
                            case i.GET_EXTENDINFO.success:
                                var p = t.token;
                                return o({}, e, a({}, p, o({}, e[p], {
                                    extendInfo: o({}, t.payload, {
                                        isFetching: !1
                                    })
                                })));
                            case i.GET_EXTENDINFO.failure:
                                var b = t.token
                                    , d = e[b] || {};
                                return o({}, e, a({}, b, o({}, d, {
                                    extendInfo: o({}, d.extendInfo, {
                                        isFetching: !1
                                    })
                                })));
                            case i.GET_BUYINFO.request:
                                return o({}, e, {
                                    buyInfo: o({}, e.buyInfo, {
                                        isFetching: !0
                                    })
                                });
                            case i.GET_BUYINFO.success:
                                return o({}, e, {
                                    buyInfo: o({}, t.payload, {
                                        isFetching: !1
                                    })
                                });
                            case i.GET_BUYINFO.failure:
                                return o({}, e, {
                                    buyInfo: o({}, e.buyInfo, {
                                        isFetching: !1
                                    })
                                });
                            case i.TOGGLE_SUBSCRIBE_STATUS:
                                var y = t.token
                                    , h = e[y]
                                    , v = h.bookInfo.isSubscribed;
                                return o({}, e, a({}, y, o({}, h, {
                                    bookInfo: o({}, h.bookInfo, {
                                        isSubscribed: !v
                                    })
                                })));
                            case i.GET_AUTHORS_OTHER_BOOKS.success:
                                var g = t.token
                                    , O = t.payload.data;
                                return o({}, e, a({}, g, o({}, e[g], {
                                    authorsOtherBooks: O
                                })));
                            case i.TOGGLE_FOLLOW_AUTHOR.success:
                                var E = t.bookId
                                    , w = t.userToken
                                    , S = t.isFollowing
                                    , P = e[E];
                                return o({}, e, a({}, E, o({}, P, {
                                    bookInfo: o({}, P.bookInfo, {
                                        authors: P.bookInfo.authors.map(function (e) {
                                            return o({}, e, {
                                                isFollowing: e.urlToken === w ? !S : e.isFollowing
                                            })
                                        })
                                    })
                                })));
                            case i.TOGGLE_VOTEBOOK.success:
                                var k = t.token
                                    , j = t.isVoted
                                    , _ = e[k]
                                    , T = _.bookInfo.voteCount;
                                return o({}, e, a({}, k, o({}, _, {
                                    bookInfo: o({}, _.bookInfo, {
                                        isVoted: !j,
                                        voteCount: j ? T - 1 : T + 1
                                    })
                                })));
                            default:
                                return e
                        }
                    }
                }
            ).call(this, n(26))
        },
        function (e, t, n) {
            "use strict";
            var r = n(190);
            t.a = r.a
        }, , ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(3)
                , u = n(8)
                , l = n(118)
                , s = n(769)
                , f = n(182)
                , p = n.n(f);

            function m(e) {
                return (m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function b(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function d(e, t) {
                return !t || "object" !== m(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function y(e) {
                return (y = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function h(e, t) {
                return (h = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var v = function (e) {
                var t = function (t) {
                    function n() {
                        return function (e, t) {
                            if (!(e instanceof t))
                                throw new TypeError("Cannot call a class as a function")
                        }(this, n),
                            d(this, y(n).apply(this, arguments))
                    }

                    var r, a, i;
                    return function (e, t) {
                        if ("function" != typeof t && null !== t)
                            throw new TypeError("Super expression must either be null or a function");
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                writable: !0,
                                configurable: !0
                            }
                        }),
                        t && h(e, t)
                    }(n, o.a.Component),
                        r = n,
                    (a = [{
                        key: "render",
                        value: function () {
                            return o.a.createElement(e, this.props)
                        }
                    }]) && b(r.prototype, a),
                    i && b(r, i),
                        n
                }();
                return t.displayName = e.displayName || e.name || "Classified",
                    p()(t, e),
                    t
            }
                , g = n(430)
                , O = n.n(g);

            function E(e) {
                return (E = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function w(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function S(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function P(e, t) {
                return !t || "object" !== E(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function k(e) {
                return (k = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function j(e, t) {
                return (j = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var _ = v(s.a)
                , T = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        P(this, k(t).apply(this, arguments))
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && j(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.component
                            , n = e.className
                            , r = e.address
                            , a = e.editable
                            , s = e.handleDelete
                            , f = e.onEditIconClick
                            ,
                            p = w(e, ["component", "className", "address", "editable", "handleDelete", "onEditIconClick"]);
                        if (!r)
                            return null;
                        var m = r.id
                            , b = r.name
                            , d = r.phone
                            , y = r.detail
                            , h = r.regions
                            , v = r.province
                            , g = void 0 === v ? "" : v
                            , O = r.city
                            , E = void 0 === O ? "" : O
                            , S = r.county
                            , P = void 0 === S ? "" : S
                            , k = h ? h.reduce(function (e, t) {
                            return "".concat(e).concat(t.name)
                        }, "") : "".concat(g).concat(E).concat(P);
                        return o.a.createElement(t, Object.assign({
                            className: i()("Pub-address", n)
                        }, p), o.a.createElement("div", {
                            className: "person"
                        }, b, " ", d, a && o.a.createElement(l.a, {
                            toggler: o.a.createElement(_, null),
                            className: "dotsIcon",
                            targetClassName: "Pub-address-popover",
                            toggleEvent: "click",
                            onClick: f,
                            arrowed: !0,
                            placement: "top"
                        }, o.a.createElement("span", {
                            className: "popover-content"
                        }, o.a.createElement(c.c, {
                            to: "/pub/selection/addresses/".concat(m),
                            className: "edit"
                        }, "编辑"), o.a.createElement(u.c, {
                            preset: "link",
                            onClick: function (e) {
                                e.stopPropagation(),
                                    s(r)
                            },
                            className: "delete"
                        }, "删除")))), o.a.createElement("p", {
                            className: "addressDetail"
                        }, k, y))
                    }
                }]) && S(n.prototype, r),
                a && S(n, a),
                    t
            }();
            T.defaultProps = {
                component: "div",
                editable: !1,
                handleDelete: function () {
                },
                onEditIconClick: function (e) {
                    e.stopPropagation()
                }
            },
                T.css = O.a;
            var C = T
                , N = n(91)
                , I = n(7);
            n(752);

            function A(e) {
                return (A = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function x(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function D(e) {
                return (D = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function R(e, t) {
                return (R = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function L(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var B = function (e) {
                function t() {
                    var e, n, r, o, a, i, c;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var u = arguments.length, l = new Array(u), s = 0; s < u; s++)
                        l[s] = arguments[s];
                    return r = this,
                        o = (e = D(t)).call.apply(e, [this].concat(l)),
                        n = !o || "object" !== A(o) && "function" != typeof o ? L(r) : o,
                        a = L(L(n)),
                        c = function (e) {
                            e.target === e.currentTarget && n.props.onClose()
                        }
                        ,
                        (i = "handleClickPortal") in a ? Object.defineProperty(a, i, {
                            value: c,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : a[i] = c,
                        n
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && R(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.data
                            , n = e.onClickItem
                            , r = e.onDeleteItem;
                        return o.a.createElement(N.a, {
                            className: "Pub-addressListPortal",
                            onClick: this.handleClickPortal
                        }, o.a.createElement("div", {
                            className: "content"
                        }, o.a.createElement("div", {
                            className: "titleLine"
                        }, o.a.createElement("h2", {
                            className: "title"
                        }, "切换地址"), o.a.createElement(c.c, {
                            className: "create",
                            to: "/pub/selection/addresses"
                        }, "新增地址")), Object(I.i)(t) && o.a.createElement("ul", {
                            className: "list"
                        }, t.map(function (e) {
                            return o.a.createElement(C, {
                                className: "item",
                                address: e,
                                editable: !0,
                                onClick: function () {
                                    return n(e)
                                },
                                handleDelete: r,
                                key: e.id,
                                component: "li"
                            })
                        }))))
                    }
                }]) && x(n.prototype, r),
                a && x(n, a),
                    t
            }();
            B.defaultProps = {
                onClose: function () {
                },
                onClickItem: function () {
                },
                onDeleteItem: function () {
                }
            };
            var M = B
                , G = n(45)
                , U = n.n(G)
                , F = n(14)
                , z = n(431)
                , q = n.n(z);

            function H(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function W(e) {
                var t = e.component
                    , n = e.order
                    , r = e.className
                    , a = e.children
                    , c = H(e, ["component", "order", "className", "children"])
                    , u = n.product
                    , l = n.unitPrice
                    , s = n.quantity
                    , f = u.cover
                    , p = u.title;
                return o.a.createElement(t, Object.assign({
                    className: i()(r, "Pub-orderSelection")
                }, c), o.a.createElement("img", {
                    src: f,
                    className: "cover",
                    alt: "",
                    width: "80",
                    height: "80"
                }), o.a.createElement("div", {
                    className: "info"
                }, o.a.createElement(U.a, {
                    className: "title",
                    text: p,
                    maxLine: 2,
                    lineHeight: "1.4em"
                }), o.a.createElement("span", null, o.a.createElement(F.a, {
                    cent: l
                }), o.a.createElement("span", {
                    className: "times"
                }, " × "), s), a))
            }

            W.defaultProps = {
                component: "div"
            },
                W.css = q.a;
            var V = W
                , K = n(94)
                , Y = n(432)
                , Z = n.n(Y);

            function Q(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function X(e) {
                var t = e.component
                    , n = e.className
                    , r = Q(e, ["component", "className"]);
                return o.a.createElement(t, Object.assign({
                    className: i()(n, "Pub-orderButton")
                }, r))
            }

            X.defaultProps = {
                component: K.a
            },
                X.css = Z.a;
            var J = X
                , $ = n(12)
                , ee = n(433)
                , te = n.n(ee);

            function ne(e) {
                return (ne = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function re(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function oe(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function ae(e) {
                return (ae = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function ie(e, t) {
                return (ie = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function ce(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function ue(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var le = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = ae(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== ne(o) && "function" != typeof o ? ce(r) : o,
                        ue(ce(ce(n)), "handleInput", function (e) {
                            var t = e.target.value
                                , r = n.props
                                , o = r.min
                                , a = r.max
                                , i = r.onChange;
                            "" !== t ? i(Object(I.b)(Number(t) || 0, o, a), e) : i("", e)
                        }),
                        ue(ce(ce(n)), "handleClickMinus", function (e) {
                            var t = n.props
                                , r = t.value
                                , o = t.min
                                , a = t.max;
                            (0,
                                t.onChange)(Object(I.b)((Number(r) || 0) - 1, o, a), e)
                        }),
                        ue(ce(ce(n)), "handleClickPlus", function (e) {
                            var t = n.props
                                , r = t.value
                                , o = t.min
                                , a = t.max;
                            (0,
                                t.onChange)(Object(I.b)((Number(r) || 0) + 1, o, a), e)
                        }),
                        n
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && ie(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.component
                            , n = e.className
                            , r = e.value
                            , a = e.disabled
                            , c = e.theme
                            , u = e.minusButtonContent
                            , l = e.plusButtonContent
                            , s = e.min
                            , f = e.max
                            , p = (e.onChange,
                                e.inputProps)
                            ,
                            m = re(e, ["component", "className", "value", "disabled", "theme", "minusButtonContent", "plusButtonContent", "min", "max", "onChange", "inputProps"]);
                        return o.a.createElement(t, Object.assign({
                            className: i()("Pub-CountInput theme-".concat(c), n)
                        }, m), o.a.createElement("button", {
                            onClick: this.handleClickMinus,
                            disabled: a || Number(r) <= s,
                            type: "button"
                        }, u), o.a.createElement("input", Object.assign({
                            value: r,
                            min: isFinite(s) ? s : void 0,
                            max: isFinite(f) ? f : void 0,
                            onChange: this.handleInput,
                            type: "number",
                            pattern: "[0-9]*",
                            disabled: a
                        }, p)), o.a.createElement("button", {
                            onClick: this.handleClickPlus,
                            disabled: a || Number(r) >= f,
                            type: "button"
                        }, l))
                    }
                }]) && oe(n.prototype, r),
                a && oe(n, a),
                    t
            }();
            le.defaultProps = {
                component: "span",
                min: 0,
                max: 1 / 0,
                value: "",
                disabled: !1,
                onChange: function () {
                },
                inputProps: {},
                theme: "default",
                minusButtonContent: o.a.createElement($.a, {
                    src: n(484)
                }),
                plusButtonContent: o.a.createElement($.a, {
                    src: n(266)
                })
            },
                le.css = te.a;
            var se = le
                , fe = n(10)
                , pe = n(57);

            function me(e) {
                return (me = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function be(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function de(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function ye(e) {
                return (ye = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function he(e, t) {
                return (he = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function ve(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function ge(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            function Oe() {
            }

            var Ee = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = ye(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== me(o) && "function" != typeof o ? ve(r) : o,
                        ge(ve(ve(n)), "state", {
                            showModal: !1
                        }),
                        ge(ve(ve(n)), "handleClick", function (e) {
                            n.state.showModal || (!1 === n.props.onClick(e) || e.defaultPrevented || (e.preventDefault(),
                                n.setState({
                                    showModal: !0
                                })))
                        }),
                        ge(ve(ve(n)), "handleCloseModal", function () {
                            n.setState({
                                showModal: !1
                            })
                        }),
                        ge(ve(ve(n)), "handleConfirm", function () {
                            return n.props.handleConfirm().then(function () {
                                return n.handleCloseModal()
                            })
                        }),
                        n
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && he(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentWillUnmount",
                    value: function () {
                        this.handleCloseModal = Oe
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = (e.handleConfirm,
                            e.title)
                            , n = e.subtitle
                            , r = e.children
                            , a = be(e, ["handleConfirm", "title", "subtitle", "children"])
                            , i = this.state.showModal;
                        return o.a.createElement(K.a, Object.assign({}, a, {
                            onClick: this.handleClick
                        }), r, i && o.a.createElement(pe.b, {
                            title: t,
                            subtitle: n,
                            onClose: this.handleCloseModal,
                            closeButton: null,
                            buttonGroupOnly: !0
                        }, o.a.createElement(pe.a, null, o.a.createElement(K.a, {
                            preset: "primary",
                            color: "blue",
                            onClick: this.handleConfirm
                        }, "确认"), o.a.createElement(K.a, {
                            onClick: this.handleCloseModal
                        }, "取消"))))
                    }
                }]) && de(n.prototype, r),
                a && de(n, a),
                    t
            }();
            Ee.defaultProps = {
                title: "",
                subtitle: "",
                handleConfirm: function () {
                },
                onClick: function () {
                }
            };
            var we = Ee;

            function Se(e) {
                return (Se = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Pe(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function ke(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function je(e) {
                return (je = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function _e(e, t) {
                return (_e = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Te(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var Ce = "申请退款"
                , Ne = function (e) {
                function t() {
                    var e, n, r, o, a, i, c;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var u = arguments.length, l = new Array(u), s = 0; s < u; s++)
                        l[s] = arguments[s];
                    return r = this,
                        n = !(o = (e = je(t)).call.apply(e, [this].concat(l))) || "object" !== Se(o) && "function" != typeof o ? Te(r) : o,
                        a = Te(Te(n)),
                        c = function (e) {
                            fe.a.trackEvent(e.target, {
                                id: 2054
                            }, {
                                button: {
                                    text: Ce
                                }
                            })
                        }
                        ,
                        (i = "onClick") in a ? Object.defineProperty(a, i, {
                            value: c,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : a[i] = c,
                        n
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && _e(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.handleRefund
                            , n = Pe(e, ["handleRefund"]);
                        return o.a.createElement(we, Object.assign({
                            title: "确认退款",
                            subtitle: "退款将于 2 个工作日内原路返回至你的支付账户。"
                        }, n, {
                            onClick: this.onClick,
                            handleConfirm: t,
                            "data-za-detail-view-id": 2054
                        }), Ce)
                    }
                }]) && ke(n.prototype, r),
                a && ke(n, a),
                    t
            }();
            Ne.defaultProps = {
                handleRefund: function () {
                }
            };
            var Ie = Ne;

            function Ae(e) {
                return (Ae = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function xe(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function De(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Re(e, t) {
                return !t || "object" !== Ae(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function Le(e) {
                return (Le = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Be(e, t) {
                return (Be = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var Me = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        Re(this, Le(t).apply(this, arguments))
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Be(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.handleReceive
                            , n = xe(e, ["handleReceive"]);
                        return o.a.createElement(we, Object.assign({
                            title: "确认收货",
                            subtitle: "收货后如有疑问请联系客服"
                        }, n, {
                            handleConfirm: t
                        }), "确认收货")
                    }
                }]) && De(n.prototype, r),
                a && De(n, a),
                    t
            }();
            Me.defaultProps = {
                handleReceive: function () {
                }
            };
            var Ge = Me
                , Ue = n(4)
                , Fe = n(138)
                , ze = n.n(Fe)
                , qe = n(434)
                , He = n.n(qe)
                , We = n(435)
                , Ve = n.n(We)
                , Ke = {
                jingdong: "京东物流",
                shunfeng: "顺丰速运",
                shentong: "申通快递",
                zhongtong: "中通快递",
                yuantong: "圆通速递",
                yunda: "韵达快递",
                huitongkuaidi: "百世快递"
            }
                , Ye = n(181);
            n(753);

            function Ze(e) {
                return (Ze = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Qe(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Xe(e, t) {
                return !t || "object" !== Ze(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function Je(e) {
                return (Je = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function $e(e, t) {
                return ($e = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function et(e) {
                var t = e.time
                    , n = e.context
                    , r = "";
                return r = He()(t) ? "今天" : Ve()(t) ? "昨天" : ze()(t, "M-D"),
                    o.a.createElement("li", {
                        className: "ShippingInfo-item"
                    }, o.a.createElement("span", {
                        className: "timeline"
                    }), o.a.createElement("span", {
                        className: "timeWrapper"
                    }, o.a.createElement("span", {
                        className: "time"
                    }, o.a.createElement("span", {
                        className: "date"
                    }, r), o.a.createElement("span", {
                        className: "clock"
                    }, ze()(t, "HH:mm")))), o.a.createElement("span", {
                        className: "context"
                    }, n))
            }

            function tt(e) {
                var t, n, r, a = e.provider, c = null;
                switch (a) {
                    case "kuaidi100":
                        c = o.a.createElement("a", {
                            href: "//m.kuaidi100.com/",
                            target: "_blank"
                        }, o.a.createElement("img", {
                            src: "//cdn.kuaidi100.com/images/logo.png",
                            width: "66",
                            height: "30",
                            alt: ""
                        }), "数据来自快递100");
                        break;
                    default:
                        return null
                }
                return o.a.createElement("div", {
                    className: i()("ProviderBanner", (t = {},
                        n = "ProviderBanner-".concat(a),
                        r = a,
                        n in t ? Object.defineProperty(t, n, {
                            value: r,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : t[n] = r,
                        t))
                }, c)
            }

            var nt = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        Xe(this, Je(t).apply(this, arguments))
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && $e(e, t)
                }(t, o.a.Component),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props
                            , t = e.dispatch
                            , n = e.data
                            , r = e.orderId;
                        n || t(Object(Ye.b)(r))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.data
                            , n = e.provider
                            , r = e.expressCompany
                            , a = e.courierNumber
                            , i = e.showProviderBanner;
                        return t ? o.a.createElement("div", {
                            className: "ShippingInfo"
                        }, r && Ke[r] && o.a.createElement("h3", {
                            className: "expressCompany"
                        }, Ke[r]), a && o.a.createElement("p", {
                            className: "courierNumberLine"
                        }, "运单号：", a), o.a.createElement("ol", {
                            className: "ShippingInfo-list"
                        }, t.map(function (e, t) {
                            return o.a.createElement(et, Object.assign({
                                key: t
                            }, e))
                        })), i && o.a.createElement(tt, {
                            provider: n
                        })) : null
                    }
                }]) && Qe(n.prototype, r),
                a && Qe(n, a),
                    t
            }();
            nt.defaultProps = {
                showProviderBanner: !0
            };
            var rt = Object(Ue.b)(function (e, t) {
                return e.shipping[t.orderId] || {}
            })(nt)
                , ot = Object(Ue.b)(function (e) {
                return {
                    ua: e.env.userAgent
                }
            })(function (e) {
                var t, n = e.ua, r = e.servicer;
                return t = "string" == typeof r ? r : "/inbox/".concat(n.Zhihu ? r.urlToken : r.messageThreadToken),
                    o.a.createElement(u.c, {
                        component: "a",
                        className: "opButton",
                        href: t,
                        "data-za-detail-view-id": 2051
                    }, "联系客服")
            });
            n.d(t, "a", function () {
                return C
            }),
                n.d(t, "b", function () {
                    return M
                }),
                n.d(t, "e", function () {
                    return V
                }),
                n.d(t, "d", function () {
                    return J
                }),
                n.d(t, "c", function () {
                    return se
                }),
                n.d(t, "g", function () {
                    return Ie
                }),
                n.d(t, "f", function () {
                    return Ge
                }),
                n.d(t, "i", function () {
                    return rt
                }),
                n.d(t, "h", function () {
                    return ot
                })
        }, ,
        function (e, t, n) {
            "use strict";
            n.d(t, "f", function () {
                return w
            }),
                n.d(t, "c", function () {
                    return k
                }),
                n.d(t, "e", function () {
                    return _
                }),
                n.d(t, "d", function () {
                    return S
                }),
                n.d(t, "a", function () {
                    return P
                }),
                n.d(t, "b", function () {
                    return j
                });
            var r = n(0)
                , o = n.n(r)
                , a = n(4)
                , i = n(2)
                , c = n.n(i)
                , u = n(45)
                , l = n.n(u)
                , s = n(8)
                , f = n(13)
                , p = n(14)
                , m = n(27)
                , b = n(7)
                , d = n(198)
                , y = n.n(d);

            function h(e) {
                return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function v(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function g(e, t) {
                return !t || "object" !== h(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function O(e) {
                return (O = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function E(e, t) {
                return (E = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function w(e) {
                var t = e.Component
                    , n = void 0 === t ? "li" : t
                    , r = e.className
                    , a = e.id
                    , i = e.cover
                    , u = e.title
                    , l = e.authors
                    , s = e.promotion
                    , d = e.imageDefer
                    , y = s[s.isPromotion ? "promotionPrice" : "price"]
                    , h = Object(b.o)(l);
                return o.a.createElement(n, {
                    className: c()("BookItem", r)
                }, o.a.createElement(f.a, {
                    to: "/pub/book/".concat(a)
                }, o.a.createElement(m.a, {
                    className: "BookItem-cover",
                    src: i,
                    width: "150",
                    height: "200",
                    alt: u,
                    defer: d,
                    cornerText: s.isPromotion ? "SALE" : ""
                }), o.a.createElement("div", {
                    className: "BookItem-title"
                }, u), o.a.createElement("div", {
                    className: "BookItem-authors"
                }, h), o.a.createElement("div", {
                    className: "BookItem-promotion"
                }, s.isPromotion && o.a.createElement(p.a, {
                    cent: s.price,
                    className: "BookItem-value"
                }), y ? o.a.createElement(p.a, {
                    cent: y,
                    className: "BookItem-price"
                }) : o.a.createElement("span", {
                    className: "BookItem-price"
                }, "免费"))))
            }

            w.css = y.a;
            var S = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        g(this, O(t).apply(this, arguments))
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && E(e, t)
                }(t, o.a.Component),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.book
                            , n = e.className
                            , r = t.promotion
                            , a = r[r.isPromotion ? "promotionPrice" : "price"] && !t.isOwn ? "购买" : "阅读";
                        return o.a.createElement("div", {
                            className: c()("PubBookListItem", n)
                        }, o.a.createElement(f.a, {
                            to: "/pub/book/".concat(t.id),
                            className: "PubBookListItem-main"
                        }, o.a.createElement(m.a, {
                            className: "PubBookListItem-image",
                            src: t.cover,
                            width: "120",
                            height: "161",
                            alt: t.title
                        }), o.a.createElement("span", {
                            className: "PubBookListItem-info"
                        }, o.a.createElement("span", {
                            className: "PubBookListItem-title"
                        }, t.title), o.a.createElement("span", {
                            className: "PubBookListItem-author"
                        }, Object(b.o)(t.authors)), o.a.createElement("span", {
                            className: "PubBookListItem-promotion"
                        }, r.isPromotion && o.a.createElement(_, {
                            className: "PubBookListItem-price",
                            cent: r.promotionPrice
                        }), o.a.createElement(_, {
                            className: "PubBookListItem-value",
                            cent: r.price
                        })), o.a.createElement(l.a, {
                            className: "PubBookListItem-description",
                            text: t.description.trim(),
                            maxLine: "2",
                            lineHeight: "1.385em"
                        }))), o.a.createElement(f.a, {
                            to: "/pub/book/".concat(t.id),
                            className: "PubBookListItem-buttonWrapper"
                        }, o.a.createElement(s.c, {
                            color: "blue",
                            preset: "primary",
                            className: "hide-sm"
                        }, "点击", a), o.a.createElement(s.c, {
                            color: "blue",
                            className: "show-sm"
                        }, a)))
                    }
                }]) && v(n.prototype, r),
                a && v(n, a),
                    t
            }();

            function P(e) {
                var t = e.component
                    , n = void 0 === t ? "div" : t
                    , r = e.book
                    , a = r.id
                    , i = r.cover
                    , c = r.title
                    , u = r.authors
                    , s = r.description
                    , d = r.promotion
                    , y = r.isOwn
                    , h = Object(b.o)(u);
                return o.a.createElement(n, {
                    className: "PubBookListItem"
                }, o.a.createElement(f.a, {
                    to: "/pub/book/".concat(a),
                    className: "PubBookListItem-main"
                }, o.a.createElement(m.a, {
                    className: "PubBookListItem-image",
                    width: "120",
                    height: "161",
                    src: i,
                    alt: c
                }), o.a.createElement("span", {
                    className: "PubBookListItem-info"
                }, o.a.createElement("span", {
                    className: "PubBookListItem-title"
                }, c), o.a.createElement("span", {
                    className: "PubBookListItem-author"
                }, h), o.a.createElement("span", {
                    className: "PubBookListItem-promotion"
                }, y ? "已购买" : o.a.createElement("span", null, "原价：", o.a.createElement(p.a, {
                    cent: d.price
                }))), o.a.createElement(l.a, {
                    className: "PubBookListItem-description",
                    text: s.trim(),
                    maxLine: 2,
                    lineHeight: "1.385em"
                }))))
            }

            var k = Object(a.b)(function (e) {
                return {
                    ua: e.env.userAgent
                }
            })(function (e) {
                var t = e.component
                    , n = void 0 === t ? "li" : t
                    , r = e.className
                    , a = e.isUnread
                    , i = e.ua
                    , u = e.id
                    , l = e.cover
                    , s = e.title
                    , p = e.isOwn
                    , b = e.promotion
                    , d = e.lastReadChapterName
                    , y = i.Zhihu ? "/pub/book/".concat(u) : "/pub/reader/".concat(u);
                return o.a.createElement(n, {
                    className: c()("PubShelfBookItem", r)
                }, o.a.createElement(f.a, {
                    to: y,
                    className: "PubShelfBookItem-main"
                }, o.a.createElement(m.a, {
                    className: "PubShelfBookItem-cover",
                    src: l,
                    width: "150",
                    height: "200",
                    alt: s,
                    cornerText: b.price > 0 && !p ? "试读" : ""
                }), o.a.createElement("h3", {
                    className: c()("PubShelfBookItem-title", {
                        showNotice: a
                    })
                }, a && o.a.createElement("span", {
                    className: "Pub-redDot"
                }), s), d && o.a.createElement("p", {
                    className: "PubShelfBookItem-chapterName"
                }, "读到：", d)))
            });

            function j(e) {
                var t = e.component
                    , n = void 0 === t ? "div" : t
                    , r = e.book
                    , a = e.className
                    , i = e.hasButton
                    , u = e.imageDefer
                    , p = r.id
                    , d = r.urlSearch
                    , y = void 0 === d ? "" : d;
                return o.a.createElement(n, {
                    className: c()("PubBookListItem", a)
                }, o.a.createElement(f.a, {
                    to: "/pub/book/".concat(p).concat(y),
                    className: "PubBookListItem-main"
                }, o.a.createElement(m.a, {
                    className: "PubBookListItem-image SelfListItem-image",
                    src: r.cover,
                    width: "120",
                    height: "161",
                    alt: r.title,
                    defer: u
                }), o.a.createElement("span", {
                    className: "PubBookListItem-info"
                }, o.a.createElement("span", {
                    className: "PubBookListItem-title"
                }, r.title), o.a.createElement("span", {
                    className: "PubBookListItem-author"
                }, Object(b.o)(r.authors)), o.a.createElement(l.a, {
                    className: "PubBookListItem-description",
                    text: r.description.trim(),
                    maxLine: 2,
                    lineHeight: 18
                }))), i && o.a.createElement(f.a, {
                    to: "/pub/reader/".concat(r.id),
                    className: "PubBookListItem-buttonWrapper"
                }, o.a.createElement(s.c, {
                    color: "blue",
                    preset: "primary",
                    className: "hide-sm"
                }, "点击阅读"), o.a.createElement(s.c, {
                    color: "blue",
                    className: "show-sm"
                }, "阅读")))
            }

            function _(e) {
                return e.cent ? o.a.createElement(p.a, e) : o.a.createElement("span", {
                    className: e.className
                }, "免费")
            }

            k.css = y.a,
                S.css = P.css = j.css = y.a
        }, , , , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "e", function () {
                return r
            }),
                n.d(t, "h", function () {
                    return o
                }),
                n.d(t, "c", function () {
                    return a
                }),
                n.d(t, "f", function () {
                    return i
                }),
                n.d(t, "a", function () {
                    return u
                }),
                n.d(t, "i", function () {
                    return l
                }),
                n.d(t, "g", function () {
                    return f
                }),
                n.d(t, "d", function () {
                    return p
                }),
                n.d(t, "b", function () {
                    return m
                });
            var r = function (e) {
                return "book_vip" === e
            }
                , o = function (e) {
                var t = e.memberRole
                    , n = e.onShelf;
                return r(t) && i(e) && n
            }
                , a = function (e) {
                var t = e.memberRole
                    , n = e.isOwn;
                return r(t) && c(e) && !n
            }
                , i = function (e) {
                var t = e.right;
                return !!t && 0 === t.rightType
            }
                , c = function (e) {
                var t = e.right
                    , n = void 0 === t ? {} : t
                    , r = e.promotion
                    , o = (void 0 === r ? {} : r).originPrice
                    , a = s(e)
                    , i = Math.floor(o * n.rawValue / 100);
                return function (e) {
                    var t = e.right;
                    return !!t && 3 === t.rightType
                }(e) && a >= i
            }
                , u = function (e) {
                var t = e.right.value;
                return c(e) ? "会员 ".concat(t, " 折购买") : i(e) ? "阅读" : "会员特价购买"
            }
                , l = function (e) {
                var t = e.memberRole;
                return !r(t) && (c(e) || i(e))
            }
                , s = function (e) {
                var t = e.promotion
                    , n = void 0 === t ? {} : t;
                return n[n.isPromotion ? "promotionPrice" : "price"]
            }
                , f = function (e) {
                var t = e.isOwn;
                return s(e) > 0 && !t
            }
                , p = function (e) {
                return f(e) ? "试读" : "阅读"
            }
                , m = function (e) {
                var t = e.promotion
                    , n = void 0 === t ? {} : t;
                return !a(e) && !n.isPromotion
            }
        }, , , ,
        function (e, t, n) {
            "use strict";
            var r = n(70);
            t.a = r.a
        }, ,
        function (e, t, n) {
            "use strict";
            n.d(t, "b", function () {
                return p
            }),
                n.d(t, "c", function () {
                    return m
                }),
                n.d(t, "d", function () {
                    return b
                }),
                n.d(t, "a", function () {
                    return y
                });
            var r = n(23)
                , o = n.n(r)
                , a = n(54)
                , i = n.n(a)
                , c = n(5)
                , u = n(20);

            function l(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            s(e, t, n[t])
                        })
                }
                return e
            }

            function s(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var f = Object(c.a)("pub", ["GET_CATEGORY", "GET_CATEGORIES", "GET_CATEGORY_BY_SORT"]);

            function p(e) {
                var t = l({
                    version: "v2"
                }, e && {
                    include: "data[*].top_books"
                });
                return {
                    API: {
                        types: f.GET_CATEGORIES,
                        endpoint: "v3/books/categories",
                        query: t
                    }
                }
            }

            function m(e, t) {
                return function (n, r) {
                    var a = (r().categories[e] || {}).next
                        , i = void 0 === a ? "" : a;
                    return t = l({
                        version: "v2",
                        limit: 10,
                        sort_by: "read_count_7days"
                    }, t || o.a.parse(i, !0).query),
                        n({
                            API: {
                                types: f.GET_CATEGORY,
                                endpoint: "v3/books/categories/".concat(e),
                                query: t
                            },
                            id: e
                        })
                }
            }

            function b(e, t) {
                return function (n, r) {
                    var a = r().categories[e]
                        , c = (a && a[t.sort_by] || {}).next
                        , u = void 0 === c ? "" : c
                        , s = !0;
                    if (u) {
                        var p = o.a.parse(u, !0).query;
                        t.filter_by === (p.filter_by || "all") && (t = p,
                            s = !1)
                    }
                    return "all" === (t = l({}, t, {
                        version: "v2",
                        include: "data[*].".concat(t.sort_by),
                        limit: 10
                    })).filter_by && (t = i()(t, "filter_by")),
                        n({
                            API: {
                                types: f.GET_CATEGORY_BY_SORT,
                                endpoint: "v3/books/categories/".concat(e),
                                query: t
                            },
                            id: e,
                            sort: t.sort_by,
                            newList: s
                        })
                }
            }

            var d = {};

            function y() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : d
                    , t = arguments.length > 1 ? arguments[1] : void 0;
                switch (t.type) {
                    case f.GET_CATEGORIES.success:
                        return l({}, e, {
                            index: t.payload.data
                        });
                    case f.GET_CATEGORY.request:
                        var n = e[t.id] || new u.a;
                        return l({}, e, s({}, t.id, l({}, n, {
                            isFetching: !0
                        })));
                    case f.GET_CATEGORY.success:
                        var r = t.id
                            , o = t.payload
                            , a = o.data
                            , i = o.paging
                            , c = e[r];
                        return l({}, e, s({}, r, {
                            next: i.next,
                            totals: i.totals,
                            items: c.items.concat(a),
                            isFetching: !1,
                            isDrained: i.isEnd
                        }));
                    case f.GET_CATEGORY.failure:
                        var p = e[t.id];
                        return l({}, e, s({}, t.id, l({}, p, {
                            isFetching: !1,
                            isDrained: !0
                        })));
                    case f.GET_CATEGORY_BY_SORT.request:
                        var m = t.id
                            , b = t.sort
                            , y = t.newList
                            , h = e[m] || {};
                        return l({}, e, s({}, m, l({}, h, s({}, b, l({}, y ? new u.a : h[b] || new u.a, {
                            isFetching: !0
                        })))));
                    case f.GET_CATEGORY_BY_SORT.success:
                        var v = t.id
                            , g = t.payload
                            , O = g.name
                            , E = g.data
                            , w = g.totals
                            , S = g.paging
                            , P = t.sort
                            , k = e[v]
                            , j = k[P];
                        return l({}, e, s({}, v, l({}, k, s({
                            name: O,
                            totals: w
                        }, P, {
                            next: S.next,
                            items: j.items.concat(E),
                            isFetching: !1,
                            isDrained: S.isEnd
                        }))));
                    case f.GET_CATEGORY_BY_SORT.failure:
                        var _ = t.sort
                            , T = t.id
                            , C = e[T];
                        return l({}, e, s({}, T, l({}, C, s({}, _, l({}, C[_], {
                            isFetching: !1,
                            isDrained: !0
                        })))));
                    default:
                        return e
                }
            }
        }, ,
        function (e, t, n) {
            "use strict";
            (function (e) {
                    n.d(t, "b", function () {
                        return s
                    }),
                        n.d(t, "c", function () {
                            return f
                        }),
                        n.d(t, "d", function () {
                            return p
                        }),
                        n.d(t, "e", function () {
                            return m
                        }),
                        n.d(t, "f", function () {
                            return b
                        }),
                        n.d(t, "a", function () {
                            return y
                        });
                    var r = n(23)
                        , o = n.n(r)
                        , a = n(20)
                        , i = n(5);

                    function c(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {}
                                , r = Object.keys(n);
                            "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                return Object.getOwnPropertyDescriptor(n, e).enumerable
                            }))),
                                r.forEach(function (t) {
                                    u(e, t, n[t])
                                })
                        }
                        return e
                    }

                    function u(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }

                    var l = Object(i.a)("pub", ["GET_AUDIO_BOOK_INFO", "GET_AUDIO_BOOK_CHAPTERS", "GET_AUDIO_BOOK_ALL", "GET_AUDIO_BOOK_LIST", "GET_AUDIO_BOOK_RECOMMEND", "GET_AUDIO_BOOK_SELF", "GET_AUDIO_BOOK_BUY_INFO"]);

                    function s(e) {
                        return {
                            API: {
                                types: l.GET_AUDIO_BOOK_ALL,
                                endpoint: "v3/books/audio/".concat(e, "/all")
                            },
                            token: e
                        }
                    }

                    function f() {
                        return function (e, t) {
                            var n = (t().audioBook.list || {}).next
                                , r = void 0 === n ? "" : n;
                            return e({
                                API: {
                                    types: l.GET_AUDIO_BOOK_LIST,
                                    endpoint: "v3/books/audio/list",
                                    query: c({
                                        limit: 10
                                    }, o.a.parse(r, !0).query)
                                }
                            })
                        }
                    }

                    function p() {
                        return {
                            API: {
                                types: l.GET_AUDIO_BOOK_RECOMMEND,
                                method: "GET",
                                endpoint: "v3/books/audio/list",
                                query: {
                                    limit: 4
                                }
                            }
                        }
                    }

                    function m() {
                        return function (e, t) {
                            var n = t().audioBook.self.next;
                            return e({
                                API: {
                                    types: l.GET_AUDIO_BOOK_SELF,
                                    endpoint: "v3/books/purchase",
                                    query: c({
                                        limit: 10,
                                        item_type: "AUDIO"
                                    }, o.a.parse(n, !0).query)
                                }
                            })
                        }
                    }

                    function b(t) {
                        var n = new e.FormData;
                        return n.append("token", t),
                            n.append("type", 2),
                            {
                                API: {
                                    types: l.GET_AUDIO_BOOK_BUY_INFO,
                                    endpoint: "v3/books/orders",
                                    method: "POST",
                                    body: n
                                }
                            }
                    }

                    var d = {
                        self: new a.a
                    };

                    function y() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : d
                            , t = arguments.length > 1 ? arguments[1] : void 0;
                        switch (t.type) {
                            case l.GET_AUDIO_BOOK_INFO.success:
                                var n = t.token
                                    , r = t.payload;
                                return c({}, e, u({}, n, c({}, e[n] || {}, {
                                    info: c({}, r, {
                                        isFetching: !1
                                    })
                                })));
                            case l.GET_AUDIO_BOOK_CHAPTERS.success:
                                var o = t.token
                                    , a = t.payload;
                                return c({}, e, u({}, o, c({}, e[o] || {}, {
                                    chapters: {
                                        items: a
                                    }
                                })));
                            case l.GET_AUDIO_BOOK_ALL.success:
                                var i = t.token
                                    , s = t.payload;
                                return c({}, e, u({}, i, c({}, e[i] || {}, {
                                    info: s.data,
                                    chapters: s.chapters
                                })));
                            case l.GET_AUDIO_BOOK_ALL.failure:
                                var f = t.token;
                                return c({}, e, u({}, f, c({}, e[f] || {}, {
                                    info: t.payload
                                })));
                            case l.GET_AUDIO_BOOK_LIST.request:
                                return c({}, e, {
                                    list: c({}, e.list, {
                                        isFetching: !0
                                    })
                                });
                            case l.GET_AUDIO_BOOK_LIST.success:
                                var p = t.payload
                                    , m = p.data
                                    , b = p.paging;
                                return c({}, e, {
                                    list: {
                                        items: (e.list && e.list.items || []).concat(m),
                                        next: b.next,
                                        isFetching: !1,
                                        isDrained: b.isEnd
                                    }
                                });
                            case l.GET_AUDIO_BOOK_LIST.failure:
                                return c({}, e, {
                                    list: c({}, e.list, {
                                        isFetching: !1,
                                        isDrained: !0
                                    })
                                });
                            case l.GET_AUDIO_BOOK_RECOMMEND.success:
                                return c({}, e, {
                                    recommend: {
                                        items: t.payload.data
                                    }
                                });
                            case l.GET_AUDIO_BOOK_SELF.request:
                                return c({}, e, {
                                    self: c({}, e.self, {
                                        isFetching: !0
                                    })
                                });
                            case l.GET_AUDIO_BOOK_SELF.success:
                                var y = t.payload
                                    , h = y.data
                                    , v = y.paging;
                                return c({}, e, {
                                    self: {
                                        items: e.self.items.concat(h),
                                        next: v.next,
                                        isFetching: !1,
                                        isDrained: v.isEnd
                                    }
                                });
                            case l.GET_AUDIO_BOOK_SELF.failure:
                                return c({}, e, {
                                    self: c({}, e.self, {
                                        isFetching: !1,
                                        isDrained: !0
                                    })
                                });
                            case l.GET_AUDIO_BOOK_BUY_INFO.success:
                                return c({}, e, {
                                    buyInfo: t.payload
                                });
                            default:
                                return e
                        }
                    }
                }
            ).call(this, n(26))
        },
        function (e, t, n) {
            "use strict";
            var r = n(331);
            t.a = r.a
        }, , , , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "l", function () {
                return a
            }),
                n.d(t, "f", function () {
                    return i
                }),
                n.d(t, "o", function () {
                    return u
                }),
                n.d(t, "p", function () {
                    return s
                }),
                n.d(t, "n", function () {
                    return f
                }),
                n.d(t, "j", function () {
                    return p
                }),
                n.d(t, "k", function () {
                    return m
                }),
                n.d(t, "d", function () {
                    return b
                }),
                n.d(t, "e", function () {
                    return d
                }),
                n.d(t, "i", function () {
                    return y
                }),
                n.d(t, "g", function () {
                    return h
                }),
                n.d(t, "q", function () {
                    return v
                }),
                n.d(t, "h", function () {
                    return g
                }),
                n.d(t, "m", function () {
                    return O
                }),
                n.d(t, "a", function () {
                    return E
                });
            var r = n(253);

            function o(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            n.d(t, "b", function () {
                return r.a
            }),
                n.d(t, "c", function () {
                    return r.b
                });
            var a = {
                "-1": "他",
                0: "她",
                1: "他"
            }
                , i = "//zhuanlan.zhihu.com"
                , c = {
                hang: "hang",
                lock: "lock",
                ban: "ban",
                notActive: "notActive",
                notBindPhone: "notBindPhone",
                isForceRenamed: "isForceRenamed"
            }
                , u = Object.keys(c).map(function (e) {
                return c[e]
            })
                , l = {
                follow: [c.isForceRenamed, c.notActive, c.notBindPhone],
                report: [c.ban, c.notActive, c.notBindPhone],
                share: [c.ban, c.isForceRenamed, c.notActive],
                thank: [c.notActive, c.notBindPhone],
                deblock: [c.lock],
                vote: [c.notBindPhone, c.notActive],
                reply: [c.notActive, c.notBindPhone],
                comment: [c.notActive, c.notBindPhone],
                favlists: [c.notBindPhone, c.notActive],
                like: [c.notBindPhone, c.notActive],
                message: [c.notBindPhone, c.notActive],
                getCoupon: [c.notBindPhone, c.notActive],
                gift: [c.notBindPhone, c.notActive],
                blockUser: [c.notBindPhone, c.notActive],
                buy: [c.ban, c.notBindPhone, c.notActive]
            }
                , s = Object.keys(l).reduce(function (e, t) {
                return function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {}
                            , r = Object.keys(n);
                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                        }))),
                            r.forEach(function (t) {
                                o(e, t, n[t])
                            })
                    }
                    return e
                }({}, e, o({}, t, u.filter(function (e) {
                    return !l[t].includes(e)
                })))
            }, {})
                , f = {
                blocking: "因为你已将此人屏蔽，暂时无法进行该操作。您可以进入他的个人主页解除屏蔽。",
                commentBlocked: "根据对方设置，暂时无法进行评论操作。",
                blocked: "根据对方设置，暂时无法进行该操作。"
            }
                , p = 2400
                , m = 1e4
                , b = {
                sina: "3063806388",
                qqconn: "100490701",
                wechat: "wx268fcfe924dcb171",
                mobileWechat: "wx21dd00cd1ccac236"
            }
                , d = "bindPhoneLastAlertTime"
                , y = 40312
                , h = 100007
                , v = {
                collection: "Collection",
                live: "Live",
                ebook: "EBook",
                pin: "Pin",
                article: "Post",
                answer: "Answer",
                question: "Question",
                promotion: "Promotion",
                roundtable: "RoundtableItem",
                live_course: "LiveCourse",
                out_link: "ExternalAd"
            }
                , g = {
                abuseip: 40350,
                imfrozen: 40351,
                unhuman: 40352
            }
                , O = {
                pageSize: 20,
                weeklyDescription: "全网下载量超 7000 万册的电子刊物，每周四更新，为你精选知乎站内有趣、有用的优质内容。现在点击「免费订阅」，即可第一时间获取最新一期《知乎周刊》。",
                successTitle: "订阅成功",
                successMessage: "每周四周刊上架时你将收到通知",
                updateMessage: "每周四更新"
            }
                , E = {
                successTitle: "已加入书架"
            }
        }, , ,
        function (e, t, n) {
            "use strict";
            var r = n(1)
                , o = n.n(r)
                , a = n(0)
                , i = n.n(a)
                , c = n(4)
                , u = n(2)
                , l = n.n(u)
                , s = n(22);

            function f(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            var p = function (e) {
                var t = e.size
                    , n = e.color
                    , r = e.activeColor
                    , o = (e.half,
                    e.full)
                    , a = e.empty
                    , c = f(e, ["size", "color", "activeColor", "half", "full", "empty"])
                    , u = r
                    , l = n;
                return o && (l = r),
                a && (u = n),
                    i.a.createElement("svg", Object.assign({}, c, {
                        xmlns: "http://www.w3.org/2000/svg",
                        width: t,
                        height: t,
                        viewBox: "0 0 15 15"
                    }), i.a.createElement("g", {
                        fillRule: "evenodd"
                    }, i.a.createElement("path", {
                        fill: l,
                        d: "M10.925 14.302c.173.13.408.13.58-.002.174-.13.244-.362.175-.572l-1.323-4.296 3.435-2.456c.175-.13.25-.36.185-.572-.064-.212-.253-.357-.468-.36H9.275L7.96 1.754c-.064-.21-.21-.354-.46-.354-.14 0-1.027 3.53-.988 6.32.04 2.788.98 3.85.98 3.85l3.433 2.732z"
                    }), i.a.createElement("path", {
                        fill: u,
                        d: "M7.5 1.4c-.25 0-.41.144-.474.354l-1.318 4.29H1.49c-.214.003-.403.148-.467.36-.065.212.01.442.185.572l3.42 2.463-1.307 4.286c-.066.21.004.44.176.572.172.13.407.132.58.003l3.42-2.734L7.5 1.4z"
                    })))
            };
            p.defaultProps = {
                size: 15,
                color: "#d7d8d9",
                activeColor: "#ffab2e"
            };
            var m = function (e) {
                return i.a.createElement(p, Object.assign({}, e, {
                    full: !0
                }))
            }
                , b = function (e) {
                return i.a.createElement(p, Object.assign({}, e, {
                    half: !0
                }))
            }
                , d = function (e) {
                return i.a.createElement(p, Object.assign({}, e, {
                    empty: !0
                }))
            };
            n(717);

            function y(e) {
                return (y = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function h(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function v(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function g(e) {
                return (g = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function O(e, t) {
                return (O = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function E(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function w(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var S = function (e) {
                function t(e, n) {
                    var r, o, a;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        o = this,
                        a = g(t).call(this, e, n),
                        r = !a || "object" !== y(a) && "function" != typeof a ? E(o) : a,
                        w(E(E(r)), "onClick", r.context.authRequired(function (e, t) {
                            r.setState({
                                score: t
                            }),
                                r.props.onScoreClick(e, t)
                        }, s.e.comment)),
                        r.state = {
                            score: e.score
                        },
                        r
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && O(e, t)
                }(t, i.a.Component),
                    n = t,
                (r = [{
                    key: "componentWillReceiveProps",
                    value: function (e) {
                        e.score !== this.props.score && this.setState({
                            score: e.score
                        })
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.component
                            , r = void 0 === n ? "span" : n
                            , o = t.className
                            , a = t.theme
                            , c = t.isDynamic
                            , u = t.score
                            , s = (t.onScoreClick,
                                t.size)
                            ,
                            f = h(t, ["component", "className", "theme", "isDynamic", "score", "onScoreClick", "size"])
                            , p = Math.round(u) / 2
                            , y = "评分为 ".concat(u, " 分（最高 10 分）")
                            , v = {};
                        return "dark" === a && (v.color = "#646464",
                            v.activeColor = "#999999"),
                            i.a.createElement(r, Object.assign({
                                "aria-label": y,
                                className: l()(o, {
                                    "Pub-DynamicScore": c
                                })
                            }, f), Array(5).fill(null).map(function (t, n) {
                                var r = n >= p ? d : n + .5 === p ? b : m
                                    , o = {};
                                return c && (o = {
                                    onClick: function (t) {
                                        e.onClick(t, 2 * (n + 1))
                                    }
                                }),
                                    i.a.createElement(r, Object.assign({
                                        key: n,
                                        size: s
                                    }, v, o))
                            }))
                    }
                }]) && v(n.prototype, r),
                o && v(n, o),
                    t
            }();
            w(S, "contextTypes", {
                currentUser: o.a.object,
                authRequired: o.a.func
            }),
                S.defaultProps = {
                    isDynamic: !1
                };
            t.a = Object(c.b)(function (e) {
                return {
                    theme: e.env.theme
                }
            }, {})(S)
        }, , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "b", function () {
                return p
            }),
                n.d(t, "a", function () {
                    return b
                });
            var r = n(23)
                , o = n.n(r)
                , a = n(5)
                , i = n(20);

            function c(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function u(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            l(e, t, n[t])
                        })
                }
                return e
            }

            function l(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var s = Object(a.a)("pub", ["GET_FEATURE"])
                , f = Object.values(s).reduce(function (e, t) {
                return e.concat(Object.values(t))
            }, []);

            function p(e, t) {
                return function (n, r) {
                    var a = r().features[e]
                        , i = a ? a.next : "";
                    return t = t || u({}, o.a.parse(i, !0).query, {
                        limit: 10
                    }),
                        n({
                            API: {
                                types: s.GET_FEATURE,
                                endpoint: "v3/books/features/".concat(e),
                                query: t
                            },
                            token: e
                        })
                }
            }

            var m = {
                recommend: new i.a,
                sale: new i.a,
                free: new i.a,
                top: new i.a
            };

            function b() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : m
                    , t = arguments.length > 1 ? arguments[1] : void 0;
                switch (f.includes(t.type) && !e[t.token] && (e = u({}, e, l({}, t.token, new i.a))),
                    t.type) {
                    case s.GET_FEATURE.request:
                        var n = e[t.token];
                        return u({}, e, l({}, t.token, u({}, n, {
                            isFetching: !0
                        })));
                    case s.GET_FEATURE.success:
                        var r = t.token
                            , o = t.payload
                            , a = o.data
                            , p = o.paging
                            , b = c(o, ["data", "paging"])
                            , d = e[r];
                        return u({}, e, l({}, r, u({
                            next: p ? p.next : "",
                            items: a ? d.items.concat(a) : d.items,
                            isFetching: !1,
                            isDrained: !p || p.isEnd
                        }, b)));
                    case s.GET_FEATURE.failure:
                        var y = e[t.token];
                        return u({}, e, l({}, t.token, u({}, y, {
                            isFetching: !1,
                            isDrained: !0
                        })));
                    default:
                        return e
                }
            }
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "c", function () {
                return c
            }),
                n.d(t, "d", function () {
                    return u
                }),
                n.d(t, "b", function () {
                    return l
                }),
                n.d(t, "a", function () {
                    return f
                });
            var r = n(5);

            function o(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            a(e, t, n[t])
                        })
                }
                return e
            }

            function a(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var i = Object(r.a)("pub", ["GET_SPECIAL", "GET_SPECIAL_LIST", "GET_CAMPAIGN_SPECIALS", "GET_CAMPAIGN_DATA"]);

            function c(e, t) {
                return {
                    API: {
                        types: i.GET_SPECIAL,
                        endpoint: "v3/books/specials/".concat(e),
                        query: t
                    },
                    token: e
                }
            }

            function u(e) {
                return {
                    API: {
                        types: i.GET_SPECIAL_LIST,
                        endpoint: "v3/books/specials",
                        query: e
                    }
                }
            }

            function l(e) {
                return {
                    API: {
                        types: i.GET_CAMPAIGN_DATA,
                        endpoint: "v3/books/campaigns/".concat(e)
                    },
                    campaign: e
                }
            }

            var s = {
                list: null,
                items: {},
                campaigns: {}
            };

            function f() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : s
                    , t = arguments.length > 1 ? arguments[1] : void 0;
                switch (t.type) {
                    case i.GET_SPECIAL.success:
                        return o({}, e, {
                            items: o({}, e.items, a({}, t.token, t.payload))
                        });
                    case i.GET_SPECIAL_LIST.success:
                        return o({}, e, {
                            list: t.payload.data
                        });
                    case i.GET_CAMPAIGN_SPECIALS.success:
                        return o({}, e, {
                            campaigns: o({}, e.campaigns, a({}, t.campaign, t.payload.data.reduce(function (e, t) {
                                return e[t.id] = t,
                                    e
                            }, {})))
                        });
                    case i.GET_CAMPAIGN_DATA.success:
                        return o({}, e, {
                            campaigns: o({}, e.campaigns, a({}, t.campaign, t.payload))
                        });
                    default:
                        return e
                }
            }
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r);

            function a(e) {
                return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function i(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function c(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function u(e) {
                return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function l(e, t) {
                return (l = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function s(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var f = {
                passive: !1
            }
                , p = function (e) {
                function t() {
                    var e, n, r, o, i, c, l;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var f = arguments.length, p = new Array(f), m = 0; m < f; m++)
                        p[m] = arguments[m];
                    return r = this,
                        o = (e = u(t)).call.apply(e, [this].concat(p)),
                        n = !o || "object" !== a(o) && "function" != typeof o ? s(r) : o,
                        i = s(s(n)),
                        l = function (e) {
                            n.node = e
                        }
                        ,
                        (c = "ref") in i ? Object.defineProperty(i, c, {
                            value: l,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : i[c] = l,
                        n
                }

                var n, r, p;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && l(e, t)
                }(t, o.a.Component),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        this.node.addEventListener("touchmove", this.props.onTouchMove, f)
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function (e) {
                        e.onTouchMove !== this.props.onTouchMove && (this.node.removeEventListener("touchmove", e.onTouchMove, f),
                            this.node.addEventListener("touchmove", this.props.onTouchMove, f))
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function () {
                        this.node.removeEventListener("touchmove", this.props.onTouchMove, f)
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.component
                            , n = (e.onTouchMove,
                            i(e, ["component", "onTouchMove"]));
                        return o.a.createElement(t, Object.assign({
                            ref: this.ref
                        }, n))
                    }
                }]) && c(n.prototype, r),
                p && c(n, p),
                    t
            }();
            p.defaultProps = {
                component: "div",
                onTouchMove: function () {
                }
            },
                t.a = p
        }, ,
        function (e, t, n) {
            "use strict";
            n.d(t, "b", function () {
                return i
            }),
                n.d(t, "a", function () {
                    return c
                }),
                n.d(t, "c", function () {
                    return u
                });
            var r = n(5);

            function o(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            a(e, t, n[t])
                        })
                }
                return e
            }

            function a(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var i = o({}, Object(r.a)("currentUser", ["GET"]), Object(r.b)("currentUser", ["ACTIVE_USER"]));

            function c() {
                return function (e, t) {
                    return e({
                        currentUser: t().currentUser,
                        type: i.ACTIVE_USER
                    })
                }
            }

            var u = function (e) {
                var t = e.currentUser;
                return e.entities.users[t]
            };
            t.d = function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                    , t = arguments.length > 1 ? arguments[1] : void 0;
                switch (t.type) {
                    case i.GET.success:
                        return t.payload.urlToken || null;
                    default:
                        return e
                }
            }
        },
        function (e, t, n) {
            "use strict";
            (function (e) {
                    n.d(t, "f", function () {
                        return s
                    }),
                        n.d(t, "e", function () {
                            return f
                        }),
                        n.d(t, "g", function () {
                            return p
                        }),
                        n.d(t, "d", function () {
                            return m
                        }),
                        n.d(t, "c", function () {
                            return b
                        }),
                        n.d(t, "a", function () {
                            return d
                        }),
                        n.d(t, "b", function () {
                            return v
                        });
                    var r = n(23)
                        , o = n.n(r)
                        , a = n(5)
                        , i = n(20);

                    function c(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {}
                                , r = Object.keys(n);
                            "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                return Object.getOwnPropertyDescriptor(n, e).enumerable
                            }))),
                                r.forEach(function (t) {
                                    u(e, t, n[t])
                                })
                        }
                        return e
                    }

                    function u(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }

                    var l = Object(a.a)("pub", ["POST_SHELF", "GET_UNREAD_WEEKLY", "GET_SHELF_PROMPTINFO", "POST_ACQUIRE_SHELF_COUPON", "GET_SHELF_WITH_GROUPS", "GET_SHELF_GROUP_INFO"]);

                    function s(e) {
                        return function (t, n) {
                            var r = n().shelf.booksWithGroups.next;
                            return e = e || {
                                limit: 15
                            },
                                t({
                                    API: {
                                        types: l.GET_SHELF_WITH_GROUPS,
                                        endpoint: "v3/books/shelf_v2",
                                        query: c({}, e, o.a.parse(r, !0).query, {
                                            include: "data[*].book.last_read_chapter_name"
                                        })
                                    }
                                })
                        }
                    }

                    function f(e, t) {
                        return function (n, r) {
                            var a = (r().shelf.groupInfo[e] || new i.a).next;
                            return t = t || {
                                limit: 15
                            },
                                n({
                                    API: {
                                        types: l.GET_SHELF_GROUP_INFO,
                                        endpoint: "v3/books/shelf/group/".concat(e),
                                        query: c({}, t, o.a.parse(a, !0).query, {
                                            include: "data[*].last_read_chapter_name"
                                        })
                                    },
                                    token: e
                                })
                        }
                    }

                    function p(t) {
                        var n = new e.FormData;
                        return n.append("book_token", t),
                            {
                                API: {
                                    types: l.POST_SHELF,
                                    endpoint: "v3/books/shelf",
                                    method: "POST",
                                    body: n
                                }
                            }
                    }

                    function m() {
                        return function (e) {
                            return e({
                                API: {
                                    types: l.GET_UNREAD_WEEKLY,
                                    endpoint: "v3/books/shelf_v2",
                                    query: {
                                        limit: 15
                                    }
                                }
                            })
                        }
                    }

                    function b() {
                        return {
                            API: {
                                types: l.GET_SHELF_PROMPTINFO,
                                endpoint: "v3/books/shelf/prompts",
                                query: {
                                    limit: 1
                                }
                            }
                        }
                    }

                    function d(e) {
                        return {
                            API: {
                                types: l.POST_ACQUIRE_SHELF_COUPON,
                                endpoint: "/pub/coupons/".concat(e),
                                method: "POST"
                            }
                        }
                    }

                    function y(e) {
                        if (!e.length)
                            return "";
                        if ((e = e.sort(function (e, t) {
                            return t.pubTime - e.pubTime
                        }))[0].isSubscribed) {
                            var t = Date.now() / 1e3
                                , n = e[0]
                                , r = n.pubTime
                                , o = n.readTime
                                , a = n.id;
                            if (!o && t - r < 604800)
                                return String(a)
                        }
                        return ""
                    }

                    var h = {
                        unreadWeekly: "",
                        totalBooks: null,
                        promptInfo: null,
                        booksWithGroups: new i.a,
                        groupInfo: {}
                    };

                    function v() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : h
                            , t = arguments.length > 1 ? arguments[1] : void 0;
                        switch (t.type) {
                            case l.GET_SHELF_WITH_GROUPS.request:
                                return c({}, e, {
                                    booksWithGroups: c({}, e.booksWithGroups, {
                                        isFetching: !0
                                    })
                                });
                            case l.GET_SHELF_WITH_GROUPS.success:
                                var n = t.payload
                                    , r = n.paging
                                    , o = n.data
                                    , a = n.totalBooks
                                    , s = e.booksWithGroups;
                                return c({}, e, {
                                    booksWithGroups: {
                                        next: r ? r.next : "",
                                        items: o ? s.items.concat(o) : s.items,
                                        isFetching: !1,
                                        isDrained: !r || r.isEnd
                                    },
                                    totalBooks: a
                                });
                            case l.GET_SHELF_WITH_GROUPS.failure:
                                return c({}, e, {
                                    booksWithGroups: c({}, e.booksWithGroups, {
                                        isFetching: !1
                                    })
                                });
                            case l.GET_SHELF_GROUP_INFO.request:
                                var f = t.token
                                    , p = e.groupInfo[f] || new i.a;
                                return c({}, e, {
                                    groupInfo: c({}, e.groupInfo, u({}, f, c({}, p, {
                                        isFetching: !0
                                    })))
                                });
                            case l.GET_SHELF_GROUP_INFO.success:
                                var m = t.token
                                    , b = t.payload
                                    , d = b.paging
                                    , v = b.data
                                    , g = e.groupInfo[m].items
                                    , O = e.unreadWeekly || y(v.filter(function (e) {
                                    return e.canSubscribe
                                }));
                                return c({}, e, {
                                    groupInfo: c({}, e.groupInfo, u({}, m, {
                                        next: d ? d.next : "",
                                        items: v ? g.concat(v) : g,
                                        isFetching: !1,
                                        isDrained: !d || d.isEnd,
                                        totals: d.totals
                                    })),
                                    unreadWeekly: O
                                });
                            case l.GET_SHELF_GROUP_INFO.failure:
                                var E = t.token;
                                return c({}, e, {
                                    groupInfo: c({}, e.groupInfo, u({}, E, c({}, e.groupInfo[E], {
                                        isFetching: !1
                                    })))
                                });
                            case l.GET_UNREAD_WEEKLY.success:
                                var w = t.payload
                                    , S = w.data
                                    , P = w.totalBooks
                                    , k = [];
                                return S.forEach(function (e) {
                                    "book" === e.itemType && e.book.canSubscribe && k.push(e.book)
                                }),
                                    c({}, e, {
                                        unreadWeekly: y(k),
                                        totalBooks: P
                                    });
                            case l.GET_SHELF_PROMPTINFO.success:
                                return c({}, e, {
                                    promptInfo: t.payload.data[0]
                                });
                            case l.POST_ACQUIRE_SHELF_COUPON.success:
                                return c({}, e, {
                                    promptInfo: c({}, e.promptInfo, {
                                        coupon: t.payload
                                    })
                                });
                            default:
                                return e
                        }
                    }
                }
            ).call(this, n(26))
        }, , ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(89)
                , u = n(380)
                , l = n.n(u);
            var s = Object(c.a)(function () {
                return n.e(6).then(n.bind(null, 765))
            }, function (e) {
                var t = e.name
                    , n = e.width
                    , r = void 0 === n ? 14 : n
                    , a = e.height
                    , c = e.className
                    , u = e.left;
                return o.a.createElement("span", {
                    style: {
                        width: r,
                        height: a
                    },
                    className: i()("Icon LegacyIcon-placeholder", c, "Icon--".concat(t), {
                        "Icon--left": u
                    })
                })
            }, "LegacyIcon");
            s.css = l.a,
                t.a = s
        }, , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "c", function () {
                return c
            }),
                n.d(t, "b", function () {
                    return u
                }),
                n.d(t, "a", function () {
                    return s
                });
            var r = n(5);

            function o(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            a(e, t, n[t])
                        })
                }
                return e
            }

            function a(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var i = Object(r.a)("pub", ["LOAD_COUPONS_LIST", "GET_COUPON"])
                , c = function (e, t) {
                return {
                    API: {
                        types: i.LOAD_COUPONS_LIST,
                        endpoint: "pub/coupons",
                        query: a({}, e, t)
                    },
                    page: e,
                    token: t
                }
            }
                , u = function (e, t, n) {
                return {
                    API: {
                        types: i.GET_COUPON,
                        endpoint: "pub/coupons/".concat(n),
                        method: "POST"
                    },
                    page: e,
                    token: t,
                    couponToken: n
                }
            }
                , l = {
                campaign: {},
                special: {}
            };

            function s() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l
                    , t = arguments.length > 1 ? arguments[1] : void 0
                    , n = t.err
                    , r = t.page
                    , c = t.token
                    , u = t.couponToken
                    , s = t.payload
                    , f = null;
                switch (t.type) {
                    case i.LOAD_COUPONS_LIST.success:
                        f = s.data;
                        break;
                    case i.GET_COUPON.request:
                        f = e[r][c].map(function (e) {
                            return e.urlToken === u ? o({}, e, {
                                isFetching: !0
                            }) : e
                        });
                        break;
                    case i.GET_COUPON.failure:
                        f = e[r][c].map(function (e) {
                            return e.urlToken === u ? o({}, n ? e : s, {
                                isFetching: !1
                            }) : e
                        });
                        break;
                    case i.GET_COUPON.success:
                        f = e[r][c].map(function (e) {
                            return e.urlToken === u ? o({}, t.payload, {
                                isFetching: !1,
                                isDrained: !0
                            }) : e
                        });
                        break;
                    default:
                        return e
                }
                return o({}, e, a({}, r, o({}, e[r], a({}, c, f))))
            }
        }, ,
        function (e, t, n) {
            "use strict";
            var r = n(263)
                , o = n(0)
                , a = n.n(o)
                , i = n(2)
                , c = n.n(i)
                , u = n(8)
                , l = n(57)
                , s = n(70);

            function f() {
                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                    , t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                return e ? function (e) {
                    location.href = "".concat(e ? "zhihu://signup" : "zhihu://signin", "?next=").concat(location.pathname)
                }(t) : function (e) {
                    location.href = "".concat(e ? "/signup" : "/signin", "?next=").concat(location.pathname)
                }(t)
            }

            n(706);

            function p(e) {
                return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function m(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function b(e) {
                return (b = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function d(e, t) {
                return (d = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function y(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function h(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var v = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = b(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== p(o) && "function" != typeof o ? y(r) : o,
                        h(y(y(n)), "handleSignUp", function () {
                            f(n.props.isAppView, !0)
                        }),
                        h(y(y(n)), "handleSignIn", function () {
                            f(n.props.isAppView)
                        }),
                        n
                }

                var n, r, i;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && d(e, t)
                }(t, o["Component"]),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.onClose
                            , n = e.isAppView;
                        return a.a.createElement(l.b, {
                            title: "注册/登录后即可继续操作",
                            size: "default",
                            className: c()("AppAuthentication", {
                                "AppAuthentication--appView": n
                            }),
                            closeButton: !1,
                            onClose: t
                        }, a.a.createElement("div", {
                            className: "AppAuthentication-buttonContainer"
                        }, !n && a.a.createElement(u.c, {
                            preset: "plain",
                            className: "AppAuthentication-closeButton",
                            onClick: t,
                            "aria-label": "关闭"
                        }, a.a.createElement(s.a, {
                            width: 10,
                            height: 10,
                            name: "remove"
                        })), a.a.createElement(u.c, {
                            className: "AppAuthentication-button",
                            color: "blue",
                            preset: "primary",
                            onClick: this.handleSignUp
                        }, "注册"), a.a.createElement(u.c, Object.assign({
                            className: "AppAuthentication-button",
                            onClick: this.handleSignIn
                        }, {}), "", "登录")))
                    }
                }]) && m(n.prototype, r),
                i && m(n, i),
                    t
            }()
                , g = n(133)
                , O = n(1)
                , E = n.n(O);

            function w(e) {
                return (w = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function S(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function P(e, t) {
                return !t || "object" !== w(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function k(e) {
                return (k = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function j(e, t) {
                return (j = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var _, T, C, N = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        P(this, k(t).apply(this, arguments))
                }

                var n, r, i;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && j(e, t)
                }(t, o["Component"]),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.context.handleBindPhoneModalToggle;
                        return a.a.createElement(u.c, {
                            className: "SignFlowActive-button",
                            preset: "link",
                            onClick: e
                        }, "激活账号")
                    }
                }]) && S(n.prototype, r),
                i && S(n, i),
                    t
            }();
            _ = N,
                T = "contextTypes",
                C = {
                    handleBindPhoneModalToggle: E.a.func
                },
                T in _ ? Object.defineProperty(_, T, {
                    value: C,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : _[T] = C;
            var I = n(161);

            function A(e) {
                return (A = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function x(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function D(e, t) {
                return !t || "object" !== A(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function R(e) {
                return (R = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function L(e, t) {
                return (L = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var B = function () {
                return n.e(11).then(n.bind(null, 1223))
            }
                , M = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        D(this, R(t).apply(this, arguments))
                }

                var n, r, i;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && L(e, t)
                }(t, o["Component"]),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        return a.a.createElement(I.a, Object.assign({
                            getComponent: B
                        }, this.props))
                    }
                }]) && x(n.prototype, r),
                i && x(n, i),
                    t
            }()
                , G = n(254)
                , U = n(251);
            n(472);
            n.d(t, "c", function () {
                return r.a
            }),
                n.d(t, "a", function () {
                    return v
                }),
                n.d(t, "b", function () {
                    return g.a
                }),
                n.d(t, "d", function () {
                    return N
                }),
                n.d(t, "e", function () {
                    return M
                }),
                n.d(t, "f", function () {
                    return G.a
                }),
                n.d(t, "g", function () {
                    return U.a
                })
        }, , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "c", function () {
                return l
            }),
                n.d(t, "b", function () {
                    return s
                }),
                n.d(t, "e", function () {
                    return f
                }),
                n.d(t, "f", function () {
                    return p
                }),
                n.d(t, "a", function () {
                    return m
                }),
                n.d(t, "d", function () {
                    return d
                });
            var r = n(15)
                , o = n(50)
                , a = n(5);

            function i(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            c(e, t, n[t])
                        })
                }
                return e
            }

            function c(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var u = i({}, Object(a.a)("captcha", ["GET", "POST", "PUT"]), Object(a.b)("captcha", ["RESET_CAPTCHA_INFO", "CAPTCHA_EXPIRES"]));

            function l() {
                return {
                    API: {
                        types: u.GET,
                        endpoint: "v3/oauth/captcha",
                        method: "GET",
                        fetchOptions: {
                            credentials: "include"
                        }
                    }
                }
            }

            function s(e) {
                return {
                    API: {
                        types: u.POST,
                        endpoint: "v3/oauth/captcha",
                        method: "POST",
                        body: Object(o.a)(Object(r.decamelizeKeys)({
                            inputText: e
                        })),
                        fetchOptions: {
                            credentials: "include"
                        }
                    },
                    NOTIFICATION: !1
                }
            }

            function f() {
                return {
                    API: {
                        types: u.PUT,
                        endpoint: "v3/oauth/captcha",
                        method: "PUT",
                        fetchOptions: {
                            credentials: "include"
                        }
                    }
                }
            }

            function p() {
                return {
                    type: u.RESET_CAPTCHA_INFO
                }
            }

            function m() {
                return {
                    type: u.CAPTCHA_EXPIRES
                }
            }

            var b = {
                captchaNeeded: !1,
                captchaValidated: !1,
                captchaBase64String: null,
                captchaValidationMessage: null,
                loginCaptchaExpires: !1
            };

            function d() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : b
                    , t = arguments.length > 1 ? arguments[1] : void 0
                    , n = t.type
                    , r = t.payload;
                return n === u.GET.success ? i({}, e, {
                    captchaNeeded: r.showCaptcha,
                    captchaValidated: !1
                }) : n === u.PUT.success ? i({}, e, {
                    captchaValidated: !1,
                    captchaBase64String: r.imgBase64
                }) : n === u.POST.request ? i({}, e, {
                    captchaValidationMessage: null
                }) : n === u.POST.success ? i({}, e, {
                    captchaValidated: !0,
                    loginCaptchaExpires: !1
                }) : n === u.POST.failure ? i({}, e, {
                    captchaValidationMessage: t.err.payload.message
                }) : n === u.RESET_CAPTCHA_INFO ? i({}, b) : n === u.CAPTCHA_EXPIRES ? i({}, e, {
                    loginCaptchaExpires: !0
                }) : e
            }
        },
        function (e, t, n) {
            "use strict";
            var r = n(33)
                , o = n(61)
                , a = n(5);

            function i(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var c = function (e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            i(e, t, n[t])
                        })
                }
                return e
            }({}, Object(a.b)("env", ["UPDATE_USERAGENT", "SET_TRAFFICSOURCE", "SET_TRAFFIC_FREE", "UPDATE_EDITION", "SET_THEME", "GET_ANNOUNCEMENT", "SET_REFERER", "SET_WEBP", "SET_IS_OFFICE"]), Object(a.a)("env", ["GET_EXPERIMENTS"]));

            function u(e) {
                return {
                    type: c.UPDATE_USERAGENT,
                    payload: e
                }
            }

            function l() {
                return {
                    API: {
                        types: c.GET_EXPERIMENTS,
                        endpoint: "experiments"
                    }
                }
            }

            function s(e) {
                return {
                    type: c.SET_THEME,
                    payload: e
                }
            }

            function f(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            p(e, t, n[t])
                        })
                }
                return e
            }

            function p(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var m = Object(r.c)({
                experiment: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    return t.type === c.GET_EXPERIMENTS.success && t.payload || e
                },
                userAgent: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    if (t.type === c.UPDATE_USERAGENT) {
                        var n = t.payload;
                        return f({}, e, "string" == typeof n ? Object(o.a)(n) : n)
                    }
                    return e
                },
                trafficSource: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    if (t.type === c.SET_TRAFFICSOURCE) {
                        var n = t.payload;
                        return n
                    }
                    return e
                },
                trafficFree: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    return t.type === c.SET_TRAFFIC_FREE ? "no" === t.payload ? "" : t.payload : e
                },
                isOffice: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    if (t.type === c.SET_IS_OFFICE) {
                        var n = t.payload;
                        return n
                    }
                    return e
                },
                edition: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                        baidu: !1
                    }
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    return t.type === c.UPDATE_EDITION ? f({}, e, t.payload) : e
                },
                theme: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    return t.type === c.SET_THEME ? "dark" === t.payload ? "dark" : "light" : e
                },
                referer: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    return t.type === c.SET_REFERER ? t.payload : e
                },
                webp: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    return t.type === c.SET_WEBP ? t.payload : e
                }
            })
                , b = n(353)
                , d = n(66);
            Object(b.createSelector)(d.c, function (e) {
                return e.env.edition
            }, function (e, t) {
                return !e && !t.baidu
            });
            n.d(t, "d", function () {
                return u
            }),
                n.d(t, "b", function () {
                    return l
                }),
                n.d(t, "c", function () {
                    return s
                });
            t.a = m
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "h", function () {
                return s
            }),
                n.d(t, "i", function () {
                    return f
                }),
                n.d(t, "c", function () {
                    return p
                }),
                n.d(t, "g", function () {
                    return m
                }),
                n.d(t, "b", function () {
                    return b
                }),
                n.d(t, "e", function () {
                    return d
                }),
                n.d(t, "f", function () {
                    return y
                }),
                n.d(t, "j", function () {
                    return h
                }),
                n.d(t, "d", function () {
                    return v
                }),
                n.d(t, "a", function () {
                    return O
                });
            var r = n(15)
                , o = n(50)
                , a = n(5);

            function i(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            c(e, t, n[t])
                        })
                }
                return e
            }

            function c(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var u = i({}, Object(a.a)("account", ["UNLOCK_TICKET_BY_DIGITS", "UNLOCK_TICKET_BY_PASSWORD", "GET_UNLOCK_REQUEST", "REQUEST_UNLOCK_TICKET", "UPDATE_MODAL_STATUS", "GET_UNBLOCK_INFO", "REQUEST_PHONE_VERIFICATION_CODE", "UPDATE_PHONE_NUMBER", "MONOPOLIZE_PHONE_NUMBER"]), Object(a.b)("account", ["RECOVER_DEFAULT_TYPE"]))
                , l = "https://account.zhihu.com/api/";

            function s(e) {
                return {
                    API: {
                        types: u.UNLOCK_TICKET_BY_DIGITS,
                        method: "POST",
                        body: Object(o.a)(Object(r.decamelizeKeys)({
                            digits: e
                        })),
                        endpoint: "v3/oauth/account/unlock/digits"
                    }
                }
            }

            function f(e) {
                return {
                    API: {
                        types: u.UNLOCK_TICKET_BY_PASSWORD,
                        method: "POST",
                        body: Object(o.a)(Object(r.decamelizeKeys)({
                            password: e
                        })),
                        endpoint: "v3/oauth/account/unlock/password"
                    }
                }
            }

            function p() {
                return {
                    API: {
                        types: u.GET_UNLOCK_REQUEST,
                        method: "GET",
                        endpoint: "v3/oauth/account/unlock/request",
                        fetchOptions: {
                            credentials: "include"
                        }
                    }
                }
            }

            function m(e) {
                return {
                    API: {
                        types: u.REQUEST_UNLOCK_TICKET,
                        method: "POST",
                        endpoint: "v3/oauth/account/unlock/request/".concat(e)
                    }
                }
            }

            function b() {
                return {
                    API: {
                        types: u.GET_UNBLOCK_INFO,
                        method: "GET",
                        endpoint: "/antispam/lock_info"
                    }
                }
            }

            function d() {
                return {
                    type: u.RECOVER_DEFAULT_TYPE
                }
            }

            var y = function (e) {
                return {
                    API: {
                        types: u.REQUEST_PHONE_VERIFICATION_CODE,
                        endpoint: "/account/phone_no",
                        method: "POST",
                        body: Object(o.a)({
                            new_phone_no: e
                        }),
                        root: l,
                        fetchOptions: {
                            credentials: "include"
                        }
                    }
                }
            }
                , h = function (e, t) {
                return function (n) {
                    return n({
                        API: {
                            types: u.UPDATE_PHONE_NUMBER,
                            endpoint: "/account/phone_no",
                            method: "PUT",
                            body: Object(o.a)({
                                new_phone_no: e,
                                digits: t
                            }),
                            root: l,
                            fetchOptions: {
                                credentials: "include"
                            }
                        },
                        NOTIFICATION: !1
                    })
                }
            }
                , v = function () {
                return {
                    API: {
                        types: u.UPDATE_PHONE_NUMBER,
                        endpoint: "/account/phone_no/cover",
                        method: "POST",
                        root: l,
                        fetchOptions: {
                            credentials: "include"
                        }
                    }
                }
            }
                , g = {
                locakTicketStatus: !1,
                challenge: [],
                errorStatus: !1,
                message: "",
                isFetching: !1
            };

            function O() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : g
                    , t = arguments.length > 1 ? arguments[1] : void 0
                    , n = t.type
                    , r = t.payload;
                if (n === u.GET_UNBLOCK_INFO.success) {
                    var o = t.payload;
                    return i({}, e, {
                        spamLevel: o.spamLevel,
                        isAppealed: o.isAppealed,
                        isUnblockInfoFetched: !0
                    })
                }
                return n === u.UNLOCK_TICKET_BY_DIGITS.success ? i({}, e, {
                    locakTicketStatus: t.res.ok
                }) : n === u.UNLOCK_TICKET_BY_PASSWORD.success ? i({}, e, {
                    locakTicketStatus: t.res.ok
                }) : n === u.GET_UNLOCK_REQUEST.success ? i({}, e, {
                    challenge: r.challenge,
                    isFetching: !0
                }) : n === u.REQUEST_UNLOCK_TICKET.success ? i({}, e, {
                    isFetching: !0
                }) : n === u.RECOVER_DEFAULT_TYPE ? i({}, e, {
                    errorStatus: !1,
                    isFetching: !1
                }) : t.err && t.err.payload && 4039 === t.err.payload.code ? i({}, e, {
                    errorStatus: !0,
                    message: t.err.payload.message
                }) : e
            }
        }, ,
        function (e, t, n) {
            "use strict";
            n.d(t, "b", function () {
                return c
            }),
                n.d(t, "a", function () {
                    return u
                }),
                n.d(t, "f", function () {
                    return f
                }),
                n.d(t, "e", function () {
                    return p
                }),
                n.d(t, "c", function () {
                    return m
                });
            var r = n(5);

            function o(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            a(e, t, n[t])
                        })
                }
                return e
            }

            function a(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var i = Object(r.b)("notification", ["SHOW", "CLEAR"])
                , c = "global"
                , u = "comment"
                , l = "出错了！请稍后再试。"
                , s = {}
                , f = [c, "askQuestion", "editQuestion", u];

            function p(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "white"
                    , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : c;
                return {
                    type: i.SHOW,
                    NOTIFICATION: {
                        key: n,
                        text: e,
                        theme: t
                    }
                }
            }

            function m() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : c;
                return {
                    type: i.CLEAR,
                    NOTIFICATION: {
                        key: e
                    }
                }
            }

            function b(e) {
                return e.err ? e.err.payload : e.result ? e.result.error : null
            }

            function d(e) {
                var t = e || {}
                    , n = t.code
                    , r = t.message;
                return s[n] || r || l
            }

            t.d = function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                    , t = arguments.length > 1 ? arguments[1] : void 0
                    , n = t.type
                    , r = t.NOTIFICATION;
                if (n === i.CLEAR)
                    return o({}, e, a({}, r.key, null));
                if (r) {
                    var l = r.text
                        , s = r.theme
                        , f = r.success
                        , p = r.failure
                        , m = r.key
                        , y = void 0 === m ? c : m;
                    if (l && s)
                        return o({}, e, a({}, y, {
                            text: l,
                            theme: s,
                            timestamp: Date.now()
                        }));
                    if (f && n.endsWith("success")) {
                        var h = "function" == typeof f ? f(t.payload) : f;
                        return o({}, e, a({}, y, o({
                            text: "string" == typeof h && h,
                            theme: "white",
                            timestamp: Date.now()
                        }, h)))
                    }
                    if (p && n.endsWith("failure")) {
                        var v = b(t)
                            , g = "function" == typeof p ? p(v) : p;
                        return g ? o({}, e, a({}, y, o({
                            text: "string" == typeof g ? g : d(v),
                            theme: y === u || "askQuestion" === y || "editQuestion" === y ? "red-ghost" : "red",
                            timestamp: Date.now()
                        }, g))) : e
                    }
                } else if (!1 !== r && "failure" === n.split("/").pop())
                    return o({}, e, a({}, c, {
                        text: d(b(t)),
                        theme: "red",
                        timestamp: Date.now()
                    }));
                return e
            }
        }, , , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return s
            });
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(34)
                , u = n(401)
                , l = n.n(u);

            function s(e) {
                var t = e.items
                    , n = e.wrap
                    , r = e.className
                    , a = e.itemComponent;
                return o.a.createElement("ul", {
                    className: i()("BookList", {
                        "BookList--wrap": n
                    }, r)
                }, t.map(function (e) {
                    return o.a.createElement(a, Object.assign({}, e, {
                        key: e.id
                    }))
                }), n && o.a.createElement("li", {
                    key: "dummy-0",
                    className: "BookItem"
                }), n && o.a.createElement("li", {
                    key: "dummy-1",
                    className: "BookItem"
                }), n && o.a.createElement("li", {
                    key: "dummy-2",
                    className: "BookItem"
                }), n && o.a.createElement("li", {
                    key: "dummy-3",
                    className: "BookItem"
                }))
            }

            s.css = l.a,
                s.defaultProps = {
                    wrap: !0,
                    itemComponent: c.f
                }
        }, ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(182)
                , i = n.n(a)
                , c = n(323);

            function u(e) {
                return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function l(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function s(e) {
                return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function f(e, t) {
                return (f = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function p(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            t.a = function (e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                    , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ""
                    , r = function (n) {
                    function r(e) {
                        var n, o, a;
                        return function (e, t) {
                            if (!(e instanceof t))
                                throw new TypeError("Cannot call a class as a function")
                        }(this, r),
                            o = this,
                            (n = !(a = s(r).call(this, e)) || "object" !== u(a) && "function" != typeof a ? p(o) : a).state = {
                                Component: t
                            },
                            n.mounted = !0,
                            n.load = n.load.bind(p(p(n))),
                            n
                    }

                    var a, i, m;
                    return function (e, t) {
                        if ("function" != typeof t && null !== t)
                            throw new TypeError("Super expression must either be null or a function");
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                writable: !0,
                                configurable: !0
                            }
                        }),
                        t && f(e, t)
                    }(r, o.a.PureComponent),
                        a = r,
                    (i = [{
                        key: "componentDidMount",
                        value: function () {
                            Object(c.a)(this.load, 50)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function () {
                            this.mounted = !1
                        }
                    }, {
                        key: "load",
                        value: function () {
                            var t = this;
                            return e(this.props).then(function (e) {
                                t.mounted && t.setState({
                                    Component: e.default || e
                                })
                            })
                        }
                    }, {
                        key: "render",
                        value: function () {
                            var e = this.state.Component;
                            return e ? o.a.createElement(e, this.props) : null
                        }
                    }]) && l(a.prototype, i),
                    m && l(a, m),
                        r
                }();
                return n && (r.displayName = "Async(".concat(n, ")")),
                t && i()(r, t),
                    r
            }
        }, , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "b", function () {
                return i
            }),
                n.d(t, "a", function () {
                    return c
                });
            var r = n(5);

            function o(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var a = Object(r.a)("pub", ["GET_PRODUCT"]);

            function i(e) {
                return {
                    API: {
                        types: a.GET_PRODUCT,
                        endpoint: "pub/product/".concat(e)
                    }
                }
            }

            function c() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                    , t = arguments.length > 1 ? arguments[1] : void 0;
                switch (t.type) {
                    case a.GET_PRODUCT.success:
                        return function (e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {}
                                    , r = Object.keys(n);
                                "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                                }))),
                                    r.forEach(function (t) {
                                        o(e, t, n[t])
                                    })
                            }
                            return e
                        }({}, e, o({}, t.payload.id, t.payload));
                    default:
                        return e
                }
            }
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(8);

            function u(e) {
                return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function l(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function s(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function f(e) {
                return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function p(e, t) {
                return (p = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function m(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function b() {
            }

            var d = function (e) {
                function t(e) {
                    var n, r, o;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        r = this,
                        (n = !(o = f(t).call(this, e)) || "object" !== u(o) && "function" != typeof o ? m(r) : o).state = {
                            pending: !1
                        },
                        n.handleClick = n.handleClick.bind(m(m(n))),
                        n.unmounting = !1,
                        n
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && p(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentWillUnmount",
                    value: function () {
                        this.unmounting = !0
                    }
                }, {
                    key: "handleClick",
                    value: function (e) {
                        var t = this;
                        if (!this.state.pending) {
                            var n, r, o = this.props, a = o.onClick, i = o.minPendingTime, c = a(e);
                            (r = c) && "function" == typeof r.then && (this.setState({
                                pending: !0
                            }),
                                Promise.all([c, (n = i,
                                    new Promise(function (e) {
                                            return setTimeout(e, n)
                                        }
                                    ))]).catch(b).then(function () {
                                    t.unmounting || t.setState({
                                        pending: !1
                                    })
                                }))
                        }
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.component
                            , n = e.className
                            , r = e.disabled
                            , a = e.disableOnPending
                            , c = (e.minPendingTime,
                                e.pendingClassName)
                            ,
                            u = l(e, ["component", "className", "disabled", "disableOnPending", "minPendingTime", "pendingClassName"])
                            , s = this.state.pending;
                        return o.a.createElement(t, Object.assign({}, u, {
                            disabled: r || s && a,
                            className: i()(n, s && c),
                            onClick: this.handleClick
                        }))
                    }
                }]) && s(n.prototype, r),
                a && s(n, a),
                    t
            }();
            d.defaultProps = {
                component: c.c,
                onClick: function () {
                },
                minPendingTime: 0,
                disableOnPending: !0,
                pendingClassName: "is-pending"
            },
                t.a = d
        }, , , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return l
            }),
                n.d(t, "c", function () {
                    return f
                }),
                n.d(t, "e", function () {
                    return p
                }),
                n.d(t, "d", function () {
                    return m
                }),
                n.d(t, "b", function () {
                    return b
                });
            var r = n(369)
                , o = n.n(r)
                , a = n(5)
                , i = n(7);

            function c(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            u(e, t, n[t])
                        })
                }
                return e
            }

            function u(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var l = Object(a.a)("pub", ["GET_CHAPTERS", "GET_DOWNLOAD_INFO", "GET_DOWNLOAD", "GET_HTML", "GET_LAST_READ", "POST_LAST_READ", "GET_TRIAL_FINISH_INFO", "GET_SM_SEARCH_CONTENT"]);

            function s(e) {
                var t = "";
                e && (t = e.replace(/data-caption="([^"]+)"[^>]*?>/g, function (e, t) {
                    return "".concat(e, '<span class="block-image-caption">').concat(t, "</span>")
                }));
                var n = Object(i.l)(t)
                    , r = /Mobile/.test(window.navigator.userAgent)
                    , a = !0
                    , c = !1
                    , u = void 0;
                try {
                    for (var l, s = n.querySelectorAll("[data-comment], [data-comment-html]")[Symbol.iterator](); !(a = (l = s.next()).done); a = !0) {
                        var f = l.value;
                        f.dataset.commentHtml ? f.setAttribute("title", '<div class="PubHTML theme-default '.concat(r ? "" : "dark", '">').concat(f.dataset.commentHtml, "</div>")) : f.setAttribute("title", o()(f.dataset.comment))
                    }
                } catch (e) {
                    c = !0,
                        u = e
                } finally {
                    try {
                        a || null == s.return || s.return()
                    } finally {
                        if (c)
                            throw u
                    }
                }
                var p = !0
                    , m = !1
                    , b = void 0;
                try {
                    for (var d, y = n.querySelectorAll("p, h1, h2, h3, h4, h5, h6, li")[Symbol.iterator](); !(p = (d = y.next()).done); p = !0) {
                        var h = d.value;
                        Object(i.j)(h)
                    }
                } catch (e) {
                    m = !0,
                        b = e
                } finally {
                    try {
                        p || null == y.return || y.return()
                    } finally {
                        if (m)
                            throw b
                    }
                }
                return n.innerHTML
            }

            function f(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return {
                    API: {
                        types: l.GET_CHAPTERS,
                        endpoint: "v3/".concat(t.type || "books", "/").concat(e, "/chapters")
                    },
                    token: e
                }
            }

            function p(e) {
                return {
                    API: {
                        types: l.GET_TRIAL_FINISH_INFO,
                        endpoint: "v3/books/".concat(e, "/trial_terminal")
                    },
                    token: e
                }
            }

            function m(e, t, n) {
                return {
                    API: {
                        root: "https://api.zhihu.com/",
                        types: l.GET_SM_SEARCH_CONTENT,
                        endpoint: "books/".concat(e, "/chapters/").concat(t, "/preview?source=sm&sign=").concat(encodeURIComponent(n))
                    },
                    token: e,
                    chapterUid: t
                }
            }

            function b() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                    , t = arguments.length > 1 ? arguments[1] : void 0;
                switch (t.type) {
                    case l.GET_CHAPTERS.success:
                        var n = t.token
                            , r = t.payload;
                        return c({}, e, u({}, n, c({}, e[n], {
                            chapters: r
                        })));
                    case l.GET_DOWNLOAD_INFO.request:
                        var o = t.token
                            , a = t.chapterUid
                            , i = e[o];
                        return c({}, e, u({}, o, c({}, i, u({}, a, c({}, i[a], {
                            isFetching: !0
                        })))));
                    case l.GET_DOWNLOAD_INFO.failure:
                        var f = t.token
                            , p = t.chapterUid
                            , m = e[f];
                        return c({}, e, u({}, f, c({}, m, u({}, p, c({}, m[p], {
                            isFetching: !1
                        })))));
                    case l.GET_DOWNLOAD.failure:
                        var b = t.token
                            , d = t.chapterUid
                            , y = e[b];
                        return c({}, e, u({}, b, c({}, y, u({}, d, c({}, y[d], {
                            isFetching: !1
                        })))));
                    case l.GET_HTML.success:
                        var h = t.token
                            , v = t.chapterUid
                            , g = t.payload
                            , O = e[h];
                        return c({}, e, u({}, h, c({}, O, u({}, v, c({}, O[v], {
                            html: s(g),
                            isFetching: !1
                        })))));
                    case l.GET_HTML.failure:
                        var E = t.token
                            , w = t.chapterUid
                            , S = e[E];
                        return c({}, e, u({}, E, c({}, S, u({}, w, c({}, S[w], {
                            isFetching: !1
                        })))));
                    case l.GET_SM_SEARCH_CONTENT.success:
                        var P = t.token
                            , k = t.chapterUid
                            , j = t.payload
                            , _ = e[P];
                        return c({}, e, u({}, P, c({}, _, u({}, k, c({}, _[k], {
                            html: s(function (e, t, n) {
                                if ((e.split(">") - 1 + e.split("<") - 1) % 2 || t < 0 || n < 0)
                                    return e;
                                for (var r = "<span class='smHighlight'>", o = e.substring(t, t + n), a = 0; a < o.length; a++)
                                    "<" === o[a] ? r = "".concat(r, "</span>").concat(o[a]) : ">" === o[a] ? r = "".concat(r).concat(o[a], "<span class='smHighlight'>") : r += o[a];
                                return r += "</span>",
                                e.substring(0, t) + r + e.substring(t + n, e.length)
                            }(j.content, j.start, j.length)),
                            isFetching: !1
                        })))));
                    case l.GET_SM_SEARCH_CONTENT.failure:
                        var T = t.token
                            , C = t.chapterUid
                            , N = e[T];
                        return c({}, e, u({}, T, c({}, N, u({}, C, c({}, N[C], {
                            isFetching: !1
                        })))));
                    case l.GET_TRIAL_FINISH_INFO.success:
                        var I = t.token
                            , A = t.payload;
                        return c({}, e, u({}, I, c({}, e[I], {
                            trialFinishInfo: A
                        })));
                    default:
                        return e
                }
            }
        }, , , ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(4)
                , i = n(89)
                , c = n(344)
                , u = n(23)
                , l = n.n(u)
                , s = n(175)
                , f = n(268);

            function p(e) {
                return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function m(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function b(e, t) {
                return !t || "object" !== p(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function d(e) {
                return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function y(e, t) {
                return (y = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var h = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        b(this, d(t).apply(this, arguments))
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && y(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = l.a.parse(location.href, !0).query;
                        "webapp" === e.pay_from && (Object(f.a)({
                            pay_from: null
                        }),
                        void 0 === e.status && this.alert())
                    }
                }, {
                    key: "alert",
                    value: function () {
                        var e = this.props
                            , t = e.onSuccess
                            , n = e.onFail;
                        s.a.confirm(o.a.createElement("div", {
                            style: {
                                textAlign: "center"
                            }
                        }, o.a.createElement("h3", {
                            style: {
                                marginBottom: "15px",
                                fontSize: "18px",
                                fontWeight: "bold"
                            }
                        }, "确认支付成功"), o.a.createElement("p", null, "支付完成前，请不要关闭此窗口。支付完成后，请根据支付状态点击以下按钮。")), {
                            text: {
                                ok: "支付成功",
                                cancel: "支付失败，重新支付"
                            }
                        }).then(function () {
                            t()
                        }, function () {
                            n()
                        })
                    }
                }, {
                    key: "render",
                    value: function () {
                        return null
                    }
                }]) && m(n.prototype, r),
                a && m(n, a),
                    t
            }();
            h.defaultProps = {
                onSuccess: function () {
                    location.reload()
                },
                onFail: function () {
                }
            };
            var v = h;
            n.d(t, "a", function () {
                return v
            });
            var g = Object(i.a)(function () {
                return n.e(3).then(n.bind(null, 1221))
            }, function (e) {
                return e.ua.Zhihu && !1 !== e.useNativePayInApp ? null : o.a.createElement(c.a, null)
            }, "PayUI");
            t.b = Object(a.b)(function (e) {
                return {
                    ua: e.env.userAgent
                }
            })(g)
        }, ,
        function (e, t, n) {
            "use strict";
            (function (e) {
                    n.d(t, "c", function () {
                        return c
                    }),
                        n.d(t, "b", function () {
                            return u
                        }),
                        n.d(t, "a", function () {
                            return s
                        });
                    var r = n(5);

                    function o(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {}
                                , r = Object.keys(n);
                            "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                return Object.getOwnPropertyDescriptor(n, e).enumerable
                            }))),
                                r.forEach(function (t) {
                                    a(e, t, n[t])
                                })
                        }
                        return e
                    }

                    function a(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }

                    var i = Object(r.a)("pub", ["GET_PACKAGEINFO", "GET_PACKAGEBUYINFO"]);

                    function c(e) {
                        return {
                            API: {
                                types: i.GET_PACKAGEINFO,
                                endpoint: "v3/books/packages/".concat(e)
                            },
                            token: e
                        }
                    }

                    function u(t) {
                        var n = new e.FormData;
                        return n.append("token", t),
                            n.append("type", 1),
                            {
                                API: {
                                    types: i.GET_PACKAGEBUYINFO,
                                    endpoint: "v3/books/orders",
                                    method: "POST",
                                    body: n
                                }
                            }
                    }

                    var l = {
                        buyInfo: {}
                    };

                    function s() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l
                            , t = arguments.length > 1 ? arguments[1] : void 0;
                        switch (t.type) {
                            case i.GET_PACKAGEINFO.success:
                                return o({}, e, a({}, t.token, {
                                    packageInfo: t.payload
                                }));
                            case i.GET_PACKAGEBUYINFO.request:
                                return o({}, e, {
                                    buyInfo: o({}, e.buyInfo, {
                                        isFetching: !0
                                    })
                                });
                            case i.GET_PACKAGEBUYINFO.success:
                                return o({}, e, {
                                    buyInfo: o({}, t.payload, {
                                        isFetching: !1
                                    })
                                });
                            case i.GET_PACKAGEBUYINFO.failure:
                                return o({}, e, {
                                    buyInfo: o({}, e.buyInfo, {
                                        isFetching: !1
                                    })
                                });
                            default:
                                return e
                        }
                    }
                }
            ).call(this, n(26))
        }, , , , , , , , , , , , , , ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(45)
                , i = n.n(a)
                , c = n(12)
                , u = n(10)
                , l = n(183)
                , s = n(13)
                , f = n(58)
                , p = n(14)
                , m = n(27)
                , b = n(94)
                , d = n(7)
                , y = n(49)
                , h = n(393)
                , v = n.n(h);

            function g(e) {
                return (g = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function O(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function E(e) {
                return (E = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function w(e, t) {
                return (w = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function S(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function P(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            function k(e) {
                var t = e.book
                    , n = e.imageDefer
                    , r = t.id
                    , a = t.urlSearch
                    , c = void 0 === a ? "" : a
                    , u = "/pub/book/".concat(r).concat(c);
                return o.a.createElement(s.a, {
                    className: "MPub-features-horizontalItem",
                    to: u
                }, o.a.createElement(m.a, {
                    src: t.cover,
                    width: "130",
                    height: "173",
                    alt: t.title,
                    cornerText: t.cornerText,
                    defer: n
                }), o.a.createElement(i.a, {
                    component: "h3",
                    lineHeight: "18",
                    maxLine: "2",
                    text: t.title
                }), o.a.createElement("span", {
                    className: "authors"
                }, Object(d.o)(t.authors)))
            }

            function j(e) {
                var t = e.book
                    , n = e.imageDefer
                    , r = t.id
                    , a = t.urlSearch
                    , c = void 0 === a ? "" : a
                    , u = t.promotion
                    , l = t.score
                    , b = "/pub/book/".concat(r).concat(c)
                    , y = u[u.isPromotion ? "promotionPrice" : "price"];
                return o.a.createElement(s.a, {
                    className: "MPub-features-singleItem",
                    to: b
                }, o.a.createElement("div", {
                    className: "MPub-features-singleItem-info"
                }, o.a.createElement(i.a, {
                    component: "h3",
                    lineHeight: "22",
                    maxLine: "2",
                    text: t.title
                }), o.a.createElement("span", {
                    className: "authors"
                }, Object(d.o)(t.authors)), o.a.createElement("div", {
                    className: "price-score"
                }, u.isPromotion && o.a.createElement(p.a, {
                    cent: u.price,
                    className: "value"
                }), y ? o.a.createElement(p.a, {
                    cent: y,
                    className: "price"
                }) : o.a.createElement("span", {
                    className: "price"
                }, "免费"), !!l && o.a.createElement(f.a, {
                    className: "score",
                    score: l
                })), o.a.createElement(i.a, {
                    component: "p",
                    className: "description",
                    maxLine: 3,
                    lineHeight: 18,
                    text: t.description,
                    style: {
                        fontSize: 13
                    }
                })), o.a.createElement(m.a, {
                    src: t.cover,
                    width: "119",
                    height: "159",
                    alt: t.title,
                    cornerText: t.cornerText,
                    defer: n
                }))
            }

            var _ = function (e) {
                function t(e) {
                    var n, r, o;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        r = this,
                        o = E(t).call(this, e),
                        n = !o || "object" !== g(o) && "function" != typeof o ? S(r) : o,
                        P(S(S(n)), "handleClickChange", function (e) {
                            return u.a.trackEvent(e.target, {
                                action: "Change",
                                element: "Button"
                            }),
                                n.props.handleChangeSectionContent(n.props.id)
                        }),
                        n.viewObservers = [],
                        n
                }

                var r, a, i;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && w(e, t)
                }(t, o.a.PureComponent),
                    r = t,
                (a = [{
                    key: "componentDidUpdate",
                    value: function () {
                        this.viewObservers.length = this.props.books.length
                    }
                }, {
                    key: "checkBooksZaView",
                    value: function () {
                        var e = !0
                            , t = !1
                            , n = void 0;
                        try {
                            for (var r, o = this.viewObservers[Symbol.iterator](); !(e = (r = o.next()).done); e = !0) {
                                var a = r.value;
                                a && a.check()
                            }
                        } catch (e) {
                            t = !0,
                                n = e
                        } finally {
                            try {
                                e || null == o.return || o.return()
                            } finally {
                                if (t)
                                    throw n
                            }
                        }
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e, t = this, r = this.props, a = (r.displayType || "horizontal").toLowerCase(),
                            i = "changeable" === a, u = r.books, s = !1;
                        switch (a) {
                            case "changeable":
                            case "horizontal":
                                e = k,
                                    s = !0;
                                break;
                            case "single":
                                e = j;
                                break;
                            default:
                                e = l.a
                        }
                        return o.a.createElement(y.a, {
                            module: "EBookList",
                            moduleName: r.name,
                            trackCardShow: !0
                        }, o.a.createElement("section", {
                            className: "MPub-featureSection",
                            key: r.id || r.name
                        }, o.a.createElement("div", {
                            className: "MPub-featureSection-titleLine"
                        }, o.a.createElement("h2", null, r.name), i && o.a.createElement(b.a, {
                            className: "change",
                            onClick: this.handleClickChange,
                            minPendingTime: 500
                        }, o.a.createElement(c.a, {
                            src: n(475),
                            width: 12,
                            height: 14
                        }), o.a.createElement("span", null, "换一换")), !i && r.url && o.a.createElement("a", {
                            href: r.url,
                            "data-za-detail-view-element_name": "ViewAll"
                        }, "查看全部")), o.a.createElement("ul", {
                            className: "MPub-features-".concat(a),
                            "data-display-cornertext": r.displayCornerText
                        }, r.books.map(function (n, a) {
                            return o.a.createElement(y.a, Object.assign({
                                module: "EBookItem",
                                moduleName: n.title,
                                trackCardShow: !0,
                                content: {
                                    token: String(n.id),
                                    type: "EBook"
                                },
                                key: n.id
                            }, r.getContainer && {
                                getContainer: function () {
                                    return r.getContainer(r.index)
                                }
                            }, {
                                onRef: function (e) {
                                    t.viewObservers[a] = e
                                }
                            }), o.a.createElement("li", null, o.a.createElement(e, {
                                book: function (e) {
                                    for (var t = 1; t < arguments.length; t++) {
                                        var n = null != arguments[t] ? arguments[t] : {}
                                            , r = Object.keys(n);
                                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                                        }))),
                                            r.forEach(function (t) {
                                                P(e, t, n[t])
                                            })
                                    }
                                    return e
                                }({}, n, {
                                    index: a,
                                    urlSearch: "?".concat(Object(d.g)(n.id, u)),
                                    extraInfo: r.books.extraInfo
                                }),
                                imageDefer: r.imageDefer
                            })))
                        }), s && Array(5).fill(null).map(function (e, t) {
                            return o.a.createElement("li", {
                                className: "MPub-features-horizontalItemHolder",
                                key: "holder-".concat(t)
                            })
                        }))))
                    }
                }]) && O(r.prototype, a),
                i && O(r, i),
                    t
            }();
            _.css = v.a,
                t.a = _
        },
        function (e, t, n) {
            "use strict";
            var r = n(1)
                , o = n.n(r)
                , a = n(0)
                , i = n.n(a)
                , c = n(4)
                , u = n(12)
                , l = n(3)
                , s = n(67)
                , f = n(256)
                , p = n(396)
                , m = n.n(p);

            function b(e) {
                return (b = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function d(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function y(e, t) {
                return !t || "object" !== b(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function h(e) {
                return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function v(e, t) {
                return (v = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function g(e) {
                return i.a.createElement(l.c, Object.assign({
                    activeClassName: "is-active",
                    onlyActiveOnIndex: !0
                }, e))
            }

            var O, E, w, S = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        y(this, h(t).apply(this, arguments))
                }

                var r, o, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && v(e, t)
                }(t, i.a.PureComponent),
                    r = t,
                (o = [{
                    key: "componentDidMount",
                    value: function () {
                        this.context.currentUser && this.props.dispatch(Object(s.d)())
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props.shelf.unreadWeekly;
                        return i.a.createElement("div", {
                            className: "MPub-bottomBarBase"
                        }, i.a.createElement("ul", {
                            className: "MPub-bottomTabs",
                            "data-za-module": "BottomBar"
                        }, i.a.createElement("li", null, i.a.createElement(g, {
                            to: "/pub/",
                            "data-za-detail-view-name": "书店首页"
                        }, i.a.createElement(u.a, {
                            src: n(469),
                            width: 15
                        }), i.a.createElement("span", null, "书店首页"))), i.a.createElement("li", null, i.a.createElement(g, {
                            to: "/pub/categories",
                            "data-za-detail-view-name": "分类"
                        }, i.a.createElement(u.a, {
                            src: n(264),
                            width: 18.5
                        }), i.a.createElement("span", null, "分类"))), i.a.createElement("li", null, i.a.createElement("a", {
                            href: "https://www.zhihu.com/pub/shelf",
                            onClick: this.context.authRequired,
                            "data-za-detail-view-name": "书架"
                        }, i.a.createElement(f.a, {
                            className: "Tab-Shelf",
                            width: 21,
                            height: 21
                        }), i.a.createElement("span", null, "书架"), e && i.a.createElement("span", {
                            className: "Pub-redDot"
                        })))))
                    }
                }]) && d(r.prototype, o),
                a && d(r, a),
                    t
            }();
            O = S,
                E = "contextTypes",
                w = {
                    router: o.a.object,
                    currentUser: o.a.object,
                    authRequired: o.a.func
                },
                E in O ? Object.defineProperty(O, E, {
                    value: w,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : O[E] = w,
                S.css = m.a,
                t.a = Object(c.b)(function (e) {
                    return {
                        shelf: e.shelf
                    }
                })(S)
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(49)
                , i = n(185)
                , c = n(13)
                , u = n(399)
                , l = n.n(u);

            function s(e) {
                return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function f(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function p(e, t) {
                return !t || "object" !== s(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function m(e) {
                return (m = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function b(e, t) {
                return (b = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var d = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        p(this, m(t).apply(this, arguments))
                }

                var n, r, u;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && b(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.name
                            , n = e.books
                            , r = void 0 === n ? [] : n
                            , u = e.url
                            , l = e.displayType
                            , s = void 0 === l ? "vertical" : l
                            , f = this.props.component || i.b
                            , p = t ? {
                            "data-za-module": "ContentList",
                            "data-za-detail-view-path-module_name": "有声书"
                        } : {}
                            , m = t ? {
                            "data-za-detail-view-id": 518
                        } : {}
                            , b = t ? {
                            "data-za-detail-view-id": 519
                        } : {};
                        return o.a.createElement("div", {
                            className: "MPub-audiobookSection"
                        }, t && o.a.createElement("div", {
                            className: "MPub-audiobookSection-titleLine"
                        }, o.a.createElement("h2", null, t), u && o.a.createElement(c.a, {
                            to: u,
                            zh_navigation_bar_type: "back_title_empty",
                            zh_nav_left: "arrow",
                            zh_nav_right: "empty",
                            "data-za-detail-view-id": 522
                        }, "查看全部")), o.a.createElement("ul", Object.assign({
                            className: "MPub-audio-books-".concat(s)
                        }, p), r.map(function (e, n) {
                            return o.a.createElement(a.a, {
                                module: "AudioBookItem",
                                content: {
                                    token: String(e.urlToken),
                                    type: "AudioBook"
                                },
                                key: n,
                                trackCardShow: !!t
                            }, o.a.createElement("li", Object.assign({
                                key: n
                            }, m), o.a.createElement(f, Object.assign({
                                book: e
                            }, b))))
                        })))
                    }
                }]) && f(n.prototype, r),
                u && f(n, u),
                    t
            }();
            d.css = l.a,
                t.a = d
        }, ,
        function (e, t, n) {
            "use strict";
            (function (e) {
                    n.d(t, "a", function () {
                        return m
                    });
                    var r = n(0)
                        , o = n.n(r)
                        , a = n(104)
                        , i = n.n(a)
                        , c = n(2)
                        , u = n.n(c)
                        , l = n(70);
                    n(708);

                    function s(e, t) {
                        if (null == e)
                            return {};
                        var n, r, o = function (e, t) {
                            if (null == e)
                                return {};
                            var n, r, o = {}, a = Object.keys(e);
                            for (r = 0; r < a.length; r++)
                                n = a[r],
                                t.indexOf(n) >= 0 || (o[n] = e[n]);
                            return o
                        }(e, t);
                        if (Object.getOwnPropertySymbols) {
                            var a = Object.getOwnPropertySymbols(e);
                            for (r = 0; r < a.length; r++)
                                n = a[r],
                                t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                        }
                        return o
                    }

                    i.a.defaultStyles.overlay = {},
                        i.a.defaultStyles.content = {};
                    var f = ["overlay", "content", "closeButton", "title"].reduce(function (e, t) {
                        return e[t] = "LightModal-".concat(t),
                            e
                    }, {})
                        , p = function (e) {
                        var t = e.onClick
                            , n = e.className;
                        return o.a.createElement("button", {
                            title: "关闭",
                            className: u()(f.closeButton, n),
                            onClick: t
                        }, o.a.createElement(l.a, {
                            name: "remove",
                            width: 14,
                            height: 14
                        }))
                    };

                    function m(e) {
                        var t = e.children
                            , n = e.className;
                        return o.a.createElement("h1", {
                            className: u()(f.title, n)
                        }, t)
                    }

                    t.b = function (t) {
                        var n = t.children
                            , r = t.onRequestClose
                            , a = t.hasCloseButton
                            , c = void 0 === a || a
                            , l = t.closeButton
                            , m = void 0 === l ? null : l
                            , b = t.className
                            , d = t.closeButtonClassName
                            ,
                            y = s(t, ["children", "onRequestClose", "hasCloseButton", "closeButton", "className", "closeButtonClassName"]);
                        return c && !m && (m = o.a.createElement(p, {
                            onClick: r,
                            className: d
                        })),
                        e.document && i.a.setAppElement("#root, body"),
                            o.a.createElement(i.a, Object.assign({}, y, {
                                onRequestClose: r,
                                className: u()(b, f.content),
                                overlayClassName: f.overlay
                            }), n, c && m)
                    }
                }
            ).call(this, n(26))
        }, , , , , , , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return c
            });
            var r = n(0)
                , o = n.n(r)
                , a = n(161);

            function i() {
                return n.e(11).then(n.bind(null, 766))
            }

            function c(e) {
                return o.a.createElement(a.a, Object.assign({}, e, {
                    getComponent: i
                }))
            }
        }, , , , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "b", function () {
                return s
            }),
                n.d(t, "a", function () {
                    return p
                });
            var r = n(23)
                , o = n.n(r)
                , a = n(5)
                , i = n(20);

            function c(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            u(e, t, n[t])
                        })
                }
                return e
            }

            function u(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var l = Object(a.a)("pub", ["GET_SELF"]);

            function s(e) {
                return function (t, n) {
                    var r = n().self.next;
                    return e = e || c({}, o.a.parse(r, !0).query, {
                        limit: 10,
                        hide_free: 1
                    }),
                        t({
                            API: {
                                types: l.GET_SELF,
                                endpoint: "v3/books/self",
                                query: e
                            }
                        })
                }
            }

            var f = new i.a;

            function p() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : f
                    , t = arguments.length > 1 ? arguments[1] : void 0;
                switch (t.type) {
                    case l.GET_SELF.request:
                        return c({}, e, {
                            isFetching: !0
                        });
                    case l.GET_SELF.success:
                        var n = t.payload
                            , r = n.paging
                            , o = n.data;
                        return c({}, e, {
                            next: r ? r.next : "",
                            items: o ? e.items.concat(o) : e.items,
                            isFetching: !1,
                            isDrained: !r || r.isEnd
                        });
                    case l.GET_SELF.failure:
                        return c({}, e, {
                            isFetching: !1
                        });
                    default:
                        return e
                }
            }
        },
        function (e, t, n) {
            "use strict";

            function r(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            n.d(t, "a", function () {
                return i
            });
            var o = /(https?:)?\/\/([a-z\d]+\.zhimg\.com)\/(?:([a-z\d]+\.zhimg\.com)\/)?(?:(\d+)\/)?([a-z\d-]+)(?:_(\w+))?\.(\w+)$/i
                , a = function () {
                function e(t) {
                    var n = this
                        , r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, e);
                    var a = o.exec(t);
                    a ? ["protocol", "host", "originHost", "quality", "hash", "size", "extension"].forEach(function (e, t) {
                        n[e] = void 0 === r[e] ? a[t + 1] : r[e],
                            n[e] = n[e] || ""
                    }) : this.raw = t,
                        this.parsable = Boolean(a)
                }

                var t, n, a;
                return t = e,
                (n = [{
                    key: "setQuality",
                    value: function (t) {
                        return this.parsable ? new e(this.toString(), {
                            quality: t
                        }) : this
                    }
                }, {
                    key: "setSize",
                    value: function (t) {
                        return this.parsable ? new e(this.toString(), {
                            size: t
                        }) : this
                    }
                }, {
                    key: "setExtension",
                    value: function (t) {
                        return this.parsable ? new e(this.toString(), {
                            extension: t
                        }) : this
                    }
                }, {
                    key: "setHost",
                    value: function (t) {
                        var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        return this.originHost && !n ? this : this.parsable ? new e(this.toString(), {
                            host: t
                        }) : this
                    }
                }, {
                    key: "toString",
                    value: function () {
                        if (!this.parsable)
                            return this.raw;
                        var e = this.protocol
                            , t = this.host
                            , n = this.originHost
                            , r = this.quality
                            , o = this.hash
                            , a = this.size
                            , i = this.extension;
                        return ["".concat(e, "//").concat(t), n, r, "".concat(o).concat(a ? "_".concat(a) : "", ".").concat(i)].filter(Boolean).join("/")
                    }
                }]) && r(t.prototype, n),
                a && r(t, a),
                    e
            }();

            function i() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                    , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                "string" == typeof t && (t = {
                    size: t
                });
                var n = new a(e);
                return void 0 !== t.size && (n = n.setSize(t.size)),
                void 0 !== t.quality && (n = n.setQuality(t.quality)),
                t.forceExtension && (n = n.setExtension(t.forceExtension)),
                t.unifyPicHost && /^pic\d\./.test(n.host) && (n = n.setHost(n.host.replace(/^pic\d\./, "pic1."))),
                    n.toString()
            }
        },
        function (e, t, n) {
            "use strict";
            (function (e) {
                    var r = n(0)
                        , o = n.n(r)
                        , a = n(4)
                        , i = n(30)
                        , c = n.n(i)
                        , u = n(88)
                        , l = n.n(u)
                        , s = n(2)
                        , f = n.n(s)
                        , p = n(17)
                        , m = n(7)
                        , b = n(247)
                        , d = n(200)
                        , y = n(64)
                        , h = n(457)
                        , v = n.n(h);

                    function g(e) {
                        return (g = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                                    return typeof e
                                }
                                : function (e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                }
                        )(e)
                    }

                    function O(e, t) {
                        if (null == e)
                            return {};
                        var n, r, o = function (e, t) {
                            if (null == e)
                                return {};
                            var n, r, o = {}, a = Object.keys(e);
                            for (r = 0; r < a.length; r++)
                                n = a[r],
                                t.indexOf(n) >= 0 || (o[n] = e[n]);
                            return o
                        }(e, t);
                        if (Object.getOwnPropertySymbols) {
                            var a = Object.getOwnPropertySymbols(e);
                            for (r = 0; r < a.length; r++)
                                n = a[r],
                                t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                        }
                        return o
                    }

                    function E(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {}
                                , r = Object.keys(n);
                            "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                return Object.getOwnPropertyDescriptor(n, e).enumerable
                            }))),
                                r.forEach(function (t) {
                                    j(e, t, n[t])
                                })
                        }
                        return e
                    }

                    function w(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value" in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }

                    function S(e) {
                        return (S = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                                return e.__proto__ || Object.getPrototypeOf(e)
                            }
                        )(e)
                    }

                    function P(e, t) {
                        return (P = Object.setPrototypeOf || function (e, t) {
                                return e.__proto__ = t,
                                    e
                            }
                        )(e, t)
                    }

                    function k(e) {
                        if (void 0 === e)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }

                    function j(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }

                    var _ = [{
                        title: "电子书",
                        url: "/pub/self"
                    }, {
                        title: "有声书",
                        url: "/pub/self/audiobook"
                    }]
                        , T = function (t) {
                        function n(e) {
                            var t, r, a;
                            return function (e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, n),
                                r = this,
                                a = S(n).call(this, e),
                                t = !a || "object" !== g(a) && "function" != typeof a ? k(r) : a,
                                j(k(k(t)), "onResize", function () {
                                    t.setState(E({}, t.getSizes()))
                                }),
                                j(k(k(t)), "getCarouselContainer", function (e) {
                                    var n = t.state
                                        , r = n.winWidth
                                        , a = n.tab
                                        , i = n.isCarouselNeedReload
                                        , c = e.cursor
                                        , u = (e.carouselState,
                                        O(e, ["cursor", "carouselState"]))
                                        , l = Math.min(Math.max(-c * r / 2, 0), 1 * r / 2)
                                        , s = c * r;
                                    return o.a.createElement("div", {
                                        className: "Self-carousel-container"
                                    }, o.a.createElement("div", {
                                        className: "Self-carousel-tab"
                                    }, _.map(function (e, n) {
                                        return o.a.createElement("div", {
                                            key: n,
                                            className: f()("Self-carousel-tabItem", {
                                                active: n === a
                                            }),
                                            onClick: function () {
                                                return t.setTab(n)
                                            }
                                        }, e.title)
                                    }), o.a.createElement("div", {
                                        className: "Self-tab-active-bar",
                                        style: {
                                            transform: i ? "translateX(".concat(l, "px)") : "translate3d(".concat(l, "px, 0, 0)")
                                        }
                                    })), o.a.createElement(y.a, null, o.a.createElement(y.a, Object.assign({
                                        className: "Self-carousel-track",
                                        style: Object(m.a)({
                                            transform: i ? "translateX(".concat(s, "px)") : "translate3d(".concat(s, "px, 0, 0)")
                                        })
                                    }, u))))
                                }),
                                j(k(k(t)), "renderCard", function (e, t, n) {
                                    return o.a.createElement("div", {
                                        key: e,
                                        className: "Self-carousel-card"
                                    }, 0 === t ? o.a.createElement(d.a, null) : o.a.createElement(b.a, null))
                                }),
                                t.state = E({
                                    isCarouselNeedReload: !1,
                                    tab: e.location.pathname === _[0].url ? 0 : 1
                                }, t.getSizes()),
                                t
                        }

                        var r, a, i;
                        return function (e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function");
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && P(e, t)
                        }(n, o.a.PureComponent),
                            r = n,
                        (a = [{
                            key: "componentDidMount",
                            value: function () {
                                var e = this;
                                this.props.ua.Zhihu && (window.addEventListener("resize", this.onResize),
                                375 !== this.getSizes().winWidth && this.setState({
                                    isCarouselNeedReload: !0
                                }),
                                    p.a.supportsEvent("iOS/statusBarTap").then(function (t) {
                                        t && p.a.listen("iOS/statusBarTap", function () {
                                            document.querySelectorAll(".MPub-SelfBooks-InfiLoader")[e.state.tab].scrollTo(0, 0)
                                        })
                                    }))
                            }
                        }, {
                            key: "componentWillUnmount",
                            value: function () {
                                this.props.ua.Zhihu && window.removeEventListener("resize", this.onResize)
                            }
                        }, {
                            key: "getSizes",
                            value: function () {
                                return {
                                    winWidth: e.document ? document.documentElement.clientWidth : 375
                                }
                            }
                        }, {
                            key: "setTab",
                            value: function (e) {
                                this.setState({
                                    tab: e
                                }),
                                    window.history.replaceState({}, null, _[e].url),
                                    this.touchCarousel.setCursor(-e)
                            }
                        }, {
                            key: "render",
                            value: function () {
                                var e = this
                                    , t = this.state
                                    , n = t.tab
                                    , r = t.winWidth
                                    , a = this.props.ua;
                                return o.a.createElement("div", {
                                    className: "MPub-Self"
                                }, o.a.createElement(c.a, {
                                    title: "已购"
                                }), a.Zhihu ? o.a.createElement(l.a, {
                                    component: this.getCarouselContainer,
                                    cardCount: 2,
                                    cardSize: r,
                                    renderCard: this.renderCard,
                                    defaultCursor: -n,
                                    loop: !1,
                                    autoplay: 0,
                                    onRest: function (t, n) {
                                        e.setTab(n)
                                    },
                                    ref: function (t) {
                                        e.touchCarousel = t
                                    }
                                }) : o.a.createElement("div", {
                                    className: "MPub-BookSelfWeb"
                                }, o.a.createElement(d.a, null)))
                            }
                        }]) && w(r.prototype, a),
                        i && w(r, i),
                            n
                    }();
                    j(T, "fetchData", function (e) {
                        return e.getState().env.userAgent.Zhihu && e.location.pathname !== _[0].url ? b.a.fetchData(e) : d.a.fetchData(e)
                    }),
                        T.css = v.a,
                        t.a = Object(a.b)(function (e) {
                            return {
                                ua: e.env.userAgent
                            }
                        })(T)
                }
            ).call(this, n(26))
        }, ,
        function (e, t, n) {
            "use strict";
            var r = n(82);
            n.d(t, "a", function () {
                return r.a
            }),
                n.d(t, "b", function () {
                    return r.c
                }),
                n.d(t, "c", function () {
                    return r.e
                })
        }, , , , , , , , , , , , , , , , , , ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(12)
                , u = n(61);
            n(741);

            function l(e) {
                return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function s(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            y(e, t, n[t])
                        })
                }
                return e
            }

            function f(e, t) {
                return function (e) {
                    if (Array.isArray(e))
                        return e
                }(e) || function (e, t) {
                    var n = []
                        , r = !0
                        , o = !1
                        , a = void 0;
                    try {
                        for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value),
                        !t || n.length !== t); r = !0)
                            ;
                    } catch (e) {
                        o = !0,
                            a = e
                    } finally {
                        try {
                            r || null == c.return || c.return()
                        } finally {
                            if (o)
                                throw a
                        }
                    }
                    return n
                }(e, t) || function () {
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }()
            }

            function p(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function m(e) {
                return (m = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function b(e, t) {
                return (b = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function d(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function y(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var h = function (e) {
                function t(e) {
                    var n, r, o;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        r = this,
                        o = m(t).call(this, e),
                        n = !o || "object" !== l(o) && "function" != typeof o ? d(r) : o,
                        y(d(d(n)), "onActive", function (e) {
                            n.setState({
                                active: !0
                            })
                        }),
                        y(d(d(n)), "onBlur", function () {
                            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                                , t = !1
                                , r = e.target
                                , o = e.type
                                , a = n.props
                                , i = a.trigger
                                , c = a.hideOnClick;
                            switch (!0) {
                                case !!r.closest("#".concat(i)):
                                    "mouseout" === o && (t = !0);
                                    break;
                                case r.closest(".pop-item") === n.el:
                                    "click" === o && c && (t = !0);
                                    break;
                                default:
                                    t = !0
                            }
                            t && n.setState({
                                active: !1
                            })
                        }),
                        y(d(d(n)), "colors", {
                            blue: {
                                backgroundColor: "#0084FF",
                                boxShadow: "0 3px 10px 0 rgba(0, 132, 255, 0.20)"
                            }
                        }),
                        n.listening = [],
                        n.state = {
                            active: !1
                        },
                        n
                }

                var r, a, h;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && b(e, t)
                }(t, o.a.PureComponent),
                    r = t,
                (a = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props
                            , t = e.trigger
                            , n = e.event
                            , r = void 0 === n ? "click" : n
                            , o = e.hideOnClick
                            , a = document.getElementById(t)
                            , i = Object(u.a)(navigator.userAgent);
                        if (a)
                            switch (r) {
                                case "click":
                                    this.on(a, "click", this.onActive),
                                        this.on(window, i.Mobile ? "touchstart" : "click", this.onBlur),
                                    o && this.on(this.el, "click", this.onBlur);
                                    break;
                                case "hover":
                                    this.on(a, "mouseover", this.onActive),
                                        this.on(a, "mouseout", this.onBlur)
                            }
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function () {
                        var e = !0
                            , t = !1
                            , n = void 0;
                        try {
                            for (var r, o = this.listening[Symbol.iterator](); !(e = (r = o.next()).done); e = !0) {
                                var a = f(r.value, 3)
                                    , i = a[0]
                                    , c = a[1]
                                    , u = a[2];
                                i.removeEventListener(c, u)
                            }
                        } catch (e) {
                            t = !0,
                                n = e
                        } finally {
                            try {
                                e || null == o.return || o.return()
                            } finally {
                                if (t)
                                    throw n
                            }
                        }
                        this.listening = []
                    }
                }, {
                    key: "on",
                    value: function (e, t, n) {
                        e.addEventListener(t, n),
                            this.listening.push([e, t, n])
                    }
                }, {
                    key: "hide",
                    value: function () {
                        this.onBlur()
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props
                            , r = t.className
                            , a = t.style
                            , u = t.arrow
                            , l = t.children
                            , f = this.props.color
                            , p = this.colors[f];
                        p && (f = p.backgroundColor);
                        var m = this.state.active;
                        return o.a.createElement("div", {
                            ref: function (t) {
                                e.el = t
                            },
                            className: i()("pop-item", r, m && "active"),
                            style: s({}, p || f && {
                                backgroundColor: f
                            }, !m && {
                                display: "none"
                            }, a)
                        }, o.a.createElement("div", null, l), ["top", "bottom"].indexOf(u) > -1 && o.a.createElement("div", {
                            className: "pop-arrow",
                            style: s(y({}, u, "-7px"), f && {
                                color: f
                            })
                        }, o.a.createElement(c.a, {
                            src: n(742)("./pop-".concat(u, "-arrow.svg"))
                        })))
                    }
                }]) && p(r.prototype, a),
                h && p(r, h),
                    t
            }();
            t.a = h
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return f
            });
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(7)
                , u = n(416)
                , l = n.n(u);

            function s(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function f(e) {
                var t = e.component
                    , n = void 0 === t ? "div" : t
                    , r = e.content
                    , a = void 0 === r ? "" : r
                    , u = e.className
                    , l = e.theme
                    , f = void 0 === l ? "default" : l
                    , p = s(e, ["component", "content", "className", "theme"]);
                return o.a.createElement(n, Object.assign({
                    className: i()("Pub-markdownView Pub-HTMLView", u),
                    "data-theme": f,
                    dangerouslySetInnerHTML: {
                        __html: Object(c.k)(a)
                    }
                }, p))
            }

            f.css = l.a
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "b", function () {
                return i
            }),
                n.d(t, "a", function () {
                    return c
                });
            var r = n(5);

            function o(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var a = function (e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            o(e, t, n[t])
                        })
                }
                return e
            }({}, Object(r.a)("sms", ["SUPPORTED_COUNTRIES"]));

            function i() {
                return {
                    API: {
                        types: a.SUPPORTED_COUNTRIES,
                        endpoint: "v3/oauth/sms/supported_countries",
                        method: "GET"
                    }
                }
            }

            function c() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                    supportedCountries: []
                }
                    , t = arguments.length > 1 ? arguments[1] : void 0;
                return t.type === a.SUPPORTED_COUNTRIES.success ? {
                    supportedCountries: t.payload.data
                } : e
            }
        },
        function (e, t, n) {
            "use strict";
            (function (e) {
                    function r(t) {
                        return (new e.DOMParser).parseFromString(t, "text/html").body
                    }

                    n.d(t, "a", function () {
                        return r
                    })
                }
            ).call(this, n(26))
        }, ,
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return p
            });
            var r = n(0)
                , o = n(1)
                , a = n.n(o);

            function i(e) {
                return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function c(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function u(e) {
                return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function l(e, t) {
                return (l = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function s(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function f(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var p = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, c = new Array(a), l = 0; l < a; l++)
                        c[l] = arguments[l];
                    return r = this,
                        o = (e = u(t)).call.apply(e, [this].concat(c)),
                        n = !o || "object" !== i(o) && "function" != typeof o ? s(r) : o,
                        f(s(s(n)), "state", {
                            visible: n.props.disabled
                        }),
                        f(s(s(n)), "onShow", function () {
                            n.setState({
                                visible: !0
                            })
                        }),
                        n
                }

                var n, o, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && l(e, t)
                }(t, r["Component"]),
                    n = t,
                (o = [{
                    key: "componentDidMount",
                    value: function () {
                        this.state.visible || (this.timeout = setTimeout(this.onShow, this.props.timeout))
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function () {
                        this.timeout && clearTimeout(this.timeout)
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.children
                            , n = e.placeholder;
                        return this.state.visible ? t : n
                    }
                }]) && c(n.prototype, o),
                a && c(n, a),
                    t
            }();
            f(p, "propTypes", {
                disabled: a.a.bool,
                placeholder: a.a.node,
                timeout: a.a.number
            }),
                f(p, "defaultProps", {
                    disabled: !1,
                    placeholder: null,
                    timeout: 0
                })
        }, ,
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return r
            });
            var r = 147
        }, ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r);

            function a(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            var i = function (e) {
                var t = e.component
                    , n = e.className
                    , r = e.dummyCount
                    , i = e.listItemClassName
                    , c = e.children
                    , u = a(e, ["component", "className", "dummyCount", "listItemClassName", "children"]);
                return c ? o.a.createElement(t, Object.assign({
                    className: n
                }, u), c, Array.from({
                    length: r
                }).map(function (e, t) {
                    return o.a.createElement("li", {
                        key: "dummy-".concat(t),
                        className: i
                    })
                })) : null
            };
            i.defaultProps = {
                component: "ul",
                dummyCount: 4
            },
                t.a = i
        }, ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(420)
                , u = n.n(c);

            function l(e) {
                return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function s(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function f(e) {
                return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function p(e, t) {
                return (p = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function m(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var b = function (e) {
                function t() {
                    var e, n, r, o, a, i, c;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var u = arguments.length, s = new Array(u), p = 0; p < u; p++)
                        s[p] = arguments[p];
                    return r = this,
                        o = (e = f(t)).call.apply(e, [this].concat(s)),
                        n = !o || "object" !== l(o) && "function" != typeof o ? m(r) : o,
                        a = m(m(n)),
                        c = function () {
                            n.props.onAcquire(n.props.urlToken)
                        }
                        ,
                        (i = "handleAcquire") in a ? Object.defineProperty(a, i, {
                            value: c,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : a[i] = c,
                        n
                }

                var n, a, c;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && p(e, t)
                }(t, r["Component"]),
                    n = t,
                (a = [{
                    key: "renderTitle",
                    value: function () {
                        var e, t = "￥" === (e = (e = this.props.title).trim())[0] ? [{
                            text: "￥"
                        }, {
                            text: e.slice(1).trim(),
                            em: !0
                        }] : e.endsWith("元兑换") ? [{
                            text: e.slice(0, -3).trim(),
                            em: !0
                        }, {
                            text: "元兑换"
                        }] : "免费兑换" === e ? [{
                            text: "免费",
                            em: !0
                        }, {
                            text: "兑换"
                        }] : e.endsWith("折") ? [{
                            text: e.slice(0, -1).trim(),
                            em: !0
                        }, {
                            text: "折"
                        }] : [{
                            text: e
                        }];
                        return o.a.createElement("div", {
                            className: "PubCoupon-price"
                        }, t.map(function (e, t) {
                            var n = e.text
                                , r = e.em ? "em" : "span";
                            return o.a.createElement(r, {
                                className: /[^\d.]/.test(n) ? "PubCoupon-zh" : "",
                                key: t
                            }, n)
                        }))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.status
                            , n = e.extra
                            , r = e.statusMessage
                            , a = e.isFetching
                            , c = e.isDrained;
                        return o.a.createElement("div", {
                            className: i()("PubCoupon", {
                                "PubCoupon--grey": "available" !== t || c,
                                "PubCoupon--loading": a
                            }),
                            onClick: this.handleAcquire
                        }, o.a.createElement("div", {
                            className: "PubCoupon-detail"
                        }, this.renderTitle(), o.a.createElement("div", {
                            className: "PubCoupon-restriction"
                        }, n)), o.a.createElement("div", {
                            className: "PubCoupon-get"
                        }, o.a.createElement("span", null, r)))
                    }
                }]) && s(n.prototype, a),
                c && s(n, c),
                    t
            }();
            b.css = u.a,
                t.a = b
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(172)
                , i = n.n(a)
                , c = n(29)
                , u = n(14)
                , l = n(448)
                , s = n.n(l);

            function f(e) {
                return (f = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function p(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function m(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function b(e) {
                return (b = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function d(e, t) {
                return (d = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function y(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var h = function (e) {
                function t() {
                    var e, n, r, a, c, u, l;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var s = arguments.length, p = new Array(s), m = 0; m < s; m++)
                        p[m] = arguments[m];
                    return r = this,
                        a = (e = b(t)).call.apply(e, [this].concat(p)),
                        n = !a || "object" !== f(a) && "function" != typeof a ? y(r) : a,
                        c = y(y(n)),
                        l = function () {
                            var e = n.props.packageData
                                , t = e.name
                                , r = e.books.map(function (e) {
                                    return "<p class='bookItem' style='white-space: nowrap;'>《<span class='bookTitle'>".concat(e.title, "</span>》</p>")
                                })
                                ,
                                a = "<h3 style='display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;'>".concat(t, "</h3>\n      ").concat(r.join(""));
                            return o.a.createElement(i.a, {
                                className: "booksInfo",
                                unsafeHTML: a,
                                maxLine: 3,
                                ellipsis: ""
                            })
                        }
                        ,
                        (u = "renderBooksInfo") in c ? Object.defineProperty(c, u, {
                            value: l,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : c[u] = l,
                        n
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && d(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.packageData
                            , n = e.component
                            , r = e.imageDefer
                            , a = p(e, ["packageData", "component", "imageDefer"])
                            , i = t.mode
                            , l = t.imageUrl
                            , s = t.totals
                            , f = t.discountInfo
                            , m = "full" === i;
                        return o.a.createElement(n, Object.assign({}, a, {
                            className: "Pub-Package-Summary"
                        }), m && o.a.createElement(c.a, {
                            className: "full-mode",
                            src: l,
                            width: "690",
                            height: "281",
                            defer: r
                        }), !m && o.a.createElement("div", {
                            className: "partial-mode"
                        }, o.a.createElement(c.a, {
                            src: l,
                            width: "320",
                            height: "384",
                            spec: "r",
                            defer: r
                        }), o.a.createElement("div", {
                            className: "packageInfo"
                        }, this.renderBooksInfo(), o.a.createElement("p", {
                            className: "ellipsis"
                        }, "..."), o.a.createElement("p", {
                            className: "totals"
                        }, "打包购买 ", s, " 本电子书"), f && o.a.createElement("div", {
                            className: "price"
                        }, o.a.createElement(u.a, {
                            className: "DiscountPrice",
                            cent: f.payPrice
                        }), o.a.createElement(u.a, {
                            className: "OriginPrice",
                            cent: f.originPrice
                        })))))
                    }
                }]) && m(n.prototype, r),
                a && m(n, a),
                    t
            }();
            h.defaultProps = {
                component: "div",
                packageData: {}
            },
                h.css = s.a,
                t.a = h
        }, , , , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "b", function () {
                return a
            });
            var r = n(5)
                , o = Object(r.a)("config", ["GET_APP_CONFIG"])
                , a = function () {
                return {
                    API: {
                        types: o.GET_APP_CONFIG,
                        method: "GET",
                        endpoint: "v3/oauth/app_config",
                        query: {
                            platform: "ios",
                            version: "3.54.1",
                            resolution: "640x1136",
                            version_code: "635",
                            os_version: "10.3",
                            build: "release"
                        },
                        headers: {
                            "X-API-VERSION": "3.0.57"
                        }
                    }
                }
            };
            t.a = function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                    , t = arguments.length > 1 ? arguments[1] : void 0
                    , n = t.type
                    , r = t.payload;
                if (n === o.GET_APP_CONFIG.success) {
                    var a = r.config.userNotBindPhoneTipString;
                    return {
                        isWindow: a.skipUtVerification,
                        canWrite: 1 === a.continue,
                        alertTimeSpan: Number(a.continueTime),
                        tip: a.tip
                    }
                }
                return e
            }
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "b", function () {
                return c
            }),
                n.d(t, "a", function () {
                    return l
                });
            var r = n(5);

            function o(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var a = {
                status: 0,
                data: [{
                    time: Date.now(),
                    context: "在北京海淀区学清路公司进行扫描派件"
                }, {
                    time: Date.now() - 864e5,
                    context: "在北京分拨中心进行卸车扫描"
                }, {
                    time: new Date("2018-04-09 11:31:00"),
                    context: "在山东青岛城阳区二公司进行揽件扫描"
                }, {
                    time: new Date("2018-04-08 11:31:00"),
                    context: "卖家发货"
                }, {
                    time: new Date("2018-04-08 11:31:00"),
                    context: "订单开始处理"
                }],
                expressCompany: "shunfeng",
                courierNumber: "SF123456789",
                provider: "kuaidi100"
            }
                , i = Object(r.a)("pub", ["GET_SHIPPING_INFO"]);

            function c(e) {
                return {
                    API: {
                        types: i.GET_SHIPPING_INFO,
                        endpoint: "pub/orders/".concat(e, "/shipping_info")
                    },
                    orderId: e
                }
            }

            var u = {
                demo: a
            };

            function l() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u
                    , t = arguments.length > 1 ? arguments[1] : void 0;
                switch (t.type) {
                    case i.GET_SHIPPING_INFO.success:
                        return function (e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {}
                                    , r = Object.keys(n);
                                "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                                }))),
                                    r.forEach(function (t) {
                                        o(e, t, n[t])
                                    })
                            }
                            return e
                        }({}, e, o({}, t.orderId, t.payload));
                    default:
                        return e
                }
            }
        }, ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(45)
                , u = n.n(c)
                , l = n(192)
                , s = n(12)
                , f = n(13)
                , p = n(58)
                , m = n(27)
                , b = n(7)
                , d = n(184)
                , y = function (e) {
                var t = e.book
                    , r = e.imageDefer
                    , a = t.extraInfo
                    , c = [];
                if (a) {
                    "string" == typeof a && (a = [a]);
                    for (var d = 0; d < a.length; d++) {
                        switch (a[d]) {
                            case "read_count_7days":
                                c.push(o.a.createElement("span", {
                                    className: "score",
                                    key: d
                                }, "本周 ", t.readCount7days, " 人在读"));
                                break;
                            case "pub_time":
                                c.push(o.a.createElement("span", {
                                    className: "score",
                                    key: d
                                }, "上架时间 ", Object(l.b)(t.pubTime)));
                                break;
                            case "score":
                                c.push(t.score ? o.a.createElement(p.a, {
                                    className: "score",
                                    score: t.score,
                                    key: d
                                }) : o.a.createElement("span", {
                                    className: "score",
                                    key: d
                                }, "暂无评分"));
                                break;
                            case "rank_tag":
                                if (t.index < 3) {
                                    var y = t.index + 1;
                                    c.push(o.a.createElement("div", {
                                        className: i()("rank-tag", "no-".concat(y)),
                                        key: d
                                    }, o.a.createElement(s.a, {
                                        src: n(474),
                                        width: 14,
                                        height: 18
                                    }), o.a.createElement("span", null, y)))
                                }
                        }
                    }
                } else
                    c.push(t.score ? o.a.createElement(p.a, {
                        className: "score",
                        score: t.score,
                        key: 0
                    }) : o.a.createElement("span", {
                        className: "score",
                        key: 0
                    }, "暂无评分"));
                var h = t.id
                    , v = t.urlSearch
                    , g = void 0 === v ? "" : v
                    , O = "/pub/book/".concat(h).concat(g);
                return o.a.createElement(f.a, {
                    className: "MPub-book-verticalItem",
                    to: O
                }, o.a.createElement(m.a, {
                    src: t.cover,
                    width: "120",
                    height: "160",
                    alt: t.title,
                    cornerText: t.cornerText,
                    defer: r
                }), o.a.createElement("div", {
                    className: "MPub-book-verticalItem-info"
                }, o.a.createElement("h3", null, t.title), o.a.createElement("span", {
                    className: "authors"
                }, Object(b.o)(t.authors)), c, o.a.createElement(u.a, {
                    component: "p",
                    className: "description",
                    maxLine: 2,
                    lineHeight: 18,
                    text: t.description,
                    style: {
                        fontSize: 13
                    }
                })))
            };
            y.css = n.n(d).a,
                t.a = y
        },
        function (e, t, n) {
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "b", function () {
                return k
            }),
                n.d(t, "a", function () {
                    return j
                });
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(12)
                , u = n(763)
                , l = n(17)
                , s = n(27)
                , f = n(186)
                , p = n(14)
                , m = n(13)
                , b = n(7)
                , d = n(184)
                , y = n.n(d)
                , h = n(398)
                , v = n.n(h);

            function g(e) {
                return (g = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function O(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function E(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function w(e) {
                return (w = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function S(e, t) {
                return (S = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function P(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var k = function (e) {
                function t() {
                    var e, n, r, o, a, i, c;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var u = arguments.length, s = new Array(u), f = 0; f < u; f++)
                        s[f] = arguments[f];
                    return r = this,
                        o = (e = w(t)).call.apply(e, [this].concat(s)),
                        n = !o || "object" !== g(o) && "function" != typeof o ? P(r) : o,
                        a = P(P(n)),
                        c = function () {
                            var e = n.props.book.urlToken;
                            n.supportPlay && e && l.a.dispatch("audioBook/play", {
                                token: e,
                                chapter_uid: ""
                            })
                        }
                        ,
                        (i = "play") in a ? Object.defineProperty(a, i, {
                            value: c,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : a[i] = c,
                        n
                }

                var r, a, d;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && S(e, t)
                }(t, o.a.PureComponent),
                    r = t,
                (a = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this;
                        l.a.supportsEvent("audioBook/play").then(function (t) {
                            e.supportPlay = t
                        })
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.book
                            , r = e.canPlay
                            , a = void 0 === r || r
                            , l = O(e, ["book", "canPlay"]);
                        return o.a.createElement(m.a, Object.assign({
                            className: i()("MPub-book-verticalItem", "MPub-audio-book-verticalItem"),
                            to: "/pub/audiobook/".concat(t.urlToken),
                            zh_navigation_bar_type: "back_title_empty",
                            zh_nav_left: "arrow",
                            zh_nav_right: "empty"
                        }, l), o.a.createElement(s.a, {
                            src: t.cover,
                            width: "70",
                            height: "93",
                            alt: t.title,
                            defer: !0
                        }), o.a.createElement("div", {
                            className: "MPub-book-verticalItem-info"
                        }, o.a.createElement("h3", null, t.title), o.a.createElement("span", {
                            className: "authors"
                        }, Object(b.o)(t.creators && t.creators.authors)), o.a.createElement("div", {
                            className: "sale-info"
                        }, o.a.createElement(f.a, {
                            icon: o.a.createElement(c.a, {
                                src: n(265),
                                width: 8,
                                height: 8
                            }),
                            fontSize: 11
                        }, t.chapterCount, "集"), 0 === t.price && o.a.createElement("span", {
                            className: "AudioBookItem-price"
                        }, "免费"), !t.isOwn && t.price > 0 && o.a.createElement(p.a, {
                            cent: t.price,
                            className: "AudioBookItem-price"
                        }))), a && o.a.createElement("div", {
                            className: "AudioBookItem-play",
                            onClick: this.play
                        }, o.a.createElement("div", {
                            className: "play-button"
                        }, o.a.createElement(u.a, {
                            width: 10,
                            height: 24
                        })), t.isOwn || 0 === t.price ? o.a.createElement("span", null, "播放") : o.a.createElement("span", null, "试听")))
                    }
                }]) && E(r.prototype, a),
                d && E(r, d),
                    t
            }();

            function j(e) {
                var t = e.book;
                return o.a.createElement(k, {
                    book: t.item,
                    canPlay: !1
                })
            }

            k.css = j.css = [y.a, v.a]
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(7)
                , u = n(397)
                , l = n.n(u);

            function s(e) {
                return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function f(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            y(e, t, n[t])
                        })
                }
                return e
            }

            function p(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function m(e, t) {
                return !t || "object" !== s(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function b(e) {
                return (b = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function d(e, t) {
                return (d = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function y(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var h = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        m(this, b(t).apply(this, arguments))
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && d(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e, n = this.props, r = n.icon, a = n.separate, u = n.height, l = void 0 === u ? 18 : u,
                            s = n.children, p = this.props, m = p.color, b = void 0 === m ? "grey" : m, d = p.fontSize,
                            y = void 0 === d ? 12 : d;
                        if (b = t.colors[b] || b,
                        y < 12) {
                            var h = (y / 12).toFixed(2);
                            if (e = Object(c.a)({
                                fontSize: "12px",
                                transform: "scale(".concat(h, ")")
                            }),
                            "string" == typeof s) {
                                var v = Math.max(0, 4 - parseInt(s.length * y * (1 - h)));
                                e = f({}, e, {
                                    paddingLeft: "".concat(v, "px"),
                                    paddingRight: "".concat(v, "px")
                                })
                            }
                        } else
                            y && (e = {
                                fontSize: "".concat(y, "px")
                            });
                        return o.a.createElement("span", {
                            className: "tag-with-icon",
                            style: {
                                color: b,
                                border: "1px ".concat(b, " solid"),
                                height: "".concat(l, "px"),
                                lineHeight: "".concat(l, "px")
                            }
                        }, r && o.a.createElement("span", {
                            className: i()("tag-icon", {
                                "tag-icon-with-background": a
                            }),
                            style: f({
                                color: a ? "#ffffff" : b
                            }, a && {
                                backgroundColor: b,
                                marginRight: "".concat(Number(l / 8), "px")
                            })
                        }, r, a && o.a.createElement("i", {
                            className: "tag-triangle",
                            style: {
                                borderTop: "".concat(l, "px ").concat(b, " solid"),
                                borderRight: "".concat(Number(l / 4), "px transparent solid")
                            }
                        })), o.a.createElement("span", {
                            style: f({}, e)
                        }, s))
                    }
                }]) && p(n.prototype, r),
                a && p(n, a),
                    t
            }();
            y(h, "colors", {
                blue: "#0083FF",
                grey: "#999999"
            }),
                h.css = l.a,
                t.a = h
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(4)
                , i = n(2)
                , c = n.n(i)
                , u = n(386)
                , l = n(140)
                , s = n(70);

            function f(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function p(e) {
                var t = e.width
                    , n = e.height
                    , r = f(e, ["width", "height"]);
                return o.a.createElement("div", Object.assign({}, r, {
                    style: {
                        paddingTop: "".concat(n / t * 100, "%")
                    }
                }))
            }

            function m(e) {
                return (m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function b(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function d(e, t) {
                return !t || "object" !== m(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function y(e) {
                return (y = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function h(e, t) {
                return (h = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var v = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        d(this, y(t).apply(this, arguments))
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && h(e, t)
                }(t, o.a.Component),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.className
                            , n = void 0 === t ? "" : t
                            , r = e.src
                            , a = e.srcSet
                            , i = void 0 === a ? "" : a
                            , c = e.alt
                            , u = void 0 === c ? "" : c;
                        if (!r)
                            return null;
                        var l = '<img class="'.concat(n, '" src="').concat(r, '" srcset="').concat(i, '" alt="').concat(u, '" item-prop="image">');
                        return o.a.createElement("noscript", {
                            dangerouslySetInnerHTML: {
                                __html: l
                            }
                        })
                    }
                }]) && b(n.prototype, r),
                a && b(n, a),
                    t
            }()
                , g = [{
                name: "60w",
                width: 60
            }, {
                name: "100w",
                width: 100
            }, {
                name: "200x0",
                width: 200
            }, {
                name: "250x0",
                width: 250
            }, {
                name: "qhd",
                width: 480
            }, {
                name: "b",
                width: 600
            }, {
                name: "640w",
                width: 640
            }, {
                name: "hd",
                width: 720
            }, {
                name: "750w",
                width: 750
            }, {
                name: "fhd",
                width: 1080
            }];

            function O(e, t, n) {
                if ("r" === t)
                    return t;
                var r = Number(n.split("x")[0])
                    , o = t ? Number(g.find(function (e) {
                    return e.name === t
                }).width) * r : Number(e) * r;
                return 1 === r && t ? t : (g.find(function (e) {
                    return e.width >= .95 * o
                }) || {}).name || ""
            }

            var E = n(387)
                , w = n.n(E);

            function S(e) {
                return (S = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function P(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            C(e, t, n[t])
                        })
                }
                return e
            }

            function k(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function j(e) {
                return (j = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function _(e, t) {
                return (_ = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function T(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function C(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var N = function (e) {
                function t(e, n) {
                    var r, o, a;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        o = this,
                        a = j(t).call(this, e, n),
                        r = !a || "object" !== S(a) && "function" != typeof a ? T(o) : a,
                        C(T(T(r)), "onError", function () {
                            r.setState({
                                hasError: !0
                            })
                        }),
                        C(T(T(r)), "onRefresh", function (e) {
                            e.preventDefault(),
                                r.setState({
                                    reload: !0,
                                    hasError: !1
                                }, function () {
                                    r.setState({
                                        reload: !1
                                    })
                                })
                        }),
                        C(T(T(r)), "onObserve", function (e) {
                            e[0].intersectionRatio > 0 && r.setShouldLoad()
                        }),
                        C(T(T(r)), "setShouldLoad", function () {
                            r.setState({
                                shouldLoad: !0
                            })
                        }),
                        C(T(T(r)), "getImageSrc", function () {
                            var e = r.props
                                , t = e.src
                                , n = e.width
                                , o = e.spec
                                , a = e.quality;
                            return {
                                imgSrc: Object(l.a)(t, r.optimizeImageOptions({
                                    size: O(n, o, "1x"),
                                    quality: a
                                })),
                                imgSrcSet: "".concat(Object(l.a)(t, r.optimizeImageOptions({
                                    size: O(n, o, "2x"),
                                    quality: a
                                })), " 2x")
                            }
                        }),
                        r.state = {
                            hasError: !1,
                            reload: !1,
                            shouldLoad: !e.defer
                        },
                        r
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && _(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props.defer;
                        if (this.currentImage) {
                            var t = this.currentImage
                                , n = t.naturalWidth
                                , r = t.naturalHeight
                                , o = t.complete;
                            e || !o || 0 !== n && 0 !== r || this.onError()
                        }
                        !0 === e || "mount" === e ? this.setShouldLoad() : "number" == typeof e && (this.deferTimer = setTimeout(this.setShouldLoad, e))
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function () {
                        window.clearTimeout(this.deferTimer)
                    }
                }, {
                    key: "optimizeImageOptions",
                    value: function () {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                            , t = this.props
                            , n = t.supportsWebp
                            , r = t.useWebpIfSupported
                            , o = t.unifyPicHost;
                        return n && r && (e = P({}, e, {
                            forceExtension: "webp"
                        })),
                        o && (e = P({}, e, {
                            unifyPicHost: o
                        })),
                            e
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.className
                            , r = t.width
                            , a = t.height
                            , i = t.alt
                            , l = t.defer
                            , f = this.state
                            , m = f.hasError
                            , b = f.reload
                            , d = f.shouldLoad
                            , y = {
                            className: c()("Image", {
                                error: m
                            }),
                            ref: function (t) {
                                e.currentImage = t
                            },
                            onError: this.onError
                        }
                            , h = this.getImageSrc()
                            , g = h.imgSrc
                            , O = h.imgSrcSet;
                        y.src = g,
                            y.srcSet = O;
                        var E = o.a.createElement(p, {
                            className: "sizeHolder",
                            width: r,
                            height: a
                        });
                        return o.a.createElement("div", {
                            className: c()("ImageWrapper", n)
                        }, "inview" !== l || d ? E : o.a.createElement(u.a, {
                            onObserve: this.onObserve
                        }, E), d && !b && o.a.createElement("img", Object.assign({}, y, {
                            alt: i
                        })), l && o.a.createElement(v, Object.assign({}, y, {
                            alt: i
                        })), m && o.a.createElement(s.a, {
                            name: "refresh",
                            className: "refresh",
                            onClick: this.onRefresh
                        }))
                    }
                }]) && k(n.prototype, r),
                a && k(n, a),
                    t
            }();
            N.defaultProps = {
                quality: 50,
                defer: !1,
                useWebpIfSupported: !0,
                unifyPicHost: !0
            },
                N.css = w.a;
            t.a = Object(a.b)(function (e) {
                return {
                    supportsWebp: e.env.webp
                }
            }, {})(N)
        }, , , , , , , ,
        function (e, t, n) {
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return s
            });
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(437)
                , u = n.n(c);

            function l(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function s(e) {
                var t = e.component
                    , n = void 0 === t ? "div" : t
                    , r = e.content
                    , a = void 0 === r ? "" : r
                    , c = e.className
                    , u = e.theme
                    , s = void 0 === u ? "default" : u
                    , f = l(e, ["component", "content", "className", "theme"]);
                return o.a.createElement(n, Object.assign({
                    className: i()("Pub-HTMLView", c),
                    "data-theme": s,
                    dangerouslySetInnerHTML: {
                        __html: a
                    }
                }, f))
            }

            s.css = u.a
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(4)
                , i = n(25)
                , c = n(13)
                , u = n(21)
                , l = n(34)
                , s = n(7)
                , f = n(139);

            function p(e) {
                return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function m(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            v(e, t, n[t])
                        })
                }
                return e
            }

            function b(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function d(e) {
                return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function y(e, t) {
                return (y = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function h(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function v(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var g = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = d(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== p(o) && "function" != typeof o ? h(r) : o,
                        v(h(h(n)), "loadMore", function () {
                            n.props.dispatch(Object(f.b)())
                        }),
                        n
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && y(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.items
                            , n = e.isFetching
                            , r = e.isDrained;
                        return o.a.createElement(i.b, {
                            className: "MPub-SelfBooks-InfiLoader",
                            isLoading: n,
                            isDrained: r,
                            onLoad: this.loadMore,
                            placeholder: u.a,
                            getContainer: function (e) {
                                return e
                            }
                        }, r && 0 === t.length ? o.a.createElement("div", {
                            className: "MPub-MyBook-empty"
                        }, "还没有书哦", o.a.createElement(c.a, {
                            to: "/pub/",
                            className: "Link"
                        }, "去知乎书店看看")) : o.a.createElement("ul", {
                            className: "MPub-MyBook-list"
                        }, t.map(function (e) {
                            return o.a.createElement(l.b, {
                                key: e.id,
                                component: "li",
                                book: m({}, e, {
                                    urlSearch: "?".concat(Object(s.g)(e.id, t))
                                })
                            })
                        })))
                    }
                }]) && b(n.prototype, r),
                a && b(n, a),
                    t
            }();
            v(g, "fetchData", function () {
                return Object(f.b)()
            }),
                t.a = Object(a.b)(function (e) {
                    return m({}, e.self)
                })(g)
        }, , ,
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "26",
                    height: "20",
                    viewBox: "0 0 26 20",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>check-mark</title>   <path d="M22.625 0L8.5 14.25 2.75 8.5 0 11.5l8.5 8.25 17.125-17z" fill="currentColor" fill-rule="evenodd"/>'
            }
        }, , , , , , , , , , , , , , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "d", function () {
                return r
            }),
                n.d(t, "c", function () {
                    return o
                }),
                n.d(t, "b", function () {
                    return a
                }),
                n.d(t, "a", function () {
                    return i
                });
            var r = ["简介", "目录"]
                , o = 10
                , a = [{
                text: "刘看山",
                link: "https://liukanshan.zhihu.com/"
            }, {
                text: "知乎指南",
                link: "https://www.zhihu.com/question/19581624"
            }, {
                text: "知乎协议",
                link: "https://www.zhihu.com/terms"
            }, {
                text: "应用",
                link: "https://www.zhihu.com/app/"
            }, {
                text: "工作",
                link: "https://www.zhihu.com/careers"
            }]
                , i = {
                commentSucess: "评论成功",
                commentOverLength: "点评长度不能超过 1000 字",
                scoreRequire: "必须填写评分",
                addToShelfSuccess: "已加入书架",
                bookVipBorrowSuccess: "您借阅的书籍会自动放入我的 - 我的书架"
            }
        }, , , , , , , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return l
            });
            var r = n(0)
                , o = n.n(r)
                , a = n(12)
                , i = n(324)
                , c = n.n(i);

            function u(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function l(e) {
                var t = e.width
                    , n = e.height
                    , r = e.fill
                    , i = u(e, ["width", "height", "fill"]);
                return o.a.createElement(a.a, Object.assign({}, i, {
                    style: {
                        width: t,
                        height: n,
                        fill: r
                    },
                    src: c.a
                }))
            }

            l.defaultProps = {
                className: "Icon Icon-logo",
                fill: "#0f88eb"
            }
        }, , , ,
        function (e, t, n) {
            "use strict";
            var r = n(89)
                , o = n(255)
                , a = n(0)
                , i = n.n(a)
                , c = n(228)
                , u = n(325)
                , l = n.n(u)
                , s = n(326)
                , f = n.n(s);

            function p(e) {
                var t = e.ua;
                return t.Zhihu ? null : t.Mobile || t.Android ? i.a.createElement("header", {
                    role: "banner",
                    className: "PubMobileAppHeader PubMobileAppHeader--placeholder"
                }, i.a.createElement("div", {
                    className: "PubMobileAppHeader-inner"
                }, i.a.createElement("a", {
                    className: "PubMobileAppHeader-logo",
                    href: "/",
                    "aria-label": "知乎"
                }, i.a.createElement(c.a, {
                    width: 56,
                    height: 28
                })))) : i.a.createElement("header", {
                    role: "banner",
                    className: "AppHeader AppHeader--placeholder"
                }, i.a.createElement("div", {
                    className: "AppHeader-inner"
                }, i.a.createElement("a", {
                    href: "/",
                    "aria-label": "知乎"
                }, i.a.createElement(c.a, {
                    width: 64,
                    height: 30
                }))))
            }

            p.css = [l.a, f.a];
            var m = p;
            n.d(t, "a", function () {
                return o.a
            });
            var b = Object(r.a)(function (e) {
                var t = e.ua;
                return t.Zhihu ? Promise.resolve(m) : t.Mobile || t.Android ? n.e(2).then(n.bind(null, 1227)) : n.e(5).then(n.bind(null, 1225))
            }, m, "AppHeader");
            t.b = b
        },
        function (e, t) {
            e.exports = fetch
        }, , , , , , , , , , , , , ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(4)
                , i = n(25)
                , c = n(13)
                , u = n(185)
                , l = n(122)
                , s = n(48)
                , f = n(21);

            function p(e) {
                return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function m(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function b(e) {
                return (b = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function d(e, t) {
                return (d = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function y(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function h(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var v = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = b(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== p(o) && "function" != typeof o ? y(r) : o,
                        h(y(y(n)), "loadMore", function () {
                            n.props.dispatch(Object(s.e)())
                        }),
                        n
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && d(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.items
                            , n = e.isDrained
                            , r = e.isFetching;
                        return o.a.createElement(i.b, {
                            className: "MPub-SelfBooks-InfiLoader",
                            isLoading: r,
                            isDrained: n,
                            onLoad: this.loadMore,
                            placeholder: f.a,
                            getContainer: function (e) {
                                return e
                            }
                        }, n && 0 === t.length ? o.a.createElement("div", {
                            className: "MPub-MyBook-empty"
                        }, "还没有有声书", o.a.createElement(c.a, {
                            to: "https://www.zhihu.com/pub/audiobook/list",
                            className: "Link"
                        }, "去挑选有声书")) : o.a.createElement(l.a, {
                            books: t,
                            component: u.a
                        }))
                    }
                }]) && m(n.prototype, r),
                a && m(n, a),
                    t
            }();
            h(v, "fetchData", function () {
                return Object(s.e)()
            }),
                t.a = Object(a.b)(function (e) {
                    return function (e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {}
                                , r = Object.keys(n);
                            "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                return Object.getOwnPropertyDescriptor(n, e).enumerable
                            }))),
                                r.forEach(function (t) {
                                    h(e, t, n[t])
                                })
                        }
                        return e
                    }({}, e.audioBook.self)
                })(v)
        }, , , ,
        function (e, t, n) {
            "use strict";

            function r() {
                var e = "";
                try {
                    e = localStorage.getItem("lastuser") || localStorage.getItem("lastuser:email")
                } catch (e) {
                }
                return e
            }

            function o(e) {
                localStorage.setItem("lastuser", e)
            }

            n.d(t, "a", function () {
                return r
            }),
                n.d(t, "b", function () {
                    return o
                })
        }, ,
        function (e, t, n) {
            "use strict";
            n.d(t, "b", function () {
                return r
            }),
                n.d(t, "a", function () {
                    return o
                }),
                n.d(t, "i", function () {
                    return a
                }),
                n.d(t, "j", function () {
                    return i
                }),
                n.d(t, "c", function () {
                    return c
                }),
                n.d(t, "h", function () {
                    return u
                }),
                n.d(t, "f", function () {
                    return l
                }),
                n.d(t, "e", function () {
                    return s
                }),
                n.d(t, "d", function () {
                    return f
                }),
                n.d(t, "g", function () {
                    return p
                });
            var r = 50
                , o = "https://www.zhihu.com/app?auto_download=true&utm_source=zhihu&utm_campaign=pub&utm_content=guide"
                , a = "https://www.zhihu.com/signin"
                , i = "https://www.zhihu.com"
                , c = "https://www.zhihu.com/explore"
                , u = "https://www.zhihu.com/question/waiting"
                , l = "https://www.zhihu.com/search"
                , s = "https://www.zhihu.com/notifications"
                , f = "https://www.zhihu.com/messages"
                , p = "https://www.zhihu.com/xen/vip-web"
        },
        function (e, t, n) {
            "use strict";
            var r = n(1)
                , o = n.n(r)
                , a = n(0)
                , i = n.n(a)
                , c = n(2)
                , u = n.n(c)
                , l = n(8);

            function s(e) {
                return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function f(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function p(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function m(e) {
                return (m = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function b(e, t) {
                return (b = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function d(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function y(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var h = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        n = !(o = (e = m(t)).call.apply(e, [this].concat(i))) || "object" !== s(o) && "function" != typeof o ? d(r) : o,
                        y(d(d(n)), "state", {
                            activeModalShown: !1
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && b(e, t)
                }(t, a["Component"]),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.context.handleActiveModalShown
                            , t = this.props
                            , n = t.className
                            , r = f(t, ["className"]);
                        return i.a.createElement(l.c, Object.assign({}, r, {
                            className: u()("SignFlowActive-button", n),
                            preset: "link",
                            onClick: e
                        }), "激活账号")
                    }
                }]) && p(n.prototype, r),
                o && p(n, o),
                    t
            }();
            y(h, "contextTypes", {
                handleActiveModalShown: o.a.func
            }),
                t.a = h
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(4)
                , i = n(466)
                , c = n(167)
                , u = n(82)
                , l = n(55);

            function s(e) {
                return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function f(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            function p(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function m(e, t) {
                return !t || "object" !== s(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function b(e) {
                return (b = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function d(e, t) {
                return (d = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var y = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        m(this, b(t).apply(this, arguments))
                }

                var n, a, u;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && d(e, t)
                }(t, r["Component"]),
                    n = t,
                (a = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.notification
                            , n = e.account
                            , r = n.isAppealed
                            , a = n.spamLevel
                            , u = r || a ? l.k : l.j
                            , s = null;
                        return s = 5 === a ? function (e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {}
                                    , r = Object.keys(n);
                                "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                                }))),
                                    r.forEach(function (t) {
                                        f(e, t, n[t])
                                    })
                            }
                            return e
                        }({}, t, {
                            theme: "red"
                        }) : t,
                            o.a.createElement(c.a, null, o.a.createElement(i.a, {
                                notification: s,
                                delay: u,
                                className: "AppHeader-notification"
                            }))
                    }
                }]) && p(n.prototype, a),
                u && p(n, u),
                    t
            }();
            t.a = Object(a.b)(function (e) {
                return {
                    account: e.account,
                    notification: u.f.reduce(function (t, n) {
                        var r = e.notification[n];
                        return !t && r ? r : r && r.timestamp > t.timestamp ? r : t
                    }, null) || {}
                }
            })(y)
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return a
            });
            var r = n(0)
                , o = n.n(r);

            function a(e) {
                return o.a.createElement("svg", Object.assign({
                    width: "14",
                    height: "15",
                    viewBox: "0 0 14 15",
                    xmlns: "http://www.w3.org/2000/svg"
                }, e), o.a.createElement("path", {
                    d: "M8.05 3.24V1.086A.574.574 0 0 0 7.49.5H5.81c-.31 0-.56.262-.56.586v10.369c0 .323.25.586.56.586h1.68c.309 0 .56-.263.56-.586V4.678l1.962 6.842c.093.323.409.516.706.431l1.615-.463c.297-.085.463-.417.37-.74l-2.182-7.61c-.092-.323-.409-.516-.706-.431L8.2 3.17a.518.518 0 0 0-.15.07zm-6.44 8.8c-.31 0-.56-.266-.56-.594v-7.54c0-.329.25-.595.56-.595h1.68c.309 0 .56.266.56.594v7.541c0 .328-.251.595-.56.595H1.61zM.7 13.096h12.6a.7.7 0 0 1 .7.7v.005a.7.7 0 0 1-.7.7H.7a.7.7 0 0 1-.7-.7v-.005a.7.7 0 0 1 .7-.7z",
                    fill: "currentColor"
                }))
            }
        }, , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "b", function () {
                return h
            }),
                n.d(t, "d", function () {
                    return v
                }),
                n.d(t, "e", function () {
                    return g
                }),
                n.d(t, "c", function () {
                    return O
                });
            var r = n(15)
                , o = n(33)
                , a = n(102)
                , i = n(66)
                , c = n(5);

            function u(e) {
                return function (e) {
                    if (Array.isArray(e)) {
                        for (var t = 0, n = new Array(e.length); t < e.length; t++)
                            n[t] = e[t];
                        return n
                    }
                }(e) || function (e) {
                    if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e))
                        return Array.from(e)
                }(e) || function () {
                    throw new TypeError("Invalid attempt to spread non-iterable instance")
                }()
            }

            function l(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            s(e, t, n[t])
                        })
                }
                return e
            }

            function s(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var f, p, m, b, d,
                y = l({}, Object(c.a)("message", ["GET_THREADS", "ADD", "MARK_READ", "UPDATE_COMMENTPERMISSION", "UPDATE_RESHIPMENTSETTINGS"]), Object(c.b)("message", ["CURRENT_TAB", "RECEIVE_NEW"]));

            function h(e) {
                return function (t, n) {
                    var r = n()
                        , o = r.messages
                        , i = r.messages.currentTab
                        , c = (!e && o.data[i] || {}).next
                        , u = c || "me/message-threads"
                        , l = null;
                    return c || (l = {
                        include: "data[*].last_message,participant.badge[?(type=best_answerer)].topics"
                    },
                    "stranger" === i && (l.type = i)),
                        t({
                            reFetch: e,
                            currentTab: i,
                            API: {
                                types: y.GET_THREADS,
                                endpoint: u,
                                query: l
                            },
                            schema: a.a.MESSAGE_ARRAY
                        })
                }
            }

            function v(e, t, n) {
                return {
                    API: {
                        types: y.ADD,
                        method: "POST",
                        endpoint: "messages",
                        body: Object(r.decamelizeKeys)({
                            type: e,
                            content: t,
                            receiverHash: n
                        })
                    },
                    NOTIFICATION: {
                        success: "发送成功",
                        failure: function (e) {
                            return 102 === e.code ? e.message : "发送失败"
                        }
                    }
                }
            }

            function g(e) {
                return {
                    currentTab: e,
                    type: y.CURRENT_TAB
                }
            }

            function O() {
                return function (e, t) {
                    var n = t()
                        , r = n.entities.messages
                        , o = n.messages
                        , a = o.currentTab
                        , i = o.data[a].ids.filter(function (e) {
                        return r[e].unreadCount > 0
                    }).map(function (e) {
                        return r[e].lastMessage.id
                    });
                    return i.length ? e({
                        API: {
                            types: y.MARK_READ,
                            endpoint: "messages/actions/mark-as-read",
                            method: "POST",
                            body: {
                                type: a,
                                tokens: i
                            }
                        }
                    }) : null
                }
            }

            t.a = Object(o.c)({
                data: (f = y.GET_THREADS,
                        p = f.request,
                        m = f.success,
                        b = f.failure,
                        d = {
                            isFetching: !1,
                            isDrained: !1,
                            ids: []
                        },
                        function () {
                            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                                , t = arguments.length > 1 ? arguments[1] : void 0
                                , n = t.type
                                , r = t.currentTab;
                            switch (n) {
                                case p:
                                case m:
                                case b:
                                    return l({}, e, s({}, r, function () {
                                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : d
                                            , t = arguments.length > 1 ? arguments[1] : void 0;
                                        switch (t.type) {
                                            case p:
                                                return t.reFetch ? d : l({}, e, {
                                                    isFetching: !0
                                                });
                                            case m:
                                                var n = t.result
                                                    , r = t.next
                                                    , o = t.isDrained
                                                    , a = e.ids;
                                                return l({}, e, {
                                                    isFetching: !1,
                                                    isDrained: o,
                                                    next: r,
                                                    ids: u(a).concat(u(n.filter(function (e) {
                                                        return !a.includes(e)
                                                    })))
                                                });
                                            case b:
                                                return l({}, e, {
                                                    isFetching: !1,
                                                    isDrained: !0
                                                });
                                            default:
                                                return e
                                        }
                                    }(e[r], t)));
                                default:
                                    return e
                            }
                        }
                ),
                currentTab: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "common"
                        , t = arguments.length > 1 ? arguments[1] : void 0
                        , n = t.type
                        , r = t.currentTab;
                    return n === y.CURRENT_TAB ? r : e
                },
                messageCount: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                        , t = arguments.length > 1 ? arguments[1] : void 0
                        , n = t.type
                        , r = t.rawData;
                    return n === y.RECEIVE_NEW ? r : n === i.b.GET.success ? t.payload.messagesCount : e
                }
            })
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "d", function () {
                return s
            }),
                n.d(t, "c", function () {
                    return f
                }),
                n.d(t, "a", function () {
                    return p
                }),
                n.d(t, "e", function () {
                    return b
                }),
                n.d(t, "f", function () {
                    return d
                }),
                n.d(t, "b", function () {
                    return h
                });
            var r = n(15)
                , o = n(78)
                , a = n(5);

            function i(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function c(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            u(e, t, n[t])
                        })
                }
                return e
            }

            function u(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var l = c({}, Object(a.a)("register", ["DIGITS", "REGISTER", "VALIDATE_REGISTER_FORM"]), Object(a.b)("register", ["RESET_REGISTER_VALIDATE_RESULT"]));

            function s(e, t) {
                var n = {
                    phoneNo: e
                };
                return t && (n.smsType = t),
                    {
                        API: {
                            types: l.DIGITS,
                            endpoint: "v3/oauth/sms/digits",
                            method: "POST",
                            fetchOptions: {
                                credentials: "include",
                                zsEncrypt: !0,
                                bodyType: "form",
                                body: Object(r.decamelizeKeys)(n)
                            }
                        }
                    }
            }

            function f() {
                return {
                    type: l.RESET_REGISTER_VALIDATE_RESULT
                }
            }

            function p(e) {
                return function (t) {
                    return t(f()),
                        t({
                            API: {
                                types: l.REGISTER,
                                endpoint: "v3/oauth/register",
                                method: "POST",
                                fetchOptions: {
                                    credentials: "include",
                                    zsEncrypt: !0,
                                    bodyType: "form",
                                    body: Object(r.decamelizeKeys)(e)
                                }
                            },
                            NOTIFICATION: !1
                        })
                }
            }

            function m(e) {
                return {
                    API: {
                        types: l.VALIDATE_REGISTER_FORM,
                        endpoint: "v3/oauth/validate/register_form",
                        method: "POST",
                        fetchOptions: {
                            credentials: "include",
                            zsEncrypt: !0,
                            bodyType: "form",
                            body: Object(r.decamelizeKeys)(e)
                        }
                    }
                }
            }

            function b(e) {
                var t = e.captcha
                    , n = i(e, ["captcha"]);
                return function (e, r) {
                    return e(f()),
                        r().captcha.captchaNeeded ? e(Object(o.b)(t)).then(function (t) {
                            return t.payload.success ? e(m(n)) : null
                        }) : e(m(n))
                }
            }

            function d(e) {
                var t = e.captcha
                    , n = e.accessToken
                    , r = e.expiresAt
                    , o = e.appkey
                    , a = e.socialId
                    , u = e.source
                    , l = i(e, ["captcha", "accessToken", "expiresAt", "appkey", "socialId", "source"]);
                return function (e) {
                    e(f()),
                        e(b(c({
                            captcha: t
                        }, l))).then(function (t) {
                            t && t.payload && t.payload.success && e(p(c({
                                accessToken: n,
                                expiresAt: r,
                                appkey: o,
                                socialId: a,
                                source: u
                            }, l)))
                        })
                }
            }

            var y = {
                registerValidateSucceeded: null,
                registerValidateErrors: {},
                registerConfirmError: null,
                sendDigitsError: null,
                registerConfirmSucceeded: null
            };

            function h() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : y
                    , t = arguments.length > 1 ? arguments[1] : void 0
                    , n = t.type;
                if (n === l.VALIDATE_REGISTER_FORM.success) {
                    var r = t.payload;
                    return c({}, e, {
                        registerValidateSucceeded: Boolean(r.success),
                        registerValidateErrors: c({}, e.registerValidateErrors, r)
                    })
                }
                return n === l.RESET_REGISTER_VALIDATE_RESULT ? c({}, y) : n === l.REGISTER.success ? c({}, e, {
                    registerConfirmSucceeded: !0
                }) : n === l.REGISTER.failure ? c({}, e, {
                    registerConfirmSucceeded: !1,
                    registerConfirmError: t.err.payload.message
                }) : n === l.DIGITS.failure ? c({}, e, {
                    sendDigitsError: t.err.payload.message
                }) : e
            }
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "g", function () {
                return f
            }),
                n.d(t, "e", function () {
                    return m
                }),
                n.d(t, "f", function () {
                    return b
                }),
                n.d(t, "c", function () {
                    return d
                }),
                n.d(t, "d", function () {
                    return y
                }),
                n.d(t, "a", function () {
                    return h
                }),
                n.d(t, "b", function () {
                    return g
                });
            var r = n(15)
                , o = n(78)
                , a = n(5);

            function i(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function c(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            u(e, t, n[t])
                        })
                }
                return e
            }

            function u(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var l = c({}, Object(a.a)("login", ["DIGITS", "LOGIN", "VALIDATE_LOGIN_FORM", "VALIDATE_LOGIN_DIGITS"]), Object(a.b)("login", ["RESET_LOGIN_VALIDATE_RESULT"]), Object(a.a)("qrcodeLogin", ["TOKEN", "REQESXUDID", "SCAN_STATUS"]));

            function s(e, t) {
                var n = {
                    username: e
                };
                return t && (n.smsType = t),
                    {
                        API: {
                            types: l.DIGITS,
                            endpoint: "v3/oauth/auth/digits",
                            method: "POST",
                            fetchOptions: {
                                credentials: "include",
                                zsEncrypt: !0,
                                bodyType: "form",
                                body: Object(r.decamelizeKeys)(n)
                            }
                        },
                        NOTIFICATION: !1
                    }
            }

            function f(e) {
                var t = e.captcha
                    , n = e.username
                    , r = e.smsType;
                return function (e, a) {
                    a().captcha.captchaNeeded ? e(Object(o.b)(t)).then(function (t) {
                        t.payload.success && e(s(n, r))
                    }) : e(s(n, r))
                }
            }

            function p(e) {
                return function (t) {
                    return t({
                        API: {
                            types: l.LOGIN,
                            endpoint: "v3/oauth/sign_in",
                            method: "POST",
                            fetchOptions: {
                                credentials: "include",
                                zsEncrypt: !0,
                                bodyType: "form",
                                body: Object(r.decamelizeKeys)(e)
                            }
                        },
                        NOTIFICATION: !1
                    }).then(null, function (e) {
                        e && e.err && (120005 === e.err.payload.code && t(Object(o.a)()))
                    })
                }
            }

            function m() {
                return {
                    type: l.RESET_LOGIN_VALIDATE_RESULT
                }
            }

            function b(e) {
                var t = e.captcha
                    , n = i(e, ["captcha"]);
                return function (e, r) {
                    e(m());
                    var a = r().captcha
                        , i = a.captchaNeeded
                        , c = a.loginCaptchaExpires
                        , u = n.grantType;
                    i && ("digits" !== u || c) ? e(Object(o.b)(t)).then(function (t) {
                        t.payload.success && e(p(n))
                    }) : e(p(n))
                }
            }

            function d() {
                return function (e) {
                    return e({
                        API: {
                            types: l.TOKEN,
                            endpoint: "/api/login/qrcode",
                            root: "https://account.zhihu.com/",
                            method: "POST",
                            fetchOptions: {
                                credentials: "include"
                            }
                        },
                        NOTIFICATION: !1
                    })
                }
            }

            function y() {
                return function (e) {
                    return e({
                        API: {
                            types: l.REQESXUDID,
                            endpoint: "/udid",
                            root: "https://www.zhihu.com/",
                            mode: "cors",
                            method: "POST",
                            fetchOptions: {
                                credentials: "include"
                            }
                        },
                        NOTIFICATION: !1
                    })
                }
            }

            function h(e) {
                var t = e.token;
                return function (e) {
                    return e({
                        API: {
                            types: l.SCAN_STATUS,
                            endpoint: "/api/login/qrcode/".concat(t, "/scan_info"),
                            root: "https://account.zhihu.com/",
                            method: "GET",
                            fetchOptions: {
                                credentials: "include"
                            }
                        },
                        NOTIFICATION: !1
                    })
                }
            }

            var v = {
                loginUnregisteredError: !1,
                loginBindWechatError: !1,
                loginConfirmError: null,
                sendDigitsError: null,
                validateDigitsError: !1,
                loginConfirmSucceeded: null,
                qrcodeLoginToken: "",
                qrcodeLoginScanStatus: 0,
                qrcodeLoginError: null,
                qrcodeLoginReturnNewToken: !1
            };

            function g() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v
                    , t = arguments.length > 1 ? arguments[1] : void 0
                    , n = t.type;
                if (n === l.RESET_LOGIN_VALIDATE_RESULT)
                    return c({}, v);
                if (n === l.LOGIN.success)
                    return c({}, e, {
                        loginConfirmSucceeded: !0
                    });
                if (n === l.LOGIN.failure)
                    return c({}, e, {
                        loginConfirmSucceeded: !1,
                        loginUnregisteredError: 1e5 === t.err.payload.code,
                        loginBindWechatError: 100077 === t.err.payload.code,
                        loginConfirmError: c({}, e.loginConfirmError, Object(a.c)(t.err.payload))
                    });
                if (n === l.DIGITS.failure)
                    return c({}, e, {
                        sendDigitsError: c({}, e.sendDigitsError, Object(a.c)(t.err.payload))
                    });
                if (n === l.VALIDATE_LOGIN_DIGITS.success)
                    return t.payload.success ? e : c({}, e, {
                        loginConfirmError: c({}, e.loginConfirmError, {
                            validateDigitsError: "验证码填写错误"
                        })
                    });
                if (n === l.TOKEN.success)
                    return c({}, e, {
                        qrcodeLoginToken: t.payload.token,
                        qrcodeLoginError: null
                    });
                if (n === l.TOKEN.failure)
                    return c({}, e, {
                        qrcodeLoginError: t.err.payload
                    });
                if (n === l.SCAN_STATUS.success) {
                    var r = {
                        qrcodeLoginError: null
                    };
                    return t.payload.accessToken ? r.loginConfirmSucceeded = !0 : (t.payload.newToken && t.payload.newToken.token && (r.qrcodeLoginReturnNewToken = !0),
                        r.qrcodeLoginScanStatus = t.payload.status,
                        r.qrcodeLoginToken = t.payload.newToken && t.payload.newToken.token || e.qrcodeLoginToken),
                        c({}, e, r)
                }
                return n === l.SCAN_STATUS.failure ? c({}, e, {
                    qrcodeLoginError: t.err.payload
                }) : e
            }
        }, ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(4)
                , i = n(164)
                , c = n(133);

            function u(e) {
                return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function l(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function s(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function f(e) {
                return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function p(e, t) {
                return (p = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function m(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function b(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var d = function (e) {
                function t(e) {
                    var n, r, o;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        r = this,
                        o = f(t).call(this, e),
                        n = !o || "object" !== u(o) && "function" != typeof o ? m(r) : o,
                        b(m(m(n)), "handleGetSupportedCountries", function () {
                            var e = n.props
                                , t = e.supportedCountries
                                , r = e.getSupportedCountries;
                            t && t.length || r()
                        }),
                        b(m(m(n)), "handleSignFlowModalOpen", function (e) {
                            n.setState({
                                signFlowModalType: e,
                                signFlowModalShown: !0
                            })
                        }),
                        b(m(m(n)), "handleSignFlowModalClose", function () {
                            n.setState({
                                signFlowModalType: "initial",
                                bySocial: !1,
                                socialType: null
                            }, function () {
                                var e = n.props.onClose;
                                "function" == typeof e && e()
                            })
                        }),
                        b(m(m(n)), "handleSignFlowModalSwitch", function (e) {
                            var t = e || {};
                            n.setState(function (e) {
                                return function (e) {
                                    for (var t = 1; t < arguments.length; t++) {
                                        var n = null != arguments[t] ? arguments[t] : {}
                                            , r = Object.keys(n);
                                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                                        }))),
                                            r.forEach(function (t) {
                                                b(e, t, n[t])
                                            })
                                    }
                                    return e
                                }({
                                    signFlowModalType: "login" === e.signFlowModalType ? "register" : "login"
                                }, t)
                            })
                        }),
                        e.defaultType ? n.state = {
                            signFlowModalType: e.defaultType,
                            signFlowModalShown: !0,
                            bySocial: !1,
                            socialType: null
                        } : n.state = {
                            signFlowModalType: "initial",
                            signFlowModalShown: !1
                        },
                        n
                }

                var n, a, i;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && p(e, t)
                }(t, r["Component"]),
                    n = t,
                (a = [{
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.state
                            , n = t.signFlowModalType
                            , a = t.signFlowModalShown
                            , i = l(t, ["signFlowModalType", "signFlowModalShown"])
                            , u = this.props
                            , s = u.loginButton
                            , f = u.registerButton
                            , p = u.children
                            , m = u.wrapperClassName;
                        return o.a.createElement("div", {
                            className: m
                        }, s && Object(r.cloneElement)(s, {
                            onMouseOver: this.handleGetSupportedCountries,
                            onClick: function () {
                                return e.handleSignFlowModalOpen("login")
                            },
                            disabled: "initial" !== n
                        }), f && Object(r.cloneElement)(f, {
                            onMouseOver: this.handleGetSupportedCountries,
                            onClick: function () {
                                return e.handleSignFlowModalOpen("register")
                            },
                            disabled: "initial" !== n
                        }), p, a && o.a.createElement(c.a, Object.assign({
                            type: n,
                            onSwitch: this.handleSignFlowModalSwitch,
                            onClose: this.handleSignFlowModalClose
                        }, i)))
                    }
                }]) && s(n.prototype, a),
                i && s(n, i),
                    t
            }();
            t.a = Object(a.b)(function (e) {
                return {
                    supportedCountries: e.sms.supportedCountries
                }
            }, {
                getSupportedCountries: i.b
            })(d)
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "37",
                    height: "36",
                    viewBox: "0 0 37 36",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>         tab-categories     </title>     <path d="M3.3 7.385h30.4a3.3 3.3 0 0 1 3.3 3.3V32.7a3.3 3.3 0 0 1-3.3 3.3H3.3A3.3 3.3 0 0 1 0 32.7V10.685a3.3 3.3 0 0 1 3.3-3.3zm.4-3.693h29.6v1.846H3.7V3.692zM7.4 0h22.2v1.846H7.4V0zm2.288 26.165a.982.982 0 1 0 0 1.964h17.624a.982.982 0 1 0 0-1.964H9.688zm9.794-10.905a.982.982 0 0 0 0 1.964h7.83a.982.982 0 1 0 0-1.964h-7.83zm0 5.454a.982.982 0 1 0 0 1.964h7.83a.982.982 0 1 0 0-1.964h-7.83zM9.256 15.256a.55.55 0 0 0-.55.55v6.536c0 .304.246.55.55.55h6.518a.55.55 0 0 0 .55-.55v-6.536a.55.55 0 0 0-.55-.55H9.256z" fill="currentColor" fill-rule="evenodd"/>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "18",
                    height: "20",
                    viewBox: "0 0 18 20",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>audio-tag</title>   <g transform="translate(0 2)" fill="none" fill-rule="evenodd">     <circle fill="currentColor" cx="3" cy="8" r="3"/>     <path       d="M8.637 13.043A9.954 9.954 0 0 0 10 8a9.955 9.955 0 0 0-1.282-4.902M13.812 15.94c1.25-1.825 2.056-4.725 2.056-7.99 0-3.241-.796-6.123-2.03-7.95"       stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>   </g>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "16",
                    height: "16",
                    viewBox: "0 0 16 16",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>     add     </title>     <path d="M16 7.5H9v-7H7.5v7h-7V9h7v7H9V9h7z" fill="currentColor" fill-rule="evenodd"/>'
            }
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = (n(754),
                Array.from(Array(12), function (e, t) {
                    return o.a.createElement("span", {
                        className: "PayUI-spinner-blade",
                        key: t
                    })
                }));
            t.a = function (e) {
                var t = e.className
                    , n = e.white
                    , r = e.large;
                return o.a.createElement("div", {
                    className: i()("PayUI-spinner", t, {
                        "PayUI-spinner--large": r,
                        "PayUI-spinner--white": n
                    })
                }, c)
            }
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return o
            });
            var r = n(7);

            function o(e) {
                var t = Object(r.e)(location.href, e, {
                    omitNull: !0
                });
                window.history.replaceState({}, null, t)
            }
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return u
            });
            var r = n(43)
                , o = n(15)
                , a = "ref_code"
                , i = "extra"
                , c = "is_offside_ad";

            function u(e) {
                if (e.callbackUrl || (e.callbackUrl = window.location.href),
                (e.autoRenewable || e.contract) && (e.contract = 1),
                e.extra && "string" != typeof e.extra && (e.extra = JSON.stringify(e.extra)),
                e.isOffsideAd && (e.isOffsideAd = 1),
                !e.refCode || !e.extra || !e.isOffsideAd) {
                    var t = Object(r.parse)(window.location.search.substring(1));
                    !e.refCode && t[a] && (e.refCode = t[a]),
                    !e.extra && t[i] && (e.extra = t[i]),
                    !e.isOffsideAd && t[c] && (e.isOffsideAd = t[c])
                }
                var n = Object(r.stringify)(Object(o.decamelizeKeys)(e));
                window.location.href = "https://pay.zhihu.com/checkout?".concat(n)
            }
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(10)
                , i = n(11);

            function c(e) {
                return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function u(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function l(e) {
                return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function s(e, t) {
                return (s = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function f(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            t.a = function (e) {
                return function (t) {
                    function n() {
                        var e, t, r, o, u, s, p;
                        !function (e, t) {
                            if (!(e instanceof t))
                                throw new TypeError("Cannot call a class as a function")
                        }(this, n);
                        for (var m = arguments.length, b = new Array(m), d = 0; d < m; d++)
                            b[d] = arguments[d];
                        return r = this,
                            o = (e = l(n)).call.apply(e, [this].concat(b)),
                            t = !o || "object" !== c(o) && "function" != typeof o ? f(r) : o,
                            u = f(f(t)),
                            p = function () {
                                a.a.trackEvent(Object(i.findDOMNode)(f(f(t))), {
                                    id: 7571,
                                    action: "StatusReport"
                                }, {
                                    page: {
                                        elapsed: Math.floor((Date.now() - t.mountTime) / 1e3)
                                    }
                                })
                            }
                            ,
                            (s = "handleBeforeUnload") in u ? Object.defineProperty(u, s, {
                                value: p,
                                enumerable: !0,
                                configurable: !0,
                                writable: !0
                            }) : u[s] = p,
                            t
                    }

                    var r, p, m;
                    return function (e, t) {
                        if ("function" != typeof t && null !== t)
                            throw new TypeError("Super expression must either be null or a function");
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                writable: !0,
                                configurable: !0
                            }
                        }),
                        t && s(e, t)
                    }(n, o.a.Component),
                        r = n,
                    (p = [{
                        key: "componentDidMount",
                        value: function () {
                            this.mountTime = Date.now(),
                                window.addEventListener("beforeunload", this.handleBeforeUnload)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function () {
                            window.removeEventListener("beforeunload", this.handleBeforeUnload)
                        }
                    }, {
                        key: "render",
                        value: function () {
                            return o.a.createElement(e, this.props)
                        }
                    }]) && u(r.prototype, p),
                    m && u(r, m),
                        n
                }()
            }
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(85)
                , u = n.n(c)
                , l = n(4)
                , s = n(3)
                , f = n(12)
                , p = n(28)
                , m = n(99)
                , b = n(162)
                , d = n(462)
                , y = n.n(d);

            function h(e) {
                return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function v(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function g(e, t) {
                return !t || "object" !== h(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function O(e) {
                return (O = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function E(e, t) {
                return (E = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function w(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var S = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        g(this, O(t).apply(this, arguments))
                }

                var r, a, c;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && E(e, t)
                }(t, o.a.PureComponent),
                    r = t,
                (a = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props
                            , t = e.book
                            , n = e.params.token
                            , r = e.dispatch;
                        t.info || r(Object(p.c)(n)),
                        t.chapters || r(Object(m.c)(n))
                    }
                }, {
                    key: "getCurrentPrice",
                    value: function () {
                        var e = (this.props.book.info || {}).promotion || {};
                        return e[e.isPromotion ? "promotionPrice" : "price"]
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.showPopItem
                            , r = e.book
                            , a = e.params
                            , c = a.token
                            , u = a.chapterUid
                            , l = e.buy
                            , p = r.chapters ? r.chapters.updated : []
                            , m = this.getCurrentPrice();
                        return o.a.createElement("ul", {
                            className: "MPub-reader-chapter"
                        }, p.map(function (e, a) {
                            var p = e.isOwn || 0 === m;
                            return e.title ? o.a.createElement("li", {
                                key: e.chapterUid,
                                className: i()("level-".concat(e.level), {
                                    "is-not-own": !p,
                                    "is-current": u === e.chapterUid
                                })
                            }, o.a.createElement(s.c, Object.assign({
                                id: "title".concat(e.chapterUid)
                            }, l && !p ? {
                                onClick: l
                            } : {
                                to: "/pub/reader/".concat(c, "/chapter/").concat(e.chapterUid)
                            }), o.a.createElement("span", {
                                className: "chapter-title"
                            }, e.title), e.isTrial && m > 0 && !r.info.isOwn && o.a.createElement("span", {
                                className: "chapter-trial"
                            }, "试读"), !p && o.a.createElement("span", {
                                className: "chapter-tag"
                            }, o.a.createElement(f.a, {
                                className: "chapter-tag-icon",
                                src: n(490),
                                width: 10
                            }), o.a.createElement("span", {
                                className: "chapter-tag-text"
                            }, "未购买"))), t && o.a.createElement(b.a, {
                                color: "blue",
                                className: "chapter-hover-title",
                                trigger: "title".concat(e.chapterUid),
                                event: "hover",
                                arrow: "top"
                            }, o.a.createElement("span", null, e.title))) : null
                        }))
                    }
                }]) && v(r.prototype, a),
                c && v(r, c),
                    t
            }();
            w(S, "defaultProps", {
                showPopItem: !1
            }),
                S.css = y.a,
                t.a = Object(l.b)(function (e, t) {
                    var n = t.params.token;
                    return {
                        book: function (e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {}
                                    , r = Object.keys(n);
                                "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                                }))),
                                    r.forEach(function (t) {
                                        w(e, t, n[t])
                                    })
                            }
                            return e
                        }({}, e.reader[n], {
                            info: u()(e.book, [n, "bookInfo"])
                        })
                    }
                })(S)
        }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "c", function () {
                return p
            }),
                n.d(t, "a", function () {
                    return m
                }),
                n.d(t, "d", function () {
                    return d
                }),
                n.d(t, "b", function () {
                    return h
                });
            var r = n(15)
                , o = n(50)
                , a = n(5);

            function i(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            c(e, t, n[t])
                        })
                }
                return e
            }

            function c(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var u = i({}, Object(a.a)("active", ["GET_AVAILABLE_METHOD", "GET_ACCOUNT_DIGITS", "ACTIVE_BY_EMAIL", "ACTIVE_BY_DIGITS"]), Object(a.b)("active", ["RESET_DIGITS_RESULT", "SET_UNLOCK_TICKET"]));

            function l() {
                return {
                    API: {
                        types: u.GET_AVAILABLE_METHOD,
                        endpoint: "v3/oauth/account/unlock/request",
                        method: "GET",
                        fetchOptions: {
                            credentials: "include"
                        }
                    }
                }
            }

            var s = [100016, 100017, 100018, 1e5];

            function f(e) {
                var t = e.newPhoneNo
                    , n = e.unlockTicket
                    , a = e.smsType
                    , i = {
                    newPhoneNo: t
                };
                return a && (i.smsType = a),
                    function (e) {
                        return e({
                            API: {
                                types: u.GET_ACCOUNT_DIGITS,
                                endpoint: "v3/oauth/account/phone_no",
                                body: Object(o.a)(Object(r.decamelizeKeys)(i)),
                                method: "POST",
                                headers: {
                                    "X-Account-Unlock": n
                                },
                                fetchOptions: {
                                    credentials: "include"
                                }
                            },
                            NOTIFICATION: !1
                        }).then(null, function (n) {
                            return s.includes(n.err.payload.code) ? e(p({
                                newPhoneNo: t,
                                needsRefreshUnlockTicket: !0
                            })) : null
                        })
                    }
            }

            function p(e) {
                var t = e.newPhoneNo
                    , n = e.needsRefreshUnlockTicket
                    , r = e.smsType;
                return function (e, o) {
                    var a = o().active.unlockTicket;
                    return a && !n ? e(f({
                        newPhoneNo: t,
                        unlockTicket: a,
                        smsType: r
                    })) : e(l()).then(function (n) {
                        var o = n.payload.unlockTicket;
                        e(f({
                            newPhoneNo: t,
                            unlockTicket: o,
                            smsType: r
                        }))
                    })
                }
            }

            function m() {
                return {
                    API: {
                        types: u.ACTIVE_BY_EMAIL,
                        endpoint: "v3/oauth/active_mail",
                        method: "POST",
                        fetchOptions: {
                            credentials: "include"
                        }
                    },
                    NOTIFICATION: {
                        success: "验证邮件已发送至你的邮箱，请注意查收"
                    }
                }
            }

            function b(e) {
                var t = e.newPhoneNo
                    , n = e.digits
                    , a = e.unlockTicket;
                return function (e) {
                    return e({
                        API: {
                            types: u.ACTIVE_BY_DIGITS,
                            endpoint: "v3/oauth/account/phone_no",
                            body: Object(o.a)(Object(r.decamelizeKeys)({
                                newPhoneNo: t,
                                digits: n
                            })),
                            method: "PUT",
                            headers: {
                                "X-Account-Unlock": a
                            },
                            fetchOptions: {
                                credentials: "include"
                            }
                        },
                        NOTIFICATION: {
                            success: "账号激活成功，欢迎加入知乎"
                        }
                    }).then(null, function (r) {
                        return s.includes(r.err.payload.code) ? e(d({
                            newPhoneNo: t,
                            digits: n,
                            needsRefreshUnlockTicket: !0
                        })) : null
                    })
                }
            }

            function d(e) {
                var t = e.newPhoneNo
                    , n = e.digits
                    , r = e.needsRefreshUnlockTicket;
                return function (e, o) {
                    var a = o().active.unlockTicket;
                    return a && !r ? e(b({
                        newPhoneNo: t,
                        digits: n,
                        unlockTicket: a
                    })) : e(l()).then(function (r) {
                        var o = r.payload.unlockTicket;
                        e(b({
                            newPhoneNo: t,
                            digits: n,
                            unlockTicket: o
                        }))
                    })
                }
            }

            var y = {
                sendDigitsError: null,
                activeConfirmSucceeded: null,
                activeConfirmError: null,
                unlockTicket: null
            };

            function h() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : y
                    , t = arguments.length > 1 ? arguments[1] : void 0
                    , n = t.type;
                return n === u.GET_ACCOUNT_DIGITS.request ? i({}, e, {
                    sendDigitsError: null
                }) : n === u.GET_ACCOUNT_DIGITS.failure ? i({}, e, {
                    sendDigitsError: i({}, e.sendDigitsError, Object(a.c)(t.err.payload))
                }) : n === u.ACTIVE_BY_DIGITS.request ? i({}, e, {
                    activeConfirmSucceeded: null,
                    activeConfirmError: null
                }) : n === u.ACTIVE_BY_DIGITS.success ? i({}, e, {
                    activeConfirmSucceeded: !0
                }) : n === u.ACTIVE_BY_DIGITS.failure ? i({}, e, {
                    activeConfirmError: i({}, e.activeConfirmError, Object(a.c)(t.err.payload))
                }) : n === u.GET_AVAILABLE_METHOD.success ? i({}, e, {
                    unlockTicket: t.payload.unlockTicket
                }) : n === u.SET_UNLOCK_TICKET ? i({}, e, {
                    unlockTicket: t.unlockTicket
                }) : e
            }
        }, , , , , , , , , , , , , ,
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return s
            });
            var r = n(2)
                , o = n.n(r)
                , a = n(165)
                , i = "〈《「『【〔〖〘〚〝（［｛"
                , c = "〉》」』】〕〗〙〛〞）］｝；：、。，．？！"
                , u = i + c;

            function l(e, t, n) {
                var r = new RegExp("[".concat(u, "]"), "g")
                    , a = e.textContent;
                if (!r.test(a))
                    return e;
                r.lastIndex = 0;
                for (var l, s = document.createDocumentFragment(), f = -1; null != (l = r.exec(a));) {
                    var p = l[0]
                        , m = l.index;
                    m > f && (s.appendChild(document.createTextNode(a.slice(f + 1, m))),
                        f = m);
                    var b = !1
                        , d = !1
                        , y = !1;
                    i.includes(p) ? (b = !0,
                        y = 0 === m ? t && u.includes(t) : u.includes(a[m - 1])) : c.includes(p) && (d = !0,
                        y = m === a.length - 1 ? n && c.includes(n) : c.includes(a[m + 1]));
                    var h = document.createElement("span")
                        , v = document.createElement("span");
                    v.textContent = p,
                        h.appendChild(v),
                        h.className = o()({
                            "fw-op": b,
                            "fw-cl": d,
                            "fw--collapsed": y
                        }),
                        s.appendChild(h)
                }
                return f < a.length && (s.appendChild(document.createTextNode(a.slice(f + 1, a.length))),
                    f = a.length),
                    s
            }

            function s(e) {
                if ("string" == typeof e) {
                    var t = Object(a.a)(e);
                    return s(t),
                        t.innerHTML
                }
                var n = function e(t) {
                    return "function" == typeof t.hasChildNodes && t.hasChildNodes() ? Array.from(t.childNodes).reduce(function (t, n) {
                        var r = e(n);
                        return r ? t = t.concat(r) : t.push(n),
                            t
                    }, []) : null
                }(e);
                if (n)
                    for (var r = 0, o = n.length; r < o; r++) {
                        var i = n[r]
                            ,
                            c = l(i, r > 0 ? n[r - 1].textContent[0] : null, r < n.length - 1 ? n[r + 1].textContent[0] : null);
                        c !== i && i.parentNode.replaceChild(c, i)
                    }
            }
        }, , , , , , ,
        function (e, t, n) {
            "use strict";
            (function (e) {
                    function r(t, n) {
                        "function" == typeof e.requestIdleCallback ? e.requestIdleCallback(t, {
                            timeout: n
                        }) : setTimeout(t, n)
                    }

                    n.d(t, "a", function () {
                        return r
                    })
                }
            ).call(this, n(26))
        }, ,
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return c
            });
            var r = n(2)
                , o = n.n(r);

            function a(e) {
                return function (e) {
                    if (Array.isArray(e)) {
                        for (var t = 0, n = new Array(e.length); t < e.length; t++)
                            n[t] = e[t];
                        return n
                    }
                }(e) || function (e) {
                    if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e))
                        return Array.from(e)
                }(e) || function () {
                    throw new TypeError("Invalid attempt to spread non-iterable instance")
                }()
            }

            function i(e) {
                return e && e.endsWith("-body")
            }

            function c(e) {
                var t = "string" == typeof e ? e : function (e) {
                    for (var t = e.length - 1; t >= 0; t--) {
                        var n = e[t].bodyClassName;
                        if (i(n))
                            return n
                    }
                    return null
                }(e)
                    , n = document.body.className.trim()
                    , r = n ? n.split(/\s+/) : [];
                r.includes(t) || (document.body.className = o.a.apply(void 0, [t || ""].concat(a(r.filter(function (e) {
                    return !i(e)
                })))))
            }
        }, ,
        function (e, t, n) {
            "use strict";

            function r(e) {
                return e && e.Tablet ? {
                    width: 540,
                    height: 223
                } : {
                    width: 320,
                    height: 132
                }
            }

            n.d(t, "a", function () {
                return r
            })
        },
        function (e, t, n) {
        },
        function (e, t, n) {
            "use strict";
            var r = n(1)
                , o = n.n(r)
                , a = n(0)
                , i = n.n(a)
                , c = n(11)
                , u = n(10)
                , l = n(392);

            function s(e) {
                return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function f(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function p(e) {
                return (p = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function m(e, t) {
                return (m = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function b(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function d(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            y(e, t, n[t])
                        })
                }
                return e
            }

            function y(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var h = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = p(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== s(o) && "function" != typeof o ? b(r) : o,
                        y(b(b(n)), "handleViewed", function () {
                            var e = n.props
                                , t = e.extra
                                , r = e.view;
                            setTimeout(function () {
                                u.a.trackCardShow(b(b(n)), r || {}, t)
                            })
                        }),
                        y(b(b(n)), "trackEvent", function (e, t, r) {
                            u.a.trackEvent(e, t, d({}, n.props.extra, r))
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && m(e, t)
                }(t, a["Component"]),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        this.setModule()
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function () {
                        this.setModule()
                    }
                }, {
                    key: "setModule",
                    value: function () {
                        var e = this.props
                            , t = e.module
                            , n = e.index
                            , r = e.isAd
                            , o = e.moduleName
                            , a = e.content
                            , i = e.list
                            , l = e.card
                            , s = e.attachedInfoBytes;
                        if (t) {
                            var f = Object(c.findDOMNode)(this);
                            f && u.a.setModule(f, {
                                module: t,
                                index: n,
                                is_ad: r,
                                module_name: o
                            }, function (e, t, n, r) {
                                return d({}, (t = t || {
                                    content: e
                                }) && {
                                    card: t
                                }, n && {
                                    list: n
                                }, r && {
                                    attached_info_bytes: r
                                })
                            }(a, l, i, s))
                        }
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.id
                            , n = e.trackCardShow
                            , r = e.children
                            , o = e.getContainer
                            , c = e.onRef
                            , u = "string" == typeof r.type ? r : Object(a.cloneElement)(r, {
                            trackEvent: this.trackEvent
                        });
                        return n ? i.a.createElement(l.a, {
                            id: t,
                            onViewed: this.handleViewed,
                            getTarget: o,
                            ref: function (e) {
                                c && c(e)
                            }
                        }, u) : u
                    }
                }]) && f(n.prototype, r),
                o && f(n, o),
                    t
            }();
            y(h, "propTypes", {
                id: o.a.string,
                module: o.a.string,
                moduleName: o.a.string,
                index: o.a.string,
                isAd: o.a.bool,
                content: o.a.object,
                extra: o.a.object,
                trackCardShow: o.a.bool,
                attachedInfoBytes: o.a.string
            }),
                y(h, "defaultProps", {
                    id: null,
                    module: null,
                    moduleName: null,
                    index: null,
                    isAd: !1,
                    content: null,
                    extra: null,
                    attachedInfoBytes: null,
                    trackCardShow: !1
                }),
                t.a = h
        }, , , ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(4)
                , i = n(3)
                , c = n(30)
                , u = n.n(c)
                , l = n(2)
                , s = n.n(l)
                , f = n(9)
                , p = n(109)
                , m = n(230)
                , b = n.n(m)
                , d = n(101)
                , y = n(44)
                , h = n(22)
                , v = n(87)
                , g = n(62)
                , O = n(169)
                , E = n(402)
                , w = n.n(E);

            function S(e) {
                return (S = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function P(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function k(e, t) {
                return !t || "object" !== S(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function j(e) {
                return (j = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function _(e, t) {
                return (_ = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var T, C, N, I = function (e) {
                function t(e) {
                    var n;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        (n = k(this, j(t).call(this, e))).state = {
                            highlightDefaultTab: !1
                        },
                        n
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && _(e, t)
                }(t, o.a.Component),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        this.hackHighlightDefaultTab()
                    }
                }, {
                    key: "componentWillReceiveProps",
                    value: function () {
                        this.hackHighlightDefaultTab()
                    }
                }, {
                    key: "hackHighlightDefaultTab",
                    value: function () {
                        this.setState({
                            highlightDefaultTab: /\/pub\/?$/i.test(location.pathname)
                        })
                    }
                }, {
                    key: "renderTabs",
                    value: function () {
                        var e = this.props.ua.Mobile;
                        return o.a.createElement(p.b, {
                            className: "PubIndex-tabs"
                        }, o.a.createElement(p.a, null, o.a.createElement(i.c, {
                            to: "/pub/categories/".concat(O.a),
                            className: s()({
                                "is-active": this.state.highlightDefaultTab
                            })
                        }, "分类")), o.a.createElement(p.a, null, o.a.createElement(i.c, {
                            to: "/pub/features/sale"
                        }, "特价")), o.a.createElement(p.a, null, o.a.createElement(i.c, {
                            to: "/pub/features/free"
                        }, "免费")), e && o.a.createElement("li", {
                            className: "PubIndex-tabsTogglerWrapper"
                        }, o.a.createElement(d.b, {
                            menuClassName: "PubIndex-tabsMenu",
                            toggler: o.a.createElement("span", {
                                className: "PubIndex-tabsToggler"
                            }, "更多", o.a.createElement(y.a, {
                                name: "triangle"
                            }))
                        }, o.a.createElement(d.a, {
                            tag: i.c,
                            to: "/pub/features/top"
                        }, "榜单"), o.a.createElement(d.a, {
                            tag: i.c,
                            to: "/pub/zhihu"
                        }, "知乎出品"))), !e && o.a.createElement(p.a, null, o.a.createElement(i.c, {
                            to: "/pub/features/top"
                        }, "榜单")), !e && o.a.createElement(p.a, null, o.a.createElement(i.c, {
                            to: "/pub/zhihu"
                        }, "知乎出品")))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.recommend
                            , n = e.ua
                            , r = e.children;
                        return o.a.createElement("div", {
                            className: "PubIndex"
                        }, o.a.createElement(u.a, {
                            title: "知乎书店",
                            titleTemplate: "%s - 知乎"
                        }), Array.isArray(t) && t.length > 0 && o.a.createElement(f.c, null, o.a.createElement(f.a, {
                            className: "PubIndex-recommendationsHeader"
                        }, "精选推荐", o.a.createElement("a", {
                            className: "PubIndex-recommendationsLink",
                            href: "/publications/recommendations"
                        }, "查看全部书目", o.a.createElement(y.a, {
                            name: "arrow"
                        }))), o.a.createElement(v.a, {
                            items: t,
                            className: "PubIndex-recommends",
                            wrap: !1
                        })), o.a.createElement(f.c, {
                            style: {
                                overflow: "visible"
                            }
                        }, o.a.createElement("div", {
                            id: "secondary",
                            className: "PubAnchor"
                        }), o.a.createElement("div", {
                            className: "PubIndex-CategoriesHeader PubMobileSubHeader",
                            style: {
                                top: n.Zhihu ? 0 : "".concat(h.c, "px")
                            }
                        }, this.renderTabs()), r, o.a.createElement("p", {
                            className: "PubIndex-helpLinkWrapper"
                        }, o.a.createElement("a", {
                            href: "/publications/help",
                            target: "_blank"
                        }, "需要帮助？查看电子书常见问题"))))
                    }
                }]) && P(n.prototype, r),
                a && P(n, a),
                    t
            }();
            N = function (e) {
                var t = e.dispatch;
                return (0,
                    e.getState)().env.userAgent.Mobile ? Promise.resolve() : t(Object(g.b)("recommend", {
                    limit: 5
                }))
            }
                ,
                (C = "fetchData") in (T = I) ? Object.defineProperty(T, C, {
                    value: N,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : T[C] = N,
                I.css = [b.a, w.a],
                t.a = Object(a.b)(function (e) {
                    return {
                        recommend: e.features.recommend.items,
                        ua: e.env.userAgent,
                        shelf: e.shelf
                    }
                })(I)
        }, ,
        function (e, t, n) {
            "use strict";
            (function (e) {
                    var r = n(1)
                        , o = n.n(r)
                        , a = n(0)
                        , i = n.n(a)
                        , c = n(4)
                        , u = n(3)
                        , l = n(2)
                        , s = n.n(l)
                        , f = n(25)
                        , p = n(231)
                        , m = n(87)
                        , b = n(21)
                        , d = n(46)
                        , y = n(169);

                    function h(e) {
                        return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                                    return typeof e
                                }
                                : function (e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                }
                        )(e)
                    }

                    function v(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value" in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }

                    function g(e) {
                        return (g = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                                return e.__proto__ || Object.getPrototypeOf(e)
                            }
                        )(e)
                    }

                    function O(e, t) {
                        return (O = Object.setPrototypeOf || function (e, t) {
                                return e.__proto__ = t,
                                    e
                            }
                        )(e, t)
                    }

                    function E(e) {
                        if (void 0 === e)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }

                    function w(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }

                    var S = function (t) {
                        function n(e) {
                            var t, r, o;
                            return function (e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, n),
                                r = this,
                                o = g(n).call(this, e),
                                t = !o || "object" !== h(o) && "function" != typeof o ? E(r) : o,
                                w(E(E(t)), "handleSelectCateOption", function (e) {
                                    t.context.router.push("/pub/categories/".concat(e))
                                }),
                                w(E(E(t)), "loadMore", function () {
                                    t.props.dispatch(Object(d.c)(t.props.params.id))
                                }),
                                t.state = {
                                    highlightDefaultTab: !1
                                },
                                t
                        }

                        var r, o, a;
                        return function (e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function");
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && O(e, t)
                        }(n, i.a.Component),
                            r = n,
                        (o = [{
                            key: "componentDidMount",
                            value: function () {
                                this.props.index || this.props.dispatch(Object(d.b)()),
                                this.props.category || this.props.dispatch(Object(d.c)(this.props.params.id)),
                                    this.hackHighlightDefaultTab()
                            }
                        }, {
                            key: "componentWillReceiveProps",
                            value: function (e) {
                                e.category || this.props.dispatch(Object(d.c)(e.params.id)),
                                    this.hackHighlightDefaultTab()
                            }
                        }, {
                            key: "hackHighlightDefaultTab",
                            value: function () {
                                this.setState({
                                    highlightDefaultTab: /\/pub\/?$/i.test(location.pathname)
                                })
                            }
                        }, {
                            key: "renderTabs",
                            value: function () {
                                var t = this
                                    , n = this.props
                                    , r = n.index
                                    , o = n.ua
                                    , a = this.props.params.id
                                    , c = 3;
                                return o.isBot ? c = 1 / 0 : e.window && window.innerWidth < 690 && (c = 2),
                                    r ? i.a.createElement("div", {
                                        className: "PubIndex-subTabs"
                                    }, r.map(function (e, n) {
                                        return n < c ? i.a.createElement(u.c, {
                                            to: "/pub/categories/".concat(e.id),
                                            className: s()({
                                                "is-active": 0 === n && t.state.highlightDefaultTab
                                            }),
                                            activeClassName: "is-active",
                                            key: e.id
                                        }, e.name) : null
                                    }), r.length > c && i.a.createElement(p.b, {
                                        value: a,
                                        onChange: this.handleSelectCateOption
                                    }, r.map(function (e, t) {
                                        return t >= c ? i.a.createElement(p.a, {
                                            value: String(e.id),
                                            text: e.name,
                                            key: e.id
                                        }) : null
                                    }))) : null
                            }
                        }, {
                            key: "render",
                            value: function () {
                                var e = this.props.category;
                                return i.a.createElement("div", {
                                    className: s()("PubIndex-main", {
                                        "is-drained": e && e.isDrained
                                    })
                                }, this.renderTabs(), e && i.a.createElement(f.b, {
                                    isLoading: e.isFetching,
                                    isDrained: e.isDrained,
                                    onLoad: this.loadMore,
                                    placeholder: b.a
                                }, i.a.createElement(m.a, {
                                    items: e.items
                                })))
                            }
                        }]) && v(r.prototype, o),
                        a && v(r, a),
                            n
                    }();
                    w(S, "fetchData", function (e) {
                        var t = e.params.id
                            , n = e.dispatch
                            , r = (0,
                            e.getState)().env.userAgent.isBot;
                        return Promise.all([n(Object(d.b)()), n(Object(d.c)(t || y.a, {
                            limit: r ? 20 : 5
                        }))])
                    }),
                        S.contextTypes = {
                            router: o.a.object
                        },
                        t.a = Object(c.b)(function (e, t) {
                            var n = t.params.id;
                            return {
                                index: e.categories.index,
                                category: e.categories[n],
                                ua: e.env.userAgent
                            }
                        })(S)
                }
            ).call(this, n(26))
        }, , ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(11)
                , u = n(25)
                , l = n(21)
                , s = n(20)
                , f = n(34)
                , p = n(171)
                , m = n(67)
                , b = n(407)
                , d = n.n(b);

            function y(e) {
                return (y = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function h(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function v(e) {
                return (v = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function g(e, t) {
                return (g = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function O(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var E = function (e) {
                function t() {
                    var e, n, r, o, a, i, u;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var l = arguments.length, s = new Array(l), f = 0; f < l; f++)
                        s[f] = arguments[f];
                    return r = this,
                        o = (e = v(t)).call.apply(e, [this].concat(s)),
                        n = !o || "object" !== y(o) && "function" != typeof o ? O(r) : o,
                        a = O(O(n)),
                        u = function () {
                            return Object(c.findDOMNode)(O(O(n))).querySelector(".ShelfGroupBooks-list-wrapper")
                        }
                        ,
                        (i = "getInfiLoaderContainer") in a ? Object.defineProperty(a, i, {
                            value: u,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : a[i] = u,
                        n
                }

                var n, r, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && g(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props.currentGroup;
                        if (!t)
                            return null;
                        var n = this.props
                            , r = n.className
                            , a = n.onClose
                            , c = n.shelf
                            , b = c.groupInfo
                            , d = c.unreadWeekly
                            , y = b[t.token] || new s.a
                            , h = y.isFetching
                            , v = y.isDrained
                            , g = y.items
                            , O = y.totals;
                        return o.a.createElement("div", {
                            className: i()("ShelfGroupBooksWrapper", r)
                        }, o.a.createElement("div", {
                            className: "ShelfGroupBooks-header"
                        }, o.a.createElement("span", {
                            className: "total"
                        }, O || "...", " 本"), o.a.createElement("h2", null, t.name), o.a.createElement("span", {
                            className: "close",
                            onClick: a
                        }, "×")), o.a.createElement("div", {
                            className: "ShelfGroupBooks-infi-list-wrapper"
                        }, o.a.createElement(u.b, {
                            className: "ShelfGroupBooks-list-wrapper",
                            isLoading: h,
                            isDrained: v,
                            getContainer: this.getInfiLoaderContainer,
                            onLoad: function () {
                                e.props.dispatch(Object(m.e)(t.token))
                            },
                            placeholder: l.a
                        }, o.a.createElement(p.a, {
                            className: "ShelfGroupBooks-list",
                            listItemClassName: "PubShelfBookItem"
                        }, g.length > 0 && g.map(function (e) {
                            return o.a.createElement(f.c, Object.assign({
                                key: e.id
                            }, e, {
                                isUnread: d === String(e.id)
                            }))
                        })))))
                    }
                }]) && h(n.prototype, r),
                a && h(n, a),
                    t
            }();
            E.css = d.a,
                t.a = E
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return l
            });
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(12);
            n(738);

            function u(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function l(e) {
                var t = e.prompt
                    , r = e.onPromptAcquire
                    , a = e.className
                    , l = u(e, ["prompt", "onPromptAcquire", "className"]);
                if (!t)
                    return null;
                var s = 1 === t.type
                    , f = s && "available" === t.coupon.status
                    , p = f ? {
                    onClick: function (e) {
                        r(e, t.coupon.urlToken)
                    }
                } : {};
                return o.a.createElement("div", Object.assign({
                    className: i()("MPub-Prompt", a, {
                        hasAction: s
                    })
                }, l), o.a.createElement("div", {
                    className: "PromptWrapper"
                }, o.a.createElement(c.a, {
                    className: "PromptIcon",
                    src: n(481),
                    width: "24",
                    height: "24"
                }), s ? [o.a.createElement("span", {
                    className: "PromptText",
                    key: "PromptText"
                }, t.name), o.a.createElement("span", Object.assign({
                    className: i()("PromptAction", {
                        NotAvailable: !f
                    })
                }, p, {
                    key: "PromptAction"
                }), f ? "立即领取" : t.coupon.statusMessage)] : o.a.createElement("a", {
                    href: t.link,
                    className: "PromptText Link",
                    "data-za-detail-view-id": 737
                }, t.name)))
            }
        },
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(2)
                , i = n.n(a)
                , c = n(27)
                , u = n(408)
                , l = n.n(u);

            function s(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            var f = function (e) {
                var t = e.component
                    , n = e.group
                    , r = n.books
                    , a = n.name
                    , u = e.className
                    , l = s(e, ["component", "group", "className"]);
                return o.a.createElement(t, Object.assign({
                    className: i()("BookGroupThumbWrapper", u)
                }, l), o.a.createElement("div", {
                    className: "BookGroupThumb-Images"
                }, r && r.map(function (e) {
                    return o.a.createElement(c.a, {
                        key: e.id,
                        width: "50",
                        height: "70",
                        src: e.cover,
                        alt: e.name
                    })
                })), o.a.createElement("h3", {
                    className: "BookGroupThumb-title"
                }, a))
            };
            f.defaultProps = {
                component: "li"
            },
                f.css = l.a,
                t.a = f
        }, ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(267);
            n(755);
            t.a = function () {
                return o.a.createElement("div", {
                    className: "PayUI-loader"
                }, o.a.createElement(a.a, {
                    className: "PayUI-loader-spinner",
                    large: !0,
                    white: !0
                }))
            }
        }, , , , , , , , , , , , , , , , , , , , , , , , , , ,
        function (e, t, n) {
            "use strict";
            (function (e) {
                    var r = n(1)
                        , o = n.n(r)
                        , a = n(0)
                        , i = n.n(a)
                        , c = n(4)
                        , u = n(30)
                        , l = n.n(u)
                        , s = n(17)
                        , f = n(237)
                        , p = n(374)
                        , m = n(375)
                        , b = n(467)
                        , d = n(35)
                        , y = n(376)
                        , h = n(79)
                        , v = n(82)
                        , g = n(80)
                        , O = n(180)
                        , E = n(378)
                        , w = n(381)
                        , S = n(167)
                        , P = n(232)
                        , k = n(382)
                        , j = n(75)
                        , _ = n(383)
                        , T = n.n(_);

                    function C(e) {
                        return (C = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                                    return typeof e
                                }
                                : function (e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                }
                        )(e)
                    }

                    function N(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value" in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }

                    function I(e) {
                        return (I = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                                return e.__proto__ || Object.getPrototypeOf(e)
                            }
                        )(e)
                    }

                    function A(e, t) {
                        return (A = Object.setPrototypeOf || function (e, t) {
                                return e.__proto__ = t,
                                    e
                            }
                        )(e, t)
                    }

                    function x(e) {
                        if (void 0 === e)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }

                    function D(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }

                    var R = function (t) {
                        function n() {
                            var e, t, r, o;
                            !function (e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, n);
                            for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                                i[c] = arguments[c];
                            return r = this,
                                o = (e = I(n)).call.apply(e, [this].concat(i)),
                                t = !o || "object" !== C(o) && "function" != typeof o ? x(r) : o,
                                D(x(x(t)), "state", {
                                    authType: Object(d.a)() && !t.props.currentUser && Object(j.g)() ? "login" : "register",
                                    authModalShown: !1,
                                    activeModalShown: !1,
                                    bindPhoneModalShown: !1,
                                    asyncActiveModalLoaded: !1
                                }),
                                D(x(x(t)), "requireLogin", function () {
                                    var e = t.props.ua
                                        , n = e.Zhihu
                                        , r = e.Wechat
                                        , o = e.Mobile
                                        , a = e.Android;
                                    if (n || r || !o && !a)
                                        t.handleAuthModalShow();
                                    else {
                                        var i = encodeURIComponent(location.pathname + location.search);
                                        location.href = "/signin?next=".concat(i)
                                    }
                                }),
                                D(x(x(t)), "handleAuthModalShow", function () {
                                    t.setState({
                                        authModalShown: !0
                                    })
                                }),
                                D(x(x(t)), "handleAuthModalHide", function () {
                                    setTimeout(function () {
                                        t.setState({
                                            authModalShown: !1
                                        })
                                    }, 300)
                                }),
                                D(x(x(t)), "handleInitPlugin", function () {
                                    var e = t.props
                                        , n = e.currentUser
                                        , r = e.experiment
                                        , o = e.ua;
                                    Object(w.a)(n, r, o)
                                }),
                                D(x(x(t)), "handleInitAccount", function () {
                                    var e = t.props
                                        , n = e.currentUser
                                        , r = e.account
                                        , o = e.getUnblockInfo;
                                    n && n.accountStatus.find(function (e) {
                                        return "lock" === e.name
                                    }) && !r.isUnblockInfoFetched && o()
                                }),
                                D(x(x(t)), "handleActiveModalShown", function () {
                                    t.setState(function (e) {
                                        return {
                                            asyncActiveModalLoaded: !0,
                                            activeModalShown: !e.activeModalShown
                                        }
                                    })
                                }),
                                D(x(x(t)), "handleBindPhoneModalToggle", function () {
                                    t.setState(function (e) {
                                        return {
                                            bindPhoneModalShown: !e.bindPhoneModalShown
                                        }
                                    })
                                }),
                                t
                        }

                        var r, o, c;
                        return function (e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function");
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && A(e, t)
                        }(n, a["Component"]),
                            r = n,
                        (o = [{
                            key: "getChildContext",
                            value: function () {
                                var e = this
                                    , t = this.props
                                    , n = t.currentUser
                                    , r = t.showNotification
                                    , o = t.config;
                                return {
                                    currentUser: n,
                                    authRequired: Object(E.a)(n, o, function () {
                                        return e.props.account
                                    }, this.requireLogin, function (e) {
                                        for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), o = 1; o < t; o++)
                                            n[o - 1] = arguments[o];
                                        return r.apply(void 0, [e, "white"].concat(n))
                                    }, this.handleBindPhoneModalToggle),
                                    handleActiveModalShown: this.handleActiveModalShown,
                                    handleBindPhoneModalToggle: this.handleBindPhoneModalToggle
                                }
                            }
                        }, {
                            key: "componentDidMount",
                            value: function () {
                                var e = this
                                    , t = this.props
                                    , n = t.currentUser
                                    , r = t.getUnlockRequest
                                    , o = t.config;
                                !n || n.isBindPhone || o.isWindow || r(),
                                    this.handleInitAccount(),
                                    window.addEventListener("load", this.handleInitPlugin),
                                    s.a.supportsAction("account/showLoginDialog").then(function (t) {
                                        e.supportLoginDialog = t
                                    })
                            }
                        }, {
                            key: "componentWillReceiveProps",
                            value: function (e) {
                                var t = e.account
                                    , n = e.currentUser
                                    , r = e.getUnlockRequest
                                    , o = t.errorStatus;
                                if (!t.isFetching) {
                                    var a = document.querySelector(".VerificationDialogModalHeader");
                                    o && !a && n && r()
                                }
                            }
                        }, {
                            key: "componentWillUnmount",
                            value: function () {
                                var e = this.props.recoverDefaultType;
                                window.removeEventListener("load", this.handleInitPlugin),
                                    e()
                            }
                        }, {
                            key: "componentDidCatch",
                            value: function (t, n) {
                                e.console && e.console.error(t, n),
                                e.Raven && e.Raven.captureException(t, {
                                    extra: n
                                })
                            }
                        }, {
                            key: "renderAuthentication",
                            value: function () {
                                var e = this.props
                                    , t = e.ua
                                    , n = e.authType
                                    , r = void 0 === n ? "register" : n;
                                return t.Wechat ? i.a.createElement(k.a, {
                                    onRequestClose: this.handleAuthModalHide
                                }) : t.Zhihu ? this.supportLoginDialog ? (s.a.dispatch("account/showLoginDialog", {
                                    next: location.href
                                }),
                                    null) : i.a.createElement(j.a, {
                                    isAppView: !0,
                                    onClose: this.handleAuthModalHide
                                }) : i.a.createElement(j.c, {
                                    defaultType: r,
                                    onClose: this.handleAuthModalHide
                                })
                            }
                        }, {
                            key: "render",
                            value: function () {
                                var e = this.state
                                    , t = e.authModalShown
                                    , n = e.asyncActiveModalLoaded
                                    , r = e.activeModalShown
                                    , o = e.bindPhoneModalShown
                                    , a = this.props
                                    , c = a.currentUser
                                    , u = a.location.pathname
                                    , s = a.routes
                                    , d = a.ua
                                    , h = c || {}
                                    , v = h.email
                                    , g = h.isBindPhone
                                    , O = h.urlToken;
                                return i.a.createElement("div", {
                                    "data-zop-usertoken": JSON.stringify({
                                        urlToken: O
                                    })
                                }, i.a.createElement(l.a, {
                                    title: "知乎",
                                    titleTemplate: d.Zhihu ? "%s" : "%s - 知乎书店"
                                }), i.a.createElement(y.a, {
                                    page: u.split("/").slice(0, 3).join("/")
                                }), !d.Zhihu && function (e, t) {
                                    for (var n = e.length - 1; n >= 0; n--) {
                                        var r = e[n].showAppHeader;
                                        if (void 0 !== r)
                                            return "function" == typeof r ? r(t) : r
                                    }
                                    return !0
                                }(s, {
                                    ua: d
                                }) ? i.a.createElement(P.b, {
                                    currentUser: c,
                                    ua: d,
                                    pathname: u
                                }) : i.a.createElement(P.a, null), i.a.createElement(b.a, null), i.a.createElement("main", {
                                    role: "main",
                                    className: "App-main"
                                }, this.props.children), t && this.renderAuthentication(), n && i.a.createElement(j.b, {
                                    type: r ? "active" : "initial",
                                    onClose: this.handleActiveModalShown,
                                    shown: r,
                                    email: v
                                }), !g && c && i.a.createElement(j.e, {
                                    onToggle: this.handleBindPhoneModalToggle,
                                    shown: o
                                }), i.a.createElement(p.a, null), i.a.createElement(m.a, null), !d.Mobile && !d.Android && i.a.createElement(S.a, null, i.a.createElement(f.c, null, i.a.createElement(f.a, null))))
                            }
                        }]) && N(r.prototype, o),
                        c && N(r, c),
                            n
                    }();
                    D(R, "fetchData", function (e) {
                        var t = e.dispatch;
                        return Promise.all([t(Object(h.b)()).catch(function () {
                            return {}
                        }), t(Object(O.b)()).catch(function () {
                            return {}
                        })])
                    }),
                        D(R, "childContextTypes", {
                            currentUser: o.a.object,
                            authRequired: o.a.func,
                            handleActiveModalShown: o.a.func,
                            handleBindPhoneModalToggle: o.a.func,
                            settings: o.a.object,
                            challenge: o.a.array,
                            errorStatus: o.a.bool,
                            locakTicketStatus: o.a.bool,
                            message: o.a.string
                        }),
                        R.css = T.a,
                        t.a = Object(c.b)(function (e) {
                            return {
                                currentUser: e.entities.users[e.currentUser],
                                account: e.account,
                                experiment: e.env.experiment,
                                ua: e.env.userAgent,
                                config: e.config
                            }
                        }, {
                            showNotification: v.e,
                            unlockTicketByDigits: g.h,
                            unlockTicketByPassword: g.i,
                            getUnlockRequest: g.c,
                            getUnblockInfo: g.b,
                            requestUnlockTicket: g.g,
                            recoverDefaultType: g.e
                        })(R)
                }
            ).call(this, n(26))
        }, , , , ,
        function (e, t, n) {
            "use strict";
            var r = n(1)
                , o = n.n(r)
                , a = n(0)
                , i = n.n(a)
                , c = n(4)
                , u = n(377);

            function l(e) {
                return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function s(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function f(e) {
                return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function p(e, t) {
                return (p = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function m(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var b, d, y, h = function (e) {
                function t() {
                    var e, n, r;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        n = this,
                        (e = !(r = f(t).call(this)) || "object" !== l(r) && "function" != typeof r ? m(n) : r).state = {
                            actived: !1
                        },
                        e.displayLoadingTimeout = null,
                        e.handleFirstLoaded = e.handleFirstLoaded.bind(m(m(e))),
                        e
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && p(e, t)
                }(t, a["Component"]),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        "complete" !== document.readyState && (window.addEventListener("load", this.handleFirstLoaded),
                            window.addEventListener("abort", this.handleFirstLoaded),
                            this.firstLoading = !0,
                            this.setState({
                                actived: !0
                            }))
                    }
                }, {
                    key: "componentWillReceiveProps",
                    value: function (e) {
                        var t = this;
                        e.page !== this.props.page && (this.displayLoadingTimeout && (clearTimeout(this.displayLoadingTimeout),
                            this.displayLoadingTimeout = null),
                            this.displayLoadingTimeout = setTimeout(function () {
                                t.props.loadingCount && t.setState({
                                    actived: !0
                                })
                            }, 300)),
                        this.props.loadingCount && !e.loadingCount && this.state.actived && !this.firstLoading && this.setState({
                            actived: !1
                        })
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function () {
                        window.removeEventListener("load", this.handleFirstLoaded),
                            window.removeEventListener("abort", this.handleFirstLoaded),
                            clearTimeout(this.displayLoadingTimeout),
                            this.displayLoadingTimeout = null
                    }
                }, {
                    key: "handleFirstLoaded",
                    value: function () {
                        this.firstLoading = !1,
                            this.setState({
                                actived: !1
                            }),
                            window.removeEventListener("load", this.handleFirstLoaded),
                            window.removeEventListener("abort", this.handleFirstLoaded)
                    }
                }, {
                    key: "render",
                    value: function () {
                        return i.a.createElement(u.a, {
                            active: this.state.actived
                        })
                    }
                }]) && s(n.prototype, r),
                o && s(n, o),
                    t
            }();
            b = h,
                d = "propTypes",
                y = {
                    page: o.a.string.isRequired
                },
                d in b ? Object.defineProperty(b, d, {
                    value: y,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : b[d] = y,
                t.a = Object(c.b)(function (e) {
                    return {
                        loadingCount: e.loading.global.count
                    }
                })(h)
        }, ,
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return j
            });
            var r = n(0)
                , o = n.n(r)
                , a = n(192)
                , i = n(55)
                , c = n(75);

            function u(e, t) {
                return function (e) {
                    if (Array.isArray(e))
                        return e
                }(e) || function (e, t) {
                    var n = []
                        , r = !0
                        , o = !1
                        , a = void 0;
                    try {
                        for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value),
                        !t || n.length !== t); r = !0)
                            ;
                    } catch (e) {
                        o = !0,
                            a = e
                    } finally {
                        try {
                            r || null == c.return || c.return()
                        } finally {
                            if (o)
                                throw a
                        }
                    }
                    return n
                }(e, t) || function () {
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }()
            }

            function l(e) {
                return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function s(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var f = function (e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
                    color: "#3e7ac2"
                };
                return o.a.createElement("a", {
                    target: "_blank",
                    href: e,
                    style: n
                }, t)
            }
                , p = f("/terms2", "知乎社区管理规定")
                , m = f("/terms2", "知乎社区管理规定", {
                color: "#fff",
                "text-decoration": "underline"
            })
                , b = f("/question/19551824", "知乎用户信息管理规范")
                , d = f("/settings/profile#rename-section", "修改")
                , y = f("/account/unblock", "解封账号")
                , h = f("mailto:antispam@zhihu.com", "antispam@zhihu.com", {
                color: "#fff",
                "text-decoration": "underline"
            })
                , v = {
                ads: "发布垃圾信息",
                unfriendly: "发布不友善内容",
                illegal: "发布违反法律法规的内容",
                politics: "发布不宜公开讨论的政治内容",
                animus_edit: "恶意编辑"
            }
                , g = {
                hang: o.a.createElement("span", null, "由于严重违反 ", p, "，该账号已被停用。"),
                lock: function (e) {
                    var t = e.unBlockInfo
                        , n = t.isAppealed
                        , r = t.spamLevel;
                    return n ? o.a.createElement("span", null, "你的账号由于存在异常行为暂时被知乎反作弊系统限制使用，我们已收到了您的申诉信息，24 小时内会以私信的方式告知你申诉结果，请耐心等待。") : 5 === r ? o.a.createElement("span", null, "你的账号由于违反 ", m, "，已被知乎反作弊系统限制使用，如您觉得是误伤，可发送邮件至 ", h, " 进行申诉。") : 4 === r ? o.a.createElement("span", null, "成功提交申诉，申诉成功后会以邮件或私信的方式通知你。") : o.a.createElement("span", null, "您的账号由于存在异常行为暂时被限制使用。如需恢复，请 ", y)
                },
                ban: function (e) {
                    var t = e.expiredAt
                        , n = e.reason;
                    return t > 999 ? o.a.createElement("span", null, "由于严重违反 ", p, " ，该账号已被永久禁言") : o.a.createElement("span", null, "您的账号由于 ", o.a.createElement("a", {
                        target: "_blank",
                        href: "/terms2",
                        style: {
                            color: "#3e7ac2"
                        }
                    }, v[n]), " 暂时被限制使用，", t, " 天后恢复正常。")
                },
                isForceRenamed: o.a.createElement("span", null, "您的用户名不符合 ", b, "，请您 ", d, "。"),
                notActive: o.a.createElement("span", null, "您的账号未激活，无法正常使用赞同、评论等功能。请 ", o.a.createElement(c.f, null), " 。"),
                notBindPhone: o.a.createElement("span", null, "您的账号未激活，无法正常使用赞同、评论等功能。请 ", o.a.createElement(c.d, null), " 。")
            }
                , O = {
                hang: o.a.createElement("span", null, "由于严重违反 ", p, "，该账号已被停用"),
                lock: function (e) {
                    var t = e.unBlockInfo
                        , n = t.isAppealed
                        , r = t.spamLevel;
                    return n && 3 === r ? null : 5 === r ? o.a.createElement("span", null, "你的账号由于违反 知乎社区管理规范，已被知乎反作弊系统限制使用，如您觉得是误伤，可发送邮件至 ", f("mailto:antispam@zhihu.com", "antispam@zhihu.com"), " 进行申诉") : o.a.createElement("span", null, "您的账号由于存在异常行为暂时被限制使用。如需恢复，请 ", y)
                },
                ban: function (e) {
                    var t = e.isCurrentUser
                        , n = e.expiredAt
                        , r = e.reason;
                    return n > 999 ? o.a.createElement("span", null, "由于严重违反 ", p, " ，该账号已被永久禁言") : t ? o.a.createElement("span", null, "您的账号由于 ", o.a.createElement("a", {
                        href: "/terms2",
                        target: "_blank",
                        style: {
                            color: "#3e7ac2"
                        }
                    }, v[r]), " 暂时被限制使用，", n, " 天后恢复正常。") : o.a.createElement("span", null, "由于违反 ", p, "，该用户暂时处于禁言状态，", n, " 日后将恢复正常使用。")
                },
                isForceRenamed: function (e) {
                    var t = e.isCurrentUser
                        , n = e.hasRenamed;
                    return t ? o.a.createElement("span", null, n ? "您的用户名已修改，请等待管理员确认。申诉邮箱：i@zhihu.com。" : o.a.createElement("span", null, "您的用户名不符合 ", b, "，请您 ", d)) : o.a.createElement("span", null, "由于违反 ", b, " ，该用户暂时处于改名状态。")
                },
                notActive: function (e) {
                    return e.isCurrentUser ? o.a.createElement("span", null, "您的账号未激活，无法正常使用赞同、评论等功能。请 ", o.a.createElement(c.f, null), " 。") : null
                },
                notBindPhone: function () {
                    return null
                }
            }
                , E = {
                profile: O,
                behavior: g
            };

            function w(e, t, n) {
                if (!t)
                    return "";
                var r = E[e];
                return "function" == typeof r[t] ? r[t](function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {}
                            , r = Object.keys(n);
                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                        }))),
                            r.forEach(function (t) {
                                s(e, t, n[t])
                            })
                    }
                    return e
                }({}, n)) : r[t]
            }

            function S(e, t) {
                return Math.ceil(Object(a.a)(t - Date.now() / 1e3 + e))
            }

            function P(e, t) {
                var n, r = "object" === l(e) ? e.name : e;
                if ("ban" === r) {
                    var o = e.createdAt
                        , a = e.expiredAt;
                    n = {
                        reason: e.reason,
                        expiredAt: S(o, a)
                    }
                }
                return "lock" === r && (n = {
                    unBlockInfo: t
                }),
                    w("behavior", r, n)
            }

            function k(e, t) {
                var n = e.accountStatus
                    , r = e.isActive
                    , o = e.isForceRenamed
                    , a = e.isBindPhone;
                if (n && n.length) {
                    var i = n.find(function (e) {
                        var n = e.name;
                        return t.includes(n)
                    });
                    if (i)
                        return i
                }
                return !a && t.includes("notBindPhone") ? "notBindPhone" : !r && t.includes("notActive") ? "notActive" : o && t.includes("isForceRenamed") ? "isForceRenamed" : null
            }

            function j(e, t, n, r, o, a) {
                return function (c) {
                    for (var l = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : i.o, s = arguments.length, f = new Array(s > 2 ? s - 2 : 0), p = 2; p < s; p++)
                        f[p - 2] = arguments[p];
                    if (!c)
                        return P(k(e, l));
                    var m = u(Array.isArray(c) ? c : [c], 2)
                        , b = m[0]
                        , d = m[1];

                    function y(e) {
                        return function () {
                            e.apply(void 0, arguments),
                            "function" == typeof d && d.apply(void 0, arguments)
                        }
                    }

                    if (!e || "guest" === e.userType)
                        return y(r);
                    var h = k(e, l);
                    return h ? y("notBindPhone" === h && a ? function (e, t, n, r) {
                            for (var o = e.canWrite, a = e.alertTimeSpan, c = arguments.length, u = new Array(c > 4 ? c - 4 : 0), l = 4; l < c; l++)
                                u[l - 4] = arguments[l];
                            if (!o || !n)
                                return t.apply(void 0, u);
                            var s = (new Date).getTime()
                                , f = 1e3 * a
                                , p = Number(localStorage.getItem(i.e));
                            return isNaN(p) || p > s || p + f < s ? (localStorage.setItem(i.e, s),
                                t.apply(void 0, u)) : r.apply(void 0, u)
                        }
                            .bind(null, t, a, e.isActive, b) : function () {
                            return o.apply(void 0, [P(h, "lock" === h.name ? n() : null)].concat(f))
                        }
                    ) : b
                }
            }
        }, ,
        function (e, t, n) {
        },
        function (e, t, n) {
            "use strict";
            (function (e) {
                    n.d(t, "a", function () {
                        return l
                    });
                    var r = n(15)
                        , o = n(10)
                        , a = n(11)
                        , i = n(17);

                    function c(e, t) {
                        return function (e) {
                            if (Array.isArray(e))
                                return e
                        }(e) || function (e, t) {
                            var n = []
                                , r = !0
                                , o = !1
                                , a = void 0;
                            try {
                                for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value),
                                !t || n.length !== t); r = !0)
                                    ;
                            } catch (e) {
                                o = !0,
                                    a = e
                            } finally {
                                try {
                                    r || null == c.return || c.return()
                                } finally {
                                    if (o)
                                        throw a
                                }
                            }
                            return n
                        }(e, t) || function () {
                            throw new TypeError("Invalid attempt to destructure non-iterable instance")
                        }()
                    }

                    function u(e) {
                        return function (e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, n = new Array(e.length); t < e.length; t++)
                                    n[t] = e[t];
                                return n
                            }
                        }(e) || function (e) {
                            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e))
                                return Array.from(e)
                        }(e) || function () {
                            throw new TypeError("Invalid attempt to spread non-iterable instance")
                        }()
                    }

                    function l(e, t, n) {
                        o.a.init({
                            userId: e ? e.uid : null,
                            memberHashId: e ? e.id : null,
                            userType: e ? {
                                people: "People",
                                organization: "Org"
                            }[e.userType] : null,
                            orgStatus: e && e.orgStatus ? {
                                normal: "Normal",
                                forbidden: "Forbidden",
                                reject: "Reject",
                                audit: "Audit",
                                register: "Register"
                            }[e.orgStatus] : null,
                            experiment: [{
                                name: "new_web",
                                value: "is_nw"
                            }].concat(u(Object.entries(t || {}).map(function (e) {
                                var t = c(e, 2)
                                    , n = t[0]
                                    , o = t[1];
                                return {
                                    name: Object(r.decamelize)(n),
                                    value: o
                                }
                            }))),
                            shouldAutoTrackPageMonitor: !1,
                            onBeforeSend: function (e) {
                                return !n.ZhihuHybrid || (i.a.supportsAction("base/trackZA").then(function (t) {
                                    t && i.a.dispatch("base/trackZA", {
                                        log: e.toBase64()
                                    })
                                }),
                                    !1)
                            },
                            normalizeElement: function (e) {
                                return Object(a.findDOMNode)(e)
                            }
                        })
                    }
                }
            ).call(this, n(26))
        },
        function (e, t, n) {
            "use strict";
            n.d(t, "a", function () {
                return u
            });
            var r = n(0)
                , o = n.n(r)
                , a = n(8)
                , i = n(70)
                , c = n(124);
            n(709);

            function u(e) {
                var t = encodeURIComponent(location.pathname + location.search);
                return o.a.createElement(c.b, Object.assign({}, e, {
                    isOpen: !0,
                    className: "WechatAuthRequiredModal",
                    contentLabel: "登录后继续操作"
                }), o.a.createElement(c.a, null, "登录后继续操作"), o.a.createElement(a.c, {
                    component: "a",
                    href: "/signin?next=".concat(t),
                    color: "blue",
                    preset: "primary"
                }, "使用知乎账号登录"), o.a.createElement(a.c, {
                    component: "a",
                    href: "/oauth/redirect/login/wechat_mp?next=/oauth/account_callback&from=".concat(t),
                    color: "green",
                    preset: "primary"
                }, o.a.createElement(i.a, {
                    name: "wechat"
                }), "微信快速登录"))
            }
        },
        function (e, t, n) {
        }, , , ,
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        }, ,
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        }, ,
        function (e, t, n) {
            e.exports = n.p + "pub/WeeklyShareIcon.id2rwewT.png"
        },
        function (e, t, n) {
        },
        function (e, t, n) {
            "use strict";
            (function (e) {
                    var r = n(0)
                        , o = n.n(r)
                        , a = n(4)
                        , i = n(3)
                        , c = n(2)
                        , u = n.n(c)
                        , l = n(10)
                        , s = n(339)
                        , f = n(25)
                        , p = n(42)
                        , m = n(22)
                        , b = n(7)
                        , d = n(21)
                        , y = n(340)
                        , h = n(16)
                        , v = n(341)
                        , g = n(34)
                        , O = n(342)
                        , E = n(171)
                        , w = n(67)
                        , S = n(121)
                        , P = n(409)
                        , k = n.n(P);

                    function j(e) {
                        return (j = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                                    return typeof e
                                }
                                : function (e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                }
                        )(e)
                    }

                    function _(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value" in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }

                    function T(e) {
                        return (T = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                                return e.__proto__ || Object.getPrototypeOf(e)
                            }
                        )(e)
                    }

                    function C(e, t) {
                        return (C = Object.setPrototypeOf || function (e, t) {
                                return e.__proto__ = t,
                                    e
                            }
                        )(e, t)
                    }

                    function N(e) {
                        if (void 0 === e)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }

                    function I(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }

                    var A = function (t) {
                        function n() {
                            var t, r, o;
                            return function (e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, n),
                                r = this,
                                o = T(n).call(this),
                                t = !o || "object" !== j(o) && "function" != typeof o ? N(r) : o,
                                I(N(N(t)), "onTouchMove", function (e) {
                                    t.shelfContainer.getBoundingClientRect().top > t.PULL_UP_SENSITIVITY_LINE && t.handlePromptShow()
                                }),
                                I(N(N(t)), "handlePreventPullUpRefresh", function () {
                                    var e = t.shelfContainer.getBoundingClientRect().top
                                        , n = t.state
                                        , r = n.scrollDirection
                                        , o = n.showPrompt;
                                    e > t.PULL_UP_SENSITIVITY_LINE && "down" !== r && !o && (document.documentElement.scrollTop = 1)
                                }),
                                I(N(N(t)), "handlePromptShow", function () {
                                    t.props.dispatch(Object(w.c)()).then(function () {
                                        t.props.shelf.promptInfo ? t.setState({
                                            showPrompt: !0
                                        }) : t.setState({
                                            showPrompt: !1
                                        })
                                    })
                                }),
                                I(N(N(t)), "onPromptAcquire", function (n, r) {
                                    t.props.dispatch(Object(w.a)(r)),
                                        l.a.trackEvent(n.target, {
                                            id: 738,
                                            action: "Receive",
                                            url: e.location.href
                                        })
                                }),
                                t.state = {
                                    showPrompt: !1,
                                    scrollDirection: "",
                                    activeGroup: null
                                },
                                t
                        }

                        var r, a, c;
                        return function (e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function");
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && C(e, t)
                        }(n, o.a.PureComponent),
                            r = n,
                        (a = [{
                            key: "componentDidMount",
                            value: function () {
                                var e = this.props.ua;
                                this.PULL_UP_SENSITIVITY_LINE = e.iOS ? 2 * m.c : m.c;
                                var t = navigator && navigator.userAgent || "";
                                this.needToPreventDefaultPullUp = /chrome/i.test(t) && !/(ucbrowser|MQQbrowser|zhihu)/i.test(t),
                                this.needToPreventDefaultPullUp && document.addEventListener("scroll", this.handlePreventPullUpRefresh);
                                var n = localStorage.getItem("PUB/MOBILE_SHELF_ENTERDATE")
                                    , r = Object(b.c)(Date.now(), "YYYY-MM-DD");
                                n !== r && (localStorage.setItem("PUB/MOBILE_SHELF_ENTERDATE", r),
                                    this.handlePromptShow())
                            }
                        }, {
                            key: "componentWillUnmount",
                            value: function () {
                                this.needToPreventDefaultPullUp && document.removeEventListener("scroll", this.handlePreventPullUpRefresh)
                            }
                        }, {
                            key: "render",
                            value: function () {
                                var e = this
                                    , t = this.props
                                    , n = t.shelf
                                    , r = n.booksWithGroups
                                    , a = r.items
                                    , c = r.isFetching
                                    , l = r.isDrained
                                    , m = n.unreadWeekly
                                    , b = n.promptInfo
                                    , P = t.ua
                                    , k = this.state
                                    , j = k.showPrompt
                                    , _ = k.activeGroup;
                                return o.a.createElement("div", {
                                    className: "MPub-Shelf",
                                    ref: function (t) {
                                        e.shelfContainer = t
                                    },
                                    onTouchMove: this.onTouchMove
                                }, o.a.createElement(h.a, {
                                    title: "我的书架"
                                }), o.a.createElement(s.a, {
                                    emitOnce: !0,
                                    onScrollDown: function () {
                                        e.setState({
                                            scrollDirection: "down",
                                            showPrompt: !1
                                        })
                                    },
                                    onScrollUp: function () {
                                        e.setState({
                                            scrollDirection: "up"
                                        })
                                    }
                                }), o.a.createElement("div", {
                                    className: u()("ShelfPromptWrapper", {
                                        show: j
                                    })
                                }, o.a.createElement(v.a, {
                                    className: "ShelfPrompt",
                                    prompt: b,
                                    onPromptAcquire: this.onPromptAcquire
                                })), o.a.createElement("h2", {
                                    className: "MPub-Shelf-title"
                                }, "我的书架"), a && o.a.createElement(f.b, {
                                    isLoading: c,
                                    isDrained: l,
                                    onLoad: function () {
                                        e.props.dispatch(Object(w.f)())
                                    },
                                    placeholder: d.a
                                }, l && 0 === a.length ? o.a.createElement("div", {
                                    className: "MPub-MyBook-empty"
                                }, "还没有书哦", o.a.createElement(i.c, {
                                    to: "/pub/"
                                }, "去知乎书店看看")) : o.a.createElement(E.a, {
                                    className: "MPub-ShelfBook-list",
                                    listItemClassName: "MPub-ShelfBook-listItem"
                                }, a.map(function (t, n) {
                                    return "book" === t.itemType ? o.a.createElement(g.c, Object.assign({
                                        key: t.book.id,
                                        className: "MPub-ShelfBook-listItem"
                                    }, t.book, {
                                        isUnread: m === String(t.book.id)
                                    })) : o.a.createElement(O.a, {
                                        key: t.group.token,
                                        className: "MPub-ShelfBook-listItem",
                                        group: t.group,
                                        onClick: function () {
                                            e.setState({
                                                activeGroup: t.group
                                            })
                                        }
                                    })
                                }))), _ && o.a.createElement(p.b, {
                                    title: "",
                                    className: "MPub-ShelfGroupBooksModal",
                                    closeButton: null,
                                    onClose: function () {
                                        e.setState({
                                            activeGroup: null
                                        })
                                    },
                                    size: "fullPage"
                                }, o.a.createElement(y.a, Object.assign({}, this.props, {
                                    currentGroup: _,
                                    onClose: function () {
                                        e.setState({
                                            activeGroup: null
                                        })
                                    }
                                }))), !P.Zhihu && o.a.createElement(S.a, null))
                            }
                        }]) && _(r.prototype, a),
                        c && _(r, c),
                            n
                    }();
                    I(A, "fetchData", function () {
                        return Object(w.f)()
                    }),
                        A.css = k.a,
                        t.a = Object(a.b)(function (e) {
                            return {
                                shelf: e.shelf,
                                ua: e.env.userAgent
                            }
                        })(A)
                }
            ).call(this, n(26))
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
            "use strict";
            (function (e) {
                    var r = n(0)
                        , o = n.n(r)
                        , a = n(2)
                        , i = n.n(a)
                        , c = n(11)
                        , u = n(4)
                        , l = n(88)
                        , s = n.n(l)
                        , f = n(25)
                        , p = n(44)
                        , m = n(12)
                        , b = n(68)
                        , d = n(10)
                        , y = n(17)
                        , h = n(64)
                        , v = n(7)
                        , g = n(16)
                        , O = n(120)
                        , E = n(21)
                        , w = n(46)
                        , S = n(162)
                        , P = n(20)
                        , k = n(412)
                        , j = n.n(k);

                    function _(e) {
                        return (_ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                                    return typeof e
                                }
                                : function (e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                }
                        )(e)
                    }

                    function T(e, t) {
                        if (null == e)
                            return {};
                        var n, r, o = function (e, t) {
                            if (null == e)
                                return {};
                            var n, r, o = {}, a = Object.keys(e);
                            for (r = 0; r < a.length; r++)
                                n = a[r],
                                t.indexOf(n) >= 0 || (o[n] = e[n]);
                            return o
                        }(e, t);
                        if (Object.getOwnPropertySymbols) {
                            var a = Object.getOwnPropertySymbols(e);
                            for (r = 0; r < a.length; r++)
                                n = a[r],
                                t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                        }
                        return o
                    }

                    function C(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value" in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }

                    function N(e) {
                        return (N = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                                return e.__proto__ || Object.getPrototypeOf(e)
                            }
                        )(e)
                    }

                    function I(e, t) {
                        return (I = Object.setPrototypeOf || function (e, t) {
                                return e.__proto__ = t,
                                    e
                            }
                        )(e, t)
                    }

                    function A(e) {
                        if (void 0 === e)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }

                    function x(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }

                    var D = [{
                        sortBy: "read_count_7days",
                        name: "热门书籍"
                    }, {
                        sortBy: "pub_time",
                        name: "最新上架"
                    }, {
                        sortBy: "score",
                        name: "评分最高"
                    }]
                        , R = {
                        all: "全部书籍",
                        free: "免费书籍",
                        promotion: "特价书籍"
                    }
                        , L = function (t) {
                        function r(t) {
                            var a, u, l;
                            !function (e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, r),
                                u = this,
                                l = N(r).call(this, t),
                                a = !l || "object" !== _(l) && "function" != typeof l ? A(u) : l,
                                x(A(A(a)), "onResize", function () {
                                    a.setState({
                                        winWidth: document.documentElement.clientWidth
                                    })
                                }),
                                x(A(A(a)), "setFilter", function (e) {
                                    var t = a.props
                                        , n = t.params.id
                                        , r = t.dispatch;
                                    D.map(function (t) {
                                        return r(Object(w.d)(n, {
                                            sort_by: t.sortBy,
                                            filter_by: e
                                        }))
                                    }),
                                        a.setState({
                                            filter: e
                                        }),
                                        a.setUrl({
                                            filter: e
                                        })
                                }),
                                x(A(A(a)), "getContainer", function (e) {
                                    var t = Object(c.findDOMNode)(A(A(a)));
                                    return t && t.children[0].children[2].children[e]
                                }),
                                x(A(A(a)), "container", function (t) {
                                    for (var r, c = t.cursor, u = t.carouselState, l = T(t, ["cursor", "carouselState"]), s = a.state.winWidth, f = c * s, b = Math.min(Math.max(-c * s / 3, 0), 2 * s / 3), y = 0; y < D.length; y++)
                                        if (c >= -y - .5 && c < .5 - y) {
                                            r = y;
                                            break
                                        }
                                    var g = a.props.category
                                        , O = (void 0 === g ? {} : g).totals
                                        , E = a.state.filter;
                                    return o.a.createElement("div", {
                                        className: i()("Mpub-category", u)
                                    }, o.a.createElement("div", {
                                        className: "Mpub-category-tab"
                                    }, D.map(function (e, t) {
                                        return o.a.createElement("span", {
                                            className: r === t ? "active" : "",
                                            onClick: function (e) {
                                                a.setTab(t),
                                                    d.a.trackEvent(e.target, {
                                                        action: "Click",
                                                        element: "Tab",
                                                        name: D[t].name
                                                    })
                                            },
                                            key: e.sortBy
                                        }, e.name)
                                    }), o.a.createElement("div", {
                                        className: "active-bar",
                                        style: {
                                            transform: e.document ? "translate3d(".concat(b, "px, 0, 0)") : "translateX(0)"
                                        }
                                    })), o.a.createElement("div", {
                                        className: "Mpub-category-info"
                                    }, o.a.createElement("span", null, O, " 本书"), o.a.createElement("span", {
                                        id: "ChangeFilter",
                                        className: "select-filter"
                                    }, R[E], o.a.createElement(p.a, {
                                        name: "arrow",
                                        width: 8,
                                        fill: "currentColor"
                                    })), o.a.createElement(S.a, {
                                        className: "select-filter-pop",
                                        trigger: "ChangeFilter",
                                        arrow: "top",
                                        hideOnClick: !0
                                    }, o.a.createElement("ul", null, o.a.createElement("li", {
                                        onClick: function (e) {
                                            a.setFilter("all"),
                                                d.a.trackEvent(e.target, {
                                                    action: "Click",
                                                    element: "Button",
                                                    name: "全部书籍"
                                                })
                                        }
                                    }, o.a.createElement("span", null, "全部书籍"), "all" === E && o.a.createElement(m.a, {
                                        src: n(203),
                                        width: 13
                                    })), o.a.createElement("li", {
                                        onClick: function (e) {
                                            a.setFilter("free"),
                                                d.a.trackEvent(e.target, {
                                                    action: "Click",
                                                    element: "Button",
                                                    name: "免费书籍"
                                                })
                                        }
                                    }, o.a.createElement("span", null, "免费书籍"), "free" === E && o.a.createElement(m.a, {
                                        src: n(203),
                                        width: 13
                                    })), o.a.createElement("li", {
                                        onClick: function (e) {
                                            a.setFilter("promotion"),
                                                d.a.trackEvent(e.target, {
                                                    action: "Click",
                                                    element: "Button",
                                                    name: "特价书籍"
                                                })
                                        }
                                    }, o.a.createElement("span", null, "特价书籍"), "promotion" === E && o.a.createElement(m.a, {
                                        src: n(203),
                                        width: 13
                                    }))))), o.a.createElement(h.a, {
                                        style: {
                                            height: "100%"
                                        }
                                    }, o.a.createElement(h.a, Object.assign({
                                        className: "MPub-category-track",
                                        style: Object(v.a)({
                                            transform: e.document ? "translate3d(".concat(f, "px, 0, 0)") : "translateX(0)"
                                        })
                                    }, l))))
                                }),
                                x(A(A(a)), "loadMore", function (e) {
                                    var t = a.props
                                        , n = t.params.id
                                        , r = t.dispatch
                                        , o = a.state.filter;
                                    r(Object(w.d)(n, {
                                        sort_by: e,
                                        filter_by: o
                                    }))
                                }),
                                x(A(A(a)), "renderList", function (e, t, n) {
                                    var r = a.props.category
                                        , i = void 0 === r ? {} : r
                                        , c = D[t]
                                        , u = c.sortBy
                                        , l = c.name
                                        , s = i[u] || new P.a
                                        , p = s.items
                                        , m = s.isFetching
                                        , b = s.isDrained;
                                    return p.extraInfo = u,
                                        o.a.createElement(f.b, {
                                            key: e,
                                            className: "category-list",
                                            isLoading: m,
                                            isDrained: b,
                                            onLoad: function () {
                                                a.loadMore(u)
                                            },
                                            placeholder: E.a,
                                            getContainer: function (e) {
                                                return e
                                            }
                                        }, o.a.createElement(O.a, {
                                            name: l,
                                            books: p,
                                            index: t,
                                            displayType: "VERTICAL",
                                            getContainer: a.getContainer,
                                            ref: function (e) {
                                                a.featureSection[t] = e
                                            }
                                        }))
                                });
                            var s = t.location.query
                                , b = s.tab
                                , y = void 0 === b ? 0 : b
                                , g = s.filter
                                , k = void 0 === g ? "all" : g;
                            return a.state = {
                                winWidth: 375,
                                tab: Number(y),
                                filter: k
                            },
                                a.touchCarousel = null,
                                a.featureSection = [],
                                a
                        }

                        var a, u, l;
                        return function (e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function");
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && I(e, t)
                        }(r, o.a.PureComponent),
                            a = r,
                        (u = [{
                            key: "componentDidMount",
                            value: function () {
                                var e = this;
                                this.onResize(),
                                    window.addEventListener("resize", this.onResize),
                                    y.a.supportsEvent("iOS/statusBarTap").then(function (t) {
                                        t && y.a.listen("iOS/statusBarTap", function () {
                                            var t = e.featureSection[e.state.tab];
                                            Object(c.findDOMNode)(t).closest(".category-list").scrollTo(0, 0)
                                        })
                                    })
                            }
                        }, {
                            key: "componentWillUnmount",
                            value: function () {
                                window.removeEventListener("resize", this.onResize)
                            }
                        }, {
                            key: "setUrl",
                            value: function (e) {
                                var t = this.state
                                    , n = function (e) {
                                    for (var t = 1; t < arguments.length; t++) {
                                        var n = null != arguments[t] ? arguments[t] : {}
                                            , r = Object.keys(n);
                                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                                        }))),
                                            r.forEach(function (t) {
                                                x(e, t, n[t])
                                            })
                                    }
                                    return e
                                }({
                                    tab: t.tab,
                                    filter: t.filter
                                }, e);
                                window.history.replaceState({}, null, "".concat(location.pathname, "?").concat(Object(b.c)(n)))
                            }
                        }, {
                            key: "setTab",
                            value: function (e) {
                                this.setState({
                                    tab: Number(e)
                                }),
                                    this.setUrl({
                                        tab: e
                                    }),
                                    this.touchCarousel.setCursor(-e)
                            }
                        }, {
                            key: "render",
                            value: function () {
                                var e = this
                                    , t = this.state
                                    , n = t.winWidth
                                    , r = t.tab
                                    , a = this.props.category
                                    , i = a && a.name;
                                return o.a.createElement("div", {
                                    className: "Mpub-category-wrapper"
                                }, o.a.createElement(g.a, {
                                    title: i
                                }), o.a.createElement(s.a, {
                                    component: this.container,
                                    cardSize: n,
                                    cardCount: 3,
                                    autoplay: 0,
                                    loop: !1,
                                    renderCard: this.renderList,
                                    defaultCursor: -r,
                                    ignoreCrossMove: 3,
                                    onRest: function (t, n) {
                                        e.setTab(n);
                                        var r = e.featureSection[n];
                                        r && r.checkBooksZaView()
                                    },
                                    ref: function (t) {
                                        e.touchCarousel = t
                                    }
                                }))
                            }
                        }]) && C(a.prototype, u),
                        l && C(a, l),
                            r
                    }();
                    x(L, "fetchData", function (e) {
                        var t = e.params.id
                            , n = e.dispatch
                            , r = e.location.query
                            , o = (r.tab,
                            r.filter)
                            , a = void 0 === o ? "all" : o;
                        return n(Object(w.d)(t, {
                            sort_by: D[0].sortBy,
                            filter_by: a
                        }))
                    }),
                        L.css = j.a,
                        t.a = Object(u.b)(function (e, t) {
                            var n = t.params.id;
                            return {
                                category: e.categories[n]
                            }
                        })(L)
                }
            ).call(this, n(26))
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        }, , ,
        function (e, t, n) {
            e.exports = n.p + "pub/share-arrow.image.j1s3djms.svg"
        },
        function (e, t, n) {
            e.exports = n.p + "pub/pubgift.bRDADNZX.png"
        },
        function (e, t, n) {
            e.exports = n.p + "pub/pubgift@2x.prAtM1cV.png"
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
            "use strict";
            (function (e) {
                    var r = n(0)
                        , o = n.n(r)
                        , a = n(1)
                        , i = n.n(a)
                        , c = n(4)
                        , u = n(88)
                        , l = n.n(u)
                        , s = n(2)
                        , f = n.n(s)
                        , p = n(85)
                        , m = n.n(p)
                        , b = n(10)
                        , d = n(38)
                        , y = n(32)
                        , h = n(14)
                        , v = n(436)
                        , g = n(199)
                        , O = n(16)
                        , E = n(64)
                        , w = n(93)
                        , S = n(7)
                        , P = n(140)
                        , k = n(438)
                        , j = n.n(k);

                    function _(e) {
                        return (_ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                                    return typeof e
                                }
                                : function (e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                }
                        )(e)
                    }

                    function T(e, t) {
                        if (null == e)
                            return {};
                        var n, r, o = function (e, t) {
                            if (null == e)
                                return {};
                            var n, r, o = {}, a = Object.keys(e);
                            for (r = 0; r < a.length; r++)
                                n = a[r],
                                t.indexOf(n) >= 0 || (o[n] = e[n]);
                            return o
                        }(e, t);
                        if (Object.getOwnPropertySymbols) {
                            var a = Object.getOwnPropertySymbols(e);
                            for (r = 0; r < a.length; r++)
                                n = a[r],
                                t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                        }
                        return o
                    }

                    function C(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value" in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }

                    function N(e) {
                        return (N = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                                return e.__proto__ || Object.getPrototypeOf(e)
                            }
                        )(e)
                    }

                    function I(e, t) {
                        return (I = Object.setPrototypeOf || function (e, t) {
                                return e.__proto__ = t,
                                    e
                            }
                        )(e, t)
                    }

                    function A(e) {
                        if (void 0 === e)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }

                    function x(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }

                    var D = Object(S.b)(e.innerWidth || 375, 0, 640)
                        , R = ["图文介绍", "商品详情", "购买须知"]
                        , L = "立即购买"
                        , B = 1
                        , M = function (e) {
                        function t(e, n) {
                            var r, a, i;
                            return function (e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t),
                                a = this,
                                i = N(t).call(this, e, n),
                                r = !i || "object" !== _(i) && "function" != typeof i ? A(a) : i,
                                x(A(A(r)), "carouselHolder", function () {
                                    return o.a.createElement("div", {
                                        className: "Pub-paperBook-carouselContainer"
                                    }, o.a.createElement("div", {
                                        className: "Pub-paperBook-carouselTrack"
                                    }, r.carouselCard(0, 0)))
                                }),
                                x(A(A(r)), "carouselContainer", function (e) {
                                    var t = e.cursor
                                        , n = (e.carouselState,
                                        T(e, ["cursor", "carouselState"]))
                                        , a = r.props.images
                                        , i = a.length
                                        , c = (t - (i > 1 ? B : 0)) * D;
                                    return o.a.createElement(E.a, {
                                        className: "Pub-paperBook-carouselContainer"
                                    }, o.a.createElement(E.a, Object.assign({
                                        className: "Pub-paperBook-carouselTrack",
                                        style: Object(S.a)({
                                            transform: "translate3d(".concat(c, "px, 0, 0)")
                                        })
                                    }, n)), i > 1 && o.a.createElement("ul", {
                                        className: "Pub-paperBook-carouselPagination"
                                    }, a.map(function (e, n) {
                                        return o.a.createElement("li", {
                                            key: n,
                                            className: Math.min(Math.abs((t - i) % i + n), Math.abs((t + i) % i + n)) < .5 ? "current" : ""
                                        })
                                    })))
                                }),
                                x(A(A(r)), "carouselCard", function (e, t) {
                                    var n = r.props.images;
                                    return o.a.createElement("div", {
                                        key: e,
                                        className: "Pub-paperBook-carouselItem"
                                    }, o.a.createElement("img", {
                                        src: Object(P.a)(n[t], {
                                            size: "hd",
                                            quality: 80
                                        }),
                                        alt: ""
                                    }))
                                }),
                                x(A(A(r)), "goToOrder", function (e) {
                                    var t = r.props
                                        , n = t.params.id;
                                    t.router.push("/pub/selection/".concat(n, "/order")),
                                        b.a.trackEvent(e.target, {
                                            id: 2050
                                        }, {
                                            button: {
                                                text: L
                                            }
                                        })
                                }),
                                r.state = {
                                    carouselComponent: r.carouselHolder
                                },
                                r.goToOrder = n.authRequired(r.goToOrder.bind(A(A(r))), []),
                                r
                        }

                        var n, r, a;
                        return function (e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function");
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && I(e, t)
                        }(t, o.a.PureComponent),
                            n = t,
                        (r = [{
                            key: "componentDidMount",
                            value: function () {
                                var e = this.props
                                    , t = e.dispatch
                                    , n = e.params.id;
                                e.promotion || t(Object(w.b)(n)),
                                    this.setState({
                                        carouselComponent: this.carouselContainer
                                    })
                            }
                        }, {
                            key: "renderCarousel",
                            value: function () {
                                var e = this.props.images;
                                if (!Object(S.i)(e))
                                    return null;
                                var t = this.state.carouselComponent;
                                return o.a.createElement(l.a, {
                                    key: "carousel",
                                    component: t,
                                    cardCount: e.length,
                                    cardSize: D,
                                    renderCard: this.carouselCard,
                                    loop: e.length > 1,
                                    autoplay: e.length > 1 ? 3e3 : 0,
                                    cardPadCount: B,
                                    ignoreCrossMove: .6
                                })
                            }
                        }, {
                            key: "renderHeader",
                            value: function () {
                                var e = this.props
                                    , t = e.title
                                    , n = e.promotion
                                    , r = e.logistics.excludeRegions;
                                return o.a.createElement("div", {
                                    key: "header",
                                    className: "Pub-paperBook-header"
                                }, o.a.createElement("h1", {
                                    className: "titleLine"
                                }, t), o.a.createElement("p", {
                                    className: "priceLine"
                                }, n.isPromotion ? [o.a.createElement(h.a, {
                                    cent: n.promotionPrice,
                                    component: "strong",
                                    className: "price",
                                    key: "price"
                                }), o.a.createElement(h.a, {
                                    cent: n.price,
                                    className: "originalPrice",
                                    key: "originalPrice"
                                })] : o.a.createElement(h.a, {
                                    cent: n.price,
                                    component: "strong",
                                    className: "price"
                                })), o.a.createElement("p", {
                                    className: "logistics"
                                }, "运费：包邮（不支持港澳台及海外", Object(S.i)(r) ? "，部分地区需加收运费" : "", "）"))
                            }
                        }, {
                            key: "renderDetailIntro",
                            value: function () {
                                var e = m()(this.props, "specifics", {})
                                    , t = e.graphicDes
                                    , n = e.detail
                                    , r = e.buyInstructions;
                                return o.a.createElement(v.a, {
                                    key: "detailIntro",
                                    tabTitles: R,
                                    className: "Pub-paperBook-detailIntro"
                                }, o.a.createElement("div", {
                                    className: "Pub-paperBook-detailIntroContent"
                                }, o.a.createElement(g.a, {
                                    content: t
                                })), o.a.createElement("div", {
                                    className: "Pub-paperBook-detailIntroContent"
                                }, o.a.createElement(g.a, {
                                    content: n
                                })), o.a.createElement("div", {
                                    className: "Pub-paperBook-detailIntroContent"
                                }, o.a.createElement(g.a, {
                                    content: r
                                })))
                            }
                        }, {
                            key: "renderBottomBar",
                            value: function () {
                                var e = this.props
                                    , t = e.params.id
                                    , n = e.status
                                    , r = e.promotion
                                    , a = e.specifics.category
                                    , i = 1 === n
                                    , c = r.isPromotion ? r.promotionPrice : r.price;
                                return o.a.createElement("div", {
                                    key: "bottomBar",
                                    className: f()("Pub-paperBook-bottomBar", !i && "is-unbuyable"),
                                    "data-za-module": "BottomBar",
                                    "data-za-extra-module": JSON.stringify({
                                        card: {
                                            content: {
                                                token: t,
                                                type: "Selection"
                                            }
                                        }
                                    })
                                }, o.a.createElement("div", {
                                    className: "bottomBarInner"
                                }, o.a.createElement(h.a, {
                                    cent: c,
                                    className: "price"
                                }), o.a.createElement(y.d, {
                                    onClick: this.goToOrder,
                                    disabled: !i
                                }, L), o.a.createElement(y.h, {
                                    servicer: a.servicer
                                })))
                            }
                        }, {
                            key: "render",
                            value: function () {
                                var e = this.props
                                    , t = e.title
                                    , n = e.shareTitle
                                    , r = e.description
                                    , a = e.cover
                                    , i = e.promotion;
                                return o.a.createElement("div", {
                                    className: "Pub-paperBook"
                                }, o.a.createElement(O.a, {
                                    title: t
                                }), o.a.createElement(d.a, {
                                    title: n || t,
                                    desc: r,
                                    imgUrl: a
                                }), i && [this.renderCarousel(), this.renderHeader(), this.renderDetailIntro(), this.renderBottomBar()])
                            }
                        }]) && C(n.prototype, r),
                        a && C(n, a),
                            t
                    }();
                    x(M, "fetchData", function (e) {
                        var t = e.params.id;
                        return Object(w.b)(t)
                    }),
                        x(M, "contextTypes", {
                            authRequired: i.a.func,
                            currentUser: i.a.object
                        }),
                        M.css = j.a,
                        t.a = Object(c.b)(function (e, t) {
                            return function (e) {
                                for (var t = 1; t < arguments.length; t++) {
                                    var n = null != arguments[t] ? arguments[t] : {}
                                        , r = Object.keys(n);
                                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                                    }))),
                                        r.forEach(function (t) {
                                            x(e, t, n[t])
                                        })
                                }
                                return e
                            }({}, e.products[t.params.id])
                        })(M)
                }
            ).call(this, n(26))
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        }, , ,
        function (e, t, n) {
            "use strict";
            var r = n(0)
                , o = n.n(r)
                , a = n(8);

            function i(e) {
                return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function c(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function u(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function l(e) {
                return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function s(e, t) {
                return (s = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function f(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var p = function (e) {
                function t(e) {
                    var n, r, o, a, c, u;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        r = this,
                        o = l(t).call(this, e),
                        n = !o || "object" !== i(o) && "function" != typeof o ? f(r) : o,
                        a = f(f(n)),
                        u = function (e) {
                            n.setState({
                                current: e
                            })
                        }
                        ,
                        (c = "onClickTab") in a ? Object.defineProperty(a, c, {
                            value: u,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : a[c] = u,
                        n.state = {
                            current: e.defaultIndex
                        },
                        n
                }

                var n, r, p;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && s(e, t)
                }(t, o.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.tabTitles
                            , r = (t.defaultIndex,
                            t.children)
                            , i = c(t, ["tabTitles", "defaultIndex", "children"])
                            , u = this.state.current
                            , l = r[u] || null;
                        return o.a.createElement("div", i, o.a.createElement("ul", {
                            className: "SimpleTabView-tabs"
                        }, n.map(function (t, n) {
                            return o.a.createElement("li", {
                                key: t,
                                className: n === u ? "is-current" : ""
                            }, o.a.createElement(a.c, {
                                preset: "plain",
                                onClick: function () {
                                    return e.onClickTab(n)
                                }
                            }, t))
                        })), l)
                    }
                }]) && u(n.prototype, r),
                p && u(n, p),
                    t
            }();
            p.defaultProps = {
                tabTitles: [],
                defaultIndex: 0
            },
                t.a = p
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
            e.exports = n.p + "pub/location.auDQJGae.png"
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        }, , , , , ,
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "30",
                    height: "38",
                    viewBox: "0 0 30 38",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>         tab-book     </title>     <path d="M.937 7.377A1.786 1.786 0 0 0 0 8.95v27.265C0 37.2.8 38 1.786 38h26.428C29.2 38 30 37.2 30 36.214V8.949c0-.987-.8-1.786-1.786-1.786h-1.743v25.393c0 .892-.66 1.648-1.544 1.77L5.185 37.033l15.655-5.248a1.786 1.786 0 0 0 1.219-1.694V1.915A1.786 1.786 0 0 0 19.705.22L2.101 6.123A1.786 1.786 0 0 0 .937 7.377z" fill="currentColor" fill-rule="evenodd"/>'
            }
        }, , ,
        function (e, t, n) {
        }, ,
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "28",
                    height: "33",
                    viewBox: "0 0 28 33",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>rank-tag</title>   <path d="M2 0h24a2 2 0 0 1 2 2v28.337a2 2 0 0 1-3.082 1.682l-9.836-6.324a2 2 0 0 0-2.164 0L3.082 32.02A2 2 0 0 1 0 30.337V2a2 2 0 0 1 2-2z" fill="currentColor" fill-rule="evenodd"/>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "24",
                    height: "27",
                    viewBox: "0 0 24 27",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>         change     </title>     <path d="M11 3.041C4.84 3.55 0 8.71 0 15c0 6.627 5.373 12 12 12s12-5.373 12-12c0-3.154-1.217-6.024-3.206-8.165L19.239 8.1A9.966 9.966 0 0 1 22 15c0 5.523-4.477 10-10 10S2 20.523 2 15c0-5.185 3.947-9.449 9-9.95V8l6-4-6-4v3.041z" fill-rule="nonzero" fill="currentColor"/>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "40",
                    height: "44",
                    viewBox: "0 0 40 44",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>         category-sale     </title>     <g fill-rule="nonzero" fill="currentColor">         <path d="M37.797 17.67L19.08 36.068c-1.694 1.654-5.794 1.654-7.488 0L1.77 27.11a4.166 4.166 0 0 1 0-5.99L20.326 2.954a6.197 6.197 0 0 1 1.33-.957C22.994 1.027 25.065.5 26.567.5h7.488c2.396 0 4.992 2.567 4.992 4.906 0 3.366-.027 6.087-.08 8.164-.079 3.116-.059 3.017-1.169 4.1zM17.901 24.16a3.48 3.48 0 0 0-.707-.555 2.03 2.03 0 0 0-.793-.262 2.517 2.517 0 0 0-.927.08 5.255 5.255 0 0 0-1.11.453 8.849 8.849 0 0 1-.594.287 3.574 3.574 0 0 1-.531.188 1.297 1.297 0 0 1-.441.045.525.525 0 0 1-.333-.154.709.709 0 0 1-.222-.59c.02-.225.127-.433.319-.625.365-.366.875-.52 1.53-.466l.05-1.818a2.904 2.904 0 0 0-1.421.115c-.45.155-.912.47-1.385.943a3.245 3.245 0 0 0-.67.94 2.458 2.458 0 0 0-.06 1.998c.13.321.33.617.6.887.235.235.475.415.721.542.246.126.506.197.78.212.272.016.568-.022.886-.111.318-.09.665-.233 1.043-.43.198-.114.387-.213.567-.297.18-.084.352-.142.517-.175.165-.032.32-.034.464-.004.144.03.276.106.396.226.174.174.27.374.285.599.015.225-.115.475-.391.751a1.61 1.61 0 0 1-.769.445c-.285.068-.622.07-1.013.003l-.195 1.854c.264.048.53.068.797.06.267-.01.532-.052.796-.13.264-.078.53-.196.796-.355.267-.158.532-.37.796-.633.677-.677 1.033-1.367 1.068-2.069.035-.702-.248-1.353-.849-1.954zm3.735-3.028l1.607.99 1.414-1.414-8.186-4.542-1.306 1.306 4.542 8.186 1.387-1.387c-.153-.274-.31-.55-.472-.826-.162-.277-.323-.55-.482-.817l1.496-1.496zm3.778-2.181l3.536-3.536-1.253-1.252-2.27 2.27-5.11-5.112-1.267 1.266 6.364 6.364zm4-4l3.536-3.536-1.253-1.252-2.27 2.27-1.353-1.354 1.956-1.955-1.217-1.217-1.955 1.956-1.317-1.317 2.27-2.27-1.225-1.225-3.536 3.536 6.364 6.364zM17.957 19.38l-1.032-1.428.036-.035 1.436 1.041 1.017.748-.707.707-.75-1.033z"/>         <path d="M37.43 17.749L23.07 40.964c-1.215 1.879-4.192 3.001-6.121 1.808L5.622 35.924c-1.741-1.077-2.615-2.202-1.21-4.963l3.656-6.645c3.23 5.368 5.556 7.893 6.976 7.575 1.42-.317 8.882-5.031 22.386-14.142z" opacity=".5"/>     </g>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "35",
                    height: "38",
                    viewBox: "0 0 35 38",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>         category-free     </title>     <path d="M15.667 17.5h-13v18a2 2 0 0 0 2 2h11v-20zm4 0h13v18a2 2 0 0 1-2 2h-11v-20zm-4-9h-14a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h14v-7zm4 0h14a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-14v-7zm-9.593-2.81c-.377 0-.667-.088-.87-.264a1.396 1.396 0 0 1-.424-.67 3.183 3.183 0 0 1-.122-.913c0-.338.027-.656.081-.953.027-.298.081-.622.162-.974.08-.352.196-.65.344-.893A1.08 1.08 0 0 1 9.83.537c.243-.082.54-.014.89.202.405.244.863.508 1.376.792.512.284 1.011.568 1.497.852.485.284.937.54 1.355.77.418.23.735.413.95.548.27.19.473.4.608.63.134.23.188.446.161.648a.73.73 0 0 1-.323.508c-.19.135-.459.202-.81.202h-5.46zm15.185-.041h-5.42c-.378 0-.662-.068-.85-.203a.73.73 0 0 1-.324-.507c-.027-.203.027-.42.162-.65.135-.23.35-.439.647-.628.189-.135.492-.318.91-.548.418-.23.877-.487 1.376-.77.499-.285 1.004-.569 1.517-.853.512-.284.97-.548 1.375-.791.351-.19.648-.244.89-.162.243.08.439.243.587.486.148.244.256.535.324.873.067.338.128.656.182.953.027.298.04.616.04.954 0 .338-.04.642-.121.913-.081.27-.223.493-.425.67-.202.175-.492.263-.87.263z" fill="currentColor" fill-rule="evenodd"/>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "35",
                    height: "35",
                    viewBox: "0 0 35 35",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>         category-top     </title>     <path d="M1.969 35h7.875V13.125H1.969C.88 13.125 0 13.908 0 14.875V33.25C0 34.216.881 35 1.969 35zm20.453 0V2.352A2.352 2.352 0 0 0 20.07 0h-5.137a2.352 2.352 0 0 0-2.352 2.355L12.622 35h9.8zM35 33.281V11.563c0-.95-.734-1.72-1.64-1.72h-8.204V35h8.203c.907 0 1.641-.77 1.641-1.719z" fill-rule="nonzero" fill="currentColor"/>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "40",
                    height: "40",
                    viewBox: "0 0 40 40",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>         category-zhihu     </title>     <path d="M21.457 22.152h-8.37c-.12 1.814-.476 3.59-1.069 5.457l1.96-1.553c1.185 1.17 3.991 4.42 5.02 5.612 1.243 1.75.144 5.429.144 5.429s-.89-.993-1.603-1.93c-1.544-1.985-3.445-4.266-5.699-6.838-1.71 6.462-4.83 9.247-4.83 9.247-1.244 1.23-5.975 2.184-6.924 1.251 5.816-4.44 9.022-9.936 9.617-16.675H.8s.518-3.11 2.112-3.11h7.098c.066-.907.132-1.933.132-4.158.117-2.335.096-4.266.096-5.691H6.32c-.356 1.037-.41 1.173-.697 1.957-1.557 2.811-4.201 2.899-5.001 2.983C2.995 9.46 4.328 4.882 4.788 3.691 5.9.807 9.168.798 9.168.798a64.069 64.069 0 0 0-1.78 5.414h12.014c1.432 0 1.165 2.98 1.165 2.98H13.62c0 2.981-.061 6.221-.298 9.85h7.103c1.019 0 1.031 3.11 1.031 3.11zm15.033 9.57c0 .2-.104.409-.308.409h-3.245c-.093 0-4.243 2.574-4.243 2.574 0-.08-.69-2.574-.69-2.574h-.969c-.204 0-.42-.208-.42-.409V9.168c0-.201.216-.364.42-.364h9.147c.204 0 .308.163.308.364v22.554zm2.75-26.158H23.916c-.34 0-.592.33-.592.664v28.494c0 .335.252.648.592.648h2.363l1.036 3.315s3.862-2.667 5.654-3.315h6.273c.34 0 .673-.313.673-.648V6.228c0-.335-.334-.664-.673-.664z" fill="currentColor" fill-rule="evenodd"/>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "40",
                    height: "29",
                    viewBox: "0 0 40 29",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>checked</title>   <g fill="none" fill-rule="evenodd">     <path d="M0-7h40v40H0z"/>     <path       d="M5.146 11.617a1.5 1.5 0 0 0-2.116.003L.907 13.744a1.492 1.492 0 0 0-.004 2.115l12.383 12.383c.386.386.897.58 1.409.581.513 0 1.025-.194 1.416-.584l22.98-22.98a1.5 1.5 0 0 0 .002-2.122L36.97 1.014a1.496 1.496 0 0 0-2.121.001L14.697 21.167l-9.55-9.55z"       fill="#636363"/>   </g>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    xmlns: "http://www.w3.org/2000/svg",
                    width: "48",
                    height: "48",
                    viewBox: "0 0 48 48"
                },
                content: '<g fill="none" fill-rule="evenodd">     <circle cx="24" cy="24" r="24" fill="#FF9607"/>     <g fill="#FFF" fill-rule="nonzero" transform="translate(10 11)">       <path d="M20,0 L14,0 C13.488,0 12.976,0.195 12.586,0.586 L0.586,12.586 C-0.195,13.367 -0.195,14.633 0.586,15.414 L8.586,23.414 C9.367,24.195 10.633,24.195 11.414,23.414 C11.805,23.023 23.023,11.805 23.414,11.414 C23.805,11.024 24,10.512 24,10 L24,4 C24,1.791 22.209,0 20,0 Z M20,6 C18.895,6 18,5.105 18,4 C18,2.895 18.895,2 20,2 C21.105,2 22,2.895 22,4 C22,5.105 21.105,6 20,6 Z"/>       <path d="M23.7705673,9 L24.2151642,10.6592583 C24.3476796,11.1538123 24.2918394,11.698836 24.0151018,12.1767453 C23.738623,12.6556206 15.8062992,26.3948086 15.5298204,26.8736838 C14.97757,27.8302095 13.7547079,28.1578745 12.7981822,27.6056241 L3.00022322,21.9487698 C2.04369747,21.3965194 1.71603256,20.1736573 2.26828296,19.2171316 L8.16714662,9 L23.7705673,9 Z" opacity=".5" transform="rotate(-8 13.142 18.437)"/>     </g>   </g>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "20",
                    height: "7",
                    viewBox: "0 0 20 7",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>pop-bottom-arrow</title>   <path d="M10 7c3.75 0 7-7 10-7H0c3.5 0 6.25 7 10 7z" fill="currentColor" fill-rule="evenodd"/>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "20",
                    height: "7",
                    viewBox: "0 0 20 7",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>pop-top-arrow</title>   <path d="M10 0c3.75 0 7 7 10 7H0c3.5 0 6.25-7 10-7z" fill="currentColor" fill-rule="evenodd"/>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "16",
                    height: "2",
                    viewBox: "0 0 16 2",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>         Less     </title>     <path d="M0 0h15.5v1.5H0z" fill="currentColor" fill-rule="evenodd"/>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "18",
                    height: "18",
                    viewBox: "0 0 18 18",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>         question mark     </title>     <path d="M9 18A9 9 0 1 0 9 0a9 9 0 0 0 0 18zm0-3a.975.975 0 0 1-.705-.287A.953.953 0 0 1 8 14c0-.273.098-.509.295-.705A.962.962 0 0 1 9 13c.273 0 .508.096.705.287.197.19.295.43.295.714a.951.951 0 0 1-.295.712A.976.976 0 0 1 9 15zm2.301-6.313c-.19.22-.531.592-1.023 1.114a4.588 4.588 0 0 0-.327.388 1.593 1.593 0 0 0-.183.305c-.04.093-.071.185-.093.278-.022.093-.055.255-.099.488-.076.493-.314.74-.714.74a.673.673 0 0 1-.525-.242c-.142-.161-.213-.401-.213-.719 0-.399.052-.744.156-1.035.104-.292.242-.549.414-.77.172-.22.404-.482.696-.786.256-.266.441-.466.555-.601.114-.135.21-.286.288-.452.078-.166.117-.346.117-.54 0-.38-.12-.7-.357-.962a1.19 1.19 0 0 0-.921-.391c-.44 0-.764.132-.972.395-.208.263-.384.651-.528 1.163-.136.537-.394.805-.774.805a.707.707 0 0 1-.567-.282A.94.94 0 0 1 6 6.975c0-.451.122-.908.366-1.37.244-.463.6-.846 1.068-1.15C7.902 4.153 8.448 4 9.072 4c.58 0 1.092.127 1.536.38a2.66 2.66 0 0 1 1.029 1.037c.242.436.363.91.363 1.423 0 .403-.069.757-.207 1.06a3.279 3.279 0 0 1-.492.787z" fill="#BDCADB" fill-rule="evenodd"/>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    xmlns: "http://www.w3.org/2000/svg",
                    viewBox: "0 0 28 24"
                },
                content: '<path fill="" d="M5.08 21.18c-1.41.01-2.82.2-4.19.57A.69.69 0 0 1 0 21.1V1.36C0 1.08.18.83.45.73 1.95.26 3.5.02 5.08 0c2.82-.03 5.19.9 7.58 2.37.22.14.34.38.34.63v19.43a.76.76 0 0 1-1.13.65c-2.22-1.15-4.29-1.92-6.79-1.9zM28 21.1a.69.69 0 0 1-.9.65 16.84 16.84 0 0 0-4.18-.57c-2.5-.02-4.57.75-6.79 1.9a.76.76 0 0 1-1.13-.65V3c0-.25.12-.49.34-.63C17.74.9 20.1-.03 22.92 0c1.57.02 3.13.26 4.63.73.27.1.45.35.45.63V21.1z"/>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "20",
                    height: "19",
                    viewBox: "0 0 20 19",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>audio</title>   <g fill="none" fill-rule="evenodd">     <path d="M2.094 16.74l-.967-5.611A8.658 8.658 0 0 1 9.66 1a8.638 8.638 0 0 1 8.51 10.125l-.981 5.615"           stroke="currentColor" stroke-width="2"/>     <path       d="M3.5 12.562l.825-.145a2.4 2.4 0 0 1 2.78 1.947l.304 1.718a2.4 2.4 0 0 1-1.947 2.78l-.825.146L3.5 12.562zM15.826 12.562L15 12.417a2.4 2.4 0 0 0-2.78 1.947l-.303 1.718a2.4 2.4 0 0 0 1.947 2.78l.825.146 1.137-6.446z"       fill="currentColor"/>   </g>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "30",
                    height: "26",
                    viewBox: "0 0 30 26",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>书店链接icon</title>   <path     d="M13.5 3.688C12.55 3.224 11.618 3 10.68 3H3v18h7.68c.923 0 1.863.128 2.82.38V3.688zm3 0v17.71c.982-.263 1.92-.398 2.82-.398H27V3h-7.68c-.938 0-1.87.224-2.82.688zM10.645 0C12.121 0 13.573.37 15 1.112 16.427.371 17.879 0 19.355 0h8.71C29.133 0 30 .895 30 2v20c0 1.105-.867 2-1.935 2h-8.71c-1.25 0-2.702.372-4.355 1.117C13.44 24.372 11.989 24 10.645 24h-8.71C.867 24 0 23.105 0 22V2C0 .895.867 0 1.935 0h8.71zM6.5 6h3a1.5 1.5 0 0 1 0 3h-3a1.5 1.5 0 0 1 0-3z"     fill="currentColor" fill-rule="nonzero"/>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "22",
                    height: "20",
                    viewBox: "0 0 22 20",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>playing</title>   <g transform="translate(-10 -11)" fill="none" fill-rule="evenodd">     <path d="M0 0h42v42H0z" opacity=".5"/>     <rect fill="currentColor" x="19" y="11" width="4" height="20" rx="1"/>     <rect fill="currentColor" x="10" y="17" width="4" height="14" rx="1"/>     <rect fill="currentColor" x="28" y="19" width="4" height="12" rx="1"/>   </g>'
            }
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "20",
                    height: "26",
                    viewBox: "0 0 20 26",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<title>lock</title>   <defs>     <path id="a" d="M0 0v16h20V0H0z"/>   </defs>   <g transform="translate(0 1)" fill="none" fill-rule="evenodd">     <g transform="translate(0 8.521)">       <mask id="b" fill="#fff">         <use xlink:href="#a"/>       </mask>       <path         d="M18.5 16h-17A1.5 1.5 0 0 1 0 14.5v-13A1.5 1.5 0 0 1 1.5 0h17A1.5 1.5 0 0 1 20 1.5v13a1.5 1.5 0 0 1-1.5 1.5"         fill="currentColor" mask="url(#b)"/>     </g>     <path d="M4 11.491V6.5a6 6 0 1 1 12 0v4.991" stroke="currentColor" stroke-width="3" stroke-linecap="round"           stroke-linejoin="round"/>     <circle fill="#FFF" cx="10" cy="14" r="2"/>     <rect fill="#FFF" x="9" y="14" width="2" height="6" rx="1"/>   </g>'
            }
        }, ,
        function (e, t, n) {
            n.p = window.ASSET_PATH
        }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,
        function (e, t, n) {
        }, ,
        function (e, t, n) {
        },
        function (e, t, n) {
        }, , , , , , , ,
        function (e, t, n) {
        }, , , , , , , , , , , , , , , , , , , ,
        function (e, t, n) {
        },
        function (e, t, n) {
        }, , ,
        function (e, t, n) {
        },
        function (e, t, n) {
            var r = {
                "./pop-bottom-arrow.svg": 482,
                "./pop-top-arrow.svg": 483
            };

            function o(e) {
                var t = a(e);
                return n(t)
            }

            function a(e) {
                var t = r[e];
                if (!(t + 1)) {
                    var n = new Error("Cannot find module '" + e + "'");
                    throw n.code = "MODULE_NOT_FOUND",
                        n
                }
                return t
            }

            o.keys = function () {
                return Object.keys(r)
            }
                ,
                o.resolve = a,
                e.exports = o,
                o.id = 742
        }, , , , , , , ,
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t, n) {
        },
        function (e, t) {
            e.exports = {
                attributes: {
                    width: "12",
                    height: "12",
                    xmlns: "http://www.w3.org/2000/svg"
                },
                content: '<path d="M6 12A6 6 0 1 1 6 0a6 6 0 0 1 0 12zm-.866-4.782L3.756 5.61a.6.6 0 1 0-.912.78l1.8 2.1a.6.6 0 0 0 .88.034l3.9-3.9a.6.6 0 0 0-.848-.848L5.134 7.218z" fill="#67C23A" fill-rule="evenodd"/>'
            }
        },
        function (e, t, n) {
        },
        function (e, t, n) {
            "use strict";
            n.r(t);
            n(492);
            var r = n(104)
                , o = n.n(r)
                , a = n(43)
                , i = n.n(a)
                , c = n(347)
                , u = n.n(c)
                , l = n(348)
                , s = n.n(l)
                , f = n(354)
                , p = n(135)
                , m = n(68)
                , b = n(10);
            var d = n(5)
                , y = n(350)
                , h = n.n(y);

            function v(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            g(e, t, n[t])
                        })
                }
                return e
            }

            function g(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var O = "navigationStart";

            function E() {
                var e = window.performance
                    , t = function () {
                    var e = window.performance;
                    return e && e.timing && e.timing.toJSON ? e.timing.toJSON() : {}
                }()
                    , n = Object.keys(t).filter(function (e) {
                    return e !== O
                }).reduce(function (e, n) {
                    return t[n] && t[n] > t[O] ? v({}, e, g({}, n, t[n] - t[O])) : e
                }, {});
                if (e && e.getEntriesByType) {
                    var r = e.getEntriesByType("paint");
                    Array.isArray(r) && (n = r.reduce(function (e, t) {
                        return t.name && t.startTime ? v({}, e, g({}, h()(t.name), t.startTime)) : e
                    }, n))
                }
                return n
            }

            var w = n(15)
                , S = n(33)
                , P = n(351)
                , k = n.n(P)
                , j = n(96)
                , _ = n(35);

            function T(e, t) {
                return function (e) {
                    if (Array.isArray(e))
                        return e
                }(e) || function (e, t) {
                    var n = []
                        , r = !0
                        , o = !1
                        , a = void 0;
                    try {
                        for (var i, c = e[Symbol.iterator](); !(r = (i = c.next()).done) && (n.push(i.value),
                        !t || n.length !== t); r = !0)
                            ;
                    } catch (e) {
                        o = !0,
                            a = e
                    } finally {
                        try {
                            r || null == c.return || c.return()
                        } finally {
                            if (o)
                                throw a
                        }
                    }
                    return n
                }(e, t) || function () {
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }()
            }

            function C(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function N(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            I(e, t, n[t])
                        })
                }
                return e
            }

            function I(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var A = k()("pub-webapp:http");

            function x(e) {
                return function (t) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    return A("fetch url", t),
                        e(t, n).catch(function (e) {
                            throw e.message = "origin message: ".concat(e.message, ", options: ").concat(JSON.stringify(n)),
                                e
                        }).then(function (e) {
                            var t = e.headers.get("content-type");
                            return t && -1 !== t.indexOf("application/json") ? e.json().then(function (t) {
                                return {
                                    json: Object(w.camelizeKeys)(t),
                                    res: e
                                }
                            }) : e.text().then(function (t) {
                                return {
                                    text: t,
                                    res: e
                                }
                            })
                        }).then(function (e) {
                            var r = e.json
                                , o = e.text
                                , a = e.res
                                , i = r && r.code
                                , c = r || o;
                            if (a.status >= 300 || i) {
                                var u = new Error(["FetchBackend Failure\n\n", "FetchEndpoint: ".concat(t, "\n\n"), "FetchOptions:\n".concat(JSON.stringify(n, null, 2), "\n\n"), "".concat(i ? "JsonCode" : "HttpStatus", ": ").concat(i || a.status, "\n\n"), "Payload:\n".concat(r ? JSON.stringify(r, null, 2) : o, "\n\n")].join(""));
                                throw u.status = a.status,
                                    u.payload = c.error ? c.error : c,
                                    u.res = a,
                                    u
                            }
                            return r && Array.isArray(r) && (c = {
                                count: Number(a.headers.get("x-result-count")),
                                data: r
                            }),
                                Object.assign(a, {
                                    res: a,
                                    payload: c
                                })
                        })
                }
            }

            Object(j.a)("transformResponse", []);
            var D = "X-Xsrftoken"
                , R = new RegExp("".concat("_xsrf", "=([\\w|-]+)"));

            function L(e) {
                return function (t) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    return e(t, N({}, n, {
                        headers: N({}, n.headers, function (e) {
                            var t = {};
                            if (Object(_.a)() && e && ["GET", "HEAD", "OPTIONS"].indexOf(e) < 0) {
                                t["X-Requested-With"] = "Fetch";
                                var n = T(document.cookie.match(R) || [], 2)[1];
                                n && (t[D] = n)
                            }
                            return t
                        }(n.method))
                    }))
                }
            }

            var B = n(55)
                , M = n(79)
                , G = n(241)
                , U = n(136)
                , F = n(102)
                , z = "redux-logger-enabled"
                , q = 1
                , H = !1;

            function W() {
                return H ? function (e) {
                    return function (t, n) {
                        var r = n.http
                            , o = n.root
                            , a = [G.a, Object(U.a)(r, o), F.b];
                        return Object(_.a)() && window.reduxLogger && q === Number(localStorage.getItem(z)) && a.push(window.reduxLogger.createLogger({
                            level: "debug"
                        })),
                            Object(S.e)(e, t, S.a.apply(void 0, a))
                    }
                }
                    .apply(void 0, arguments) : function (e) {
                    return function (t, n) {
                        var r = n.http
                            , o = n.root;
                        return Object(S.e)(e, t, Object(S.a)(G.a, Object(U.a)(r, o), F.b))
                    }
                }
                    .apply(void 0, arguments)
            }

            var V = "UNAUTHORIZED_RELOAD"
                , K = 36e4
                , Y = Object.values(B.h);

            function Z(e) {
                return document.getElementById(e)
            }

            function Q(e) {
                var t = e.createStore
                    , n = e.renderCallback;

                function r() {
                    var e = JSON.parse(Z("zh-data-state").value)
                        , r = JSON.parse(Z("zh-data-config").value).apiAddress;
                    /www\d.zhihu.com/.test(window.location.hostname) && (r = r.replace("www.zhihu.com", window.location.hostname));
                    var a = Object(m.d)(r)
                        , c = {};
                    e.env.trafficFree && (c["X-Traffic-Free"] = e.env.trafficFree);
                    var u, l, s, b, y, h, v, g, O = t(e, {
                        http: function () {
                            return S.d.apply(void 0, arguments)(j.b)
                        }(Object(f.a)(), (l = c,
                                s = l.cookie,
                                b = l.ip,
                                y = l.nginxTraceId,
                                h = l.userAgent,
                                v = C(l, ["cookie", "ip", "nginxTraceId", "userAgent"]),
                                g = N({}, s && {
                                    cookie: s
                                }, b && {
                                    "X-Real-IP": b
                                }, y && {
                                    "X-B3-Traceid": y
                                }, h && {
                                    "User-Agent": h
                                }),
                                function (e) {
                                    return function (t) {
                                        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                                        return e(t, N({}, n, {
                                            headers: N({}, g, v, n.headers)
                                        }))
                                    }
                                }
                        ), L, (u = function (e) {
                                var t = e.payload
                                    , n = e.res
                                    , r = t || {}
                                    , o = r.code
                                    , a = r.message
                                    , c = n.status;
                                if (401 === c && 100 === o) {
                                    var u = p.a.get(V);
                                    u && Date.now() - u.time > K || (p.a.set(V, {
                                        time: Date.now()
                                    }),
                                        location.reload())
                                }
                                if (403 === c && Y.includes(o)) {
                                    var l = Object.keys(B.h).find(function (e) {
                                        return B.h[e] === o
                                    });
                                    location.href = "/account/unhuman?".concat(i.a.stringify({
                                        type: l,
                                        message: encodeURIComponent(a),
                                        next: encodeURIComponent(location.href)
                                    }))
                                }
                                return e
                            }
                                ,
                                function (e) {
                                    return function (t) {
                                        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                                        return e(t, n).then(u)
                                    }
                                }
                        ), x),
                        root: a
                    });
                    return O.dispatch(Object(M.d)(navigator.userAgent)),
                        Object(d.d)(a),
                        o.a.setAppElement(Z("root")),
                        n({
                            store: O,
                            container: Z("root")
                        })
                }

                u()(window, "zhihu.pub", {
                    init: function () {
                        return new Promise(function (e) {
                                /interactive|complete/.test(document.readyState) ? e() : document.addEventListener("DOMContentLoaded", function () {
                                    setTimeout(e)
                                })
                            }
                        ).then(r).then(function () {
                            var e = E();
                            s()(e) || (e = function (e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                                    , n = window.performance;
                                if (n && n.timing && Date.now) {
                                    var r = Date.now() - n.timing[O];
                                    if (r > 0)
                                        return v({}, t, g({}, e, r))
                                }
                                return t
                            }("xAppInited", e),
                                new Promise(function (e) {
                                        "complete" === document.readyState ? e() : window.addEventListener("load", function () {
                                            setTimeout(e)
                                        })
                                    }
                                ).then(function () {
                                    b.a.trackMonitor({}, {
                                        monitor: {
                                            type: "Page",
                                            statusCode: 200,
                                            webPerformance: {
                                                x_app_inited: Math.round(e.xAppInited)
                                            }
                                        }
                                    })
                                }))
                        })
                    }
                })
            }

            var X = n(0)
                , J = n.n(X)
                , $ = n(11)
                , ee = n.n($)
                , te = n(4)
                , ne = n(3)
                , re = n(363)
                , oe = n(289);

            function ae(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var ie = Object(S.c)({
                global: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                        count: 0
                    }
                        , t = (arguments.length > 1 ? arguments[1] : void 0).type;
                    return t.endsWith("request") ? {
                        count: e.count + 1
                    } : t.endsWith("success") || t.endsWith("failure") ? {
                        count: e.count ? e.count - 1 : 0
                    } : e
                },
                local: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                        , t = arguments.length > 1 ? arguments[1] : void 0
                        , n = t.type
                        , r = t.id
                        , o = t.urlToken;
                    return ["request", "success", "failure"].includes(n.split("/").pop()) ? function (e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {}
                                , r = Object.keys(n);
                            "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                return Object.getOwnPropertyDescriptor(n, e).enumerable
                            }))),
                                r.forEach(function (t) {
                                    ae(e, t, n[t])
                                })
                        }
                        return e
                    }({}, e, ae({}, "".concat(n.slice(0, n.lastIndexOf("/")), "/").concat(r || o || ""), n.endsWith("request"))) : e
                }
            })
                , ce = n(66)
                , ue = n(365)
                , le = n.n(ue)
                , se = n(119)
                , fe = n(366)
                , pe = n(367);

            function me(e) {
                return (me = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function be(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            de(e, t, n[t])
                        })
                }
                return e
            }

            function de(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var ye = {
                users: {},
                questions: {},
                answers: {},
                articles: {},
                columns: {},
                topics: {},
                roundtables: {},
                favlists: {},
                comments: {},
                notifications: {},
                ebooks: {},
                activities: {},
                feeds: {},
                pins: {},
                promotions: {}
            };

            function he(e, t) {
                var n = be({}, e);
                return Object.keys(t).forEach(function (e) {
                    var r = be({}, n[e])
                        , o = t[e] || {};
                    Object.keys(o).forEach(function (e) {
                        var t = o[e]
                            , n = be({}, r[e]);
                        if (t && "object" === me(t)) {
                            for (var a = Object.keys(t), i = 0; i < a.length; i++) {
                                var c = a[i]
                                    , u = n[c]
                                    , l = t[c];
                                !Array.isArray(u) && u instanceof Object && l instanceof Object ? n[c] = be({}, u, l) : n[c] = l
                            }
                            r[e] = n
                        } else
                            r[e] = t
                    }),
                        n[e] = r
                }),
                    n
            }

            var ve = le()(function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ye
                    , t = arguments.length > 1 ? arguments[1] : void 0;
                if (t.type === ce.b.GET.success)
                    return be({}, e, {
                        users: be({}, e.users, de({}, t.payload.urlToken, be({}, e.users[t.payload.urlToken], t.payload)))
                    });
                if (t.type === ce.b.ACTIVE_USER)
                    return be({}, e, {
                        users: be({}, e.users, de({}, t.currentUser, be({}, e.users[t.currentUser], {
                            isActive: !0
                        })))
                    });
                if (t.entities && (e = he(e, t.entities)),
                    t.UPDATE) {
                    var n = t.type
                        , r = t.payload
                        , o = t.UPDATE
                        , a = o.request
                        , i = o.success
                        , c = o.failure
                        , u = o.update
                        , l = t.err;
                    n.endsWith("request") && a && (e = he(e, a)),
                    n.endsWith("success") && i && (e = he(e, i(r))),
                        n.endsWith("failure") && c ? e = he(e, "function" == typeof c ? c(l) : c) : u && (e = he(e, u))
                }
                return e
            }, Object(se.b)({
                users: fe.a,
                favlists: pe.a
            }))
                , ge = n(80)
                , Oe = n(82)
                , Ee = n(180);

            function we(e) {
                return function (e) {
                    if (Array.isArray(e)) {
                        for (var t = 0, n = new Array(e.length); t < e.length; t++)
                            n[t] = e[t];
                        return n
                    }
                }(e) || function (e) {
                    if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e))
                        return Array.from(e)
                }(e) || function () {
                    throw new TypeError("Invalid attempt to spread non-iterable instance")
                }()
            }

            function Se(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            Pe(e, t, n[t])
                        })
                }
                return e
            }

            function Pe(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var ke = Se({}, Object(d.a)("pushNotifications", ["GET_DEFAULT", "GET_FOLLOW", "GET_VOTE_THANK", "MARK_ALL_READ"]), Object(d.b)("pushNotifications", ["ADD", "MARK_READ", "CURRENT_TAB"]));
            ke.GET_DEFAULT,
                ke.GET_FOLLOW,
                ke.GET_VOTE_THANK;

            function je(e) {
                var t = e.request
                    , n = e.success
                    , r = e.failure
                    , o = {
                    isFetching: !1,
                    isDrained: !1,
                    ids: []
                };
                return function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : o
                        , a = arguments.length > 1 ? arguments[1] : void 0;
                    switch (a.type) {
                        case t:
                            return a.reFetch ? o : Se({}, e, {
                                isFetching: !0
                            });
                        case n:
                            var i = a.result
                                , c = a.next
                                , u = a.isDrained
                                , l = e.ids;
                            return Se({}, e, {
                                isFetching: !1,
                                isDrained: u,
                                next: c,
                                ids: we(l).concat(we(i.filter(function (e) {
                                    return !l.includes(e)
                                })))
                            });
                        case r:
                            return Se({}, e, {
                                isFetching: !1,
                                isDrained: !1
                            });
                        default:
                            return e
                    }
                }
            }

            var _e = {
                default: 0,
                follow: 0,
                "vote-thank": 0
            }
                , Te = Object(S.c)({
                default: je(ke.GET_DEFAULT),
                follow: je(ke.GET_FOLLOW),
                "vote-thank": je(ke.GET_VOTE_THANK),
                currentTab: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "default"
                        , t = arguments.length > 1 ? arguments[1] : void 0
                        , n = t.type
                        , r = t.currentTab;
                    return n === ke.CURRENT_TAB ? r : e
                },
                notificationsCount: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : _e
                        , t = arguments.length > 1 ? arguments[1] : void 0
                        , n = t.type;
                    if (n === ke.ADD) {
                        var r = t.rawData;
                        return {
                            default: r[0],
                            follow: r[1],
                            "vote-thank": r[2]
                        }
                    }
                    if (n === ce.b.GET.success) {
                        var o = t.payload;
                        return {
                            default: o.defaultNotificationsCount,
                            follow: o.followNotificationsCount,
                            "vote-thank": o.voteThankNotificationsCount
                        }
                    }
                    return n === ke.MARK_ALL_READ.success ? Se({}, e, Pe({}, t.tab, 0)) : e
                }
            })
                , Ce = n(259)
                , Ne = n(260)
                , Ie = n(261)
                , Ae = n(302)
                , xe = n(78)
                , De = n(164)
                , Re = {
                loading: ie,
                env: M.a,
                currentUser: ce.d,
                entities: ve,
                token: oe.b,
                account: ge.a,
                notification: Oe.d,
                config: Ee.a
            }
                , Le = {
                pushNotifications: Te,
                messages: Ce.a,
                register: Ne.b,
                login: Ie.b,
                active: Ae.b,
                captcha: xe.d,
                sms: De.a
            }
                , Be = n(28)
                , Me = n(48)
                , Ge = n(23)
                , Ue = n.n(Ge)
                , Fe = (n(50),
                n(219));

            function ze(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            qe(e, t, n[t])
                        })
                }
                return e
            }

            function qe(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var He = ze({}, Object(d.a)("pub", ["GET_REVIEW_LIST_SEQUENCE", "GET_PAGED_REVIEW_LIST", "CREATE_MY_REVIEW", "UPDATE_MY_REVIEW", "TOGGLE_VOTE_REVIEW", "DELETE_REVIEW"]), Object(d.b)("pub", ["CHANGE_MY_REVIEW_DRAFT"]));

            function We(e, t) {
                return function (n, r) {
                    var o = r().review.sequenceReviews[e]
                        , a = o ? o.next : "";
                    return t = t || ze({}, Ue.a.parse(a, !0).query, {
                        limit: 10
                    }),
                        n({
                            API: {
                                types: He.GET_REVIEW_LIST_SEQUENCE,
                                endpoint: "v3/books/".concat(e, "/reviews"),
                                query: t
                            },
                            token: e
                        })
                }
            }

            var Ve = {
                sequenceReviews: {},
                pagedReviews: {},
                myReview: {}
            };
            var Ke = n(46)
                , Ye = n(62)
                , Ze = n(20);

            function Qe(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            Xe(e, t, n[t])
                        })
                }
                return e
            }

            function Xe(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var Je = Object(d.a)("pub", ["GET_COLLECTION"]);

            function $e(e, t) {
                return function (n, r) {
                    var o = r().collections[e].next;
                    return t = t || Qe({}, Ue.a.parse(o, !0).query, {
                        limit: 10
                    }),
                        n({
                            API: {
                                types: Je.GET_COLLECTION,
                                endpoint: "v3/books/collections/".concat(e),
                                query: t
                            },
                            token: e
                        })
                }
            }

            var et = {
                nacl: new Ze.a,
                hour: new Ze.a,
                weekly: new Ze.a
            };
            var tt = n(63);

            function nt(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            rt(e, t, n[t])
                        })
                }
                return e
            }

            function rt(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var ot = Object(d.a)("pub", ["GET_SPECIAL_LIST_SEQUENCE"]);

            function at(e) {
                return function (t, n) {
                    var r = n().specialList
                        , o = r ? r.next : "";
                    return e = e || nt({}, Ue.a.parse(o, !0).query, {
                        limit: 10
                    }),
                        t({
                            API: {
                                types: ot.GET_SPECIAL_LIST_SEQUENCE,
                                endpoint: "v3/books/specials",
                                query: e
                            }
                        })
                }
            }

            var it = new Ze.a;

            function ct(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            ut(e, t, n[t])
                        })
                }
                return e
            }

            function ut(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var lt = Object(d.a)("pub", ["GET_GIFT", "ACCEPT_GIFT"]);

            function st(e) {
                return {
                    API: {
                        types: lt.GET_GIFT,
                        endpoint: "v3/books/gifts/".concat(e),
                        query: {
                            include: "book,receivers"
                        }
                    },
                    id: e
                }
            }

            var ft = n(73)
                , pt = n(7);

            function mt(e) {
                return function (e) {
                    if (Array.isArray(e)) {
                        for (var t = 0, n = new Array(e.length); t < e.length; t++)
                            n[t] = e[t];
                        return n
                    }
                }(e) || function (e) {
                    if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e))
                        return Array.from(e)
                }(e) || function () {
                    throw new TypeError("Invalid attempt to spread non-iterable instance")
                }()
            }

            function bt(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            dt(e, t, n[t])
                        })
                }
                return e
            }

            function dt(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var yt = Object(d.a)("pub", ["GET_HOME", "CHANGE_SECTION", "GET_PACKAGE"]);

            function ht() {
                return {
                    API: {
                        types: yt.GET_HOME,
                        endpoint: "v3/books/store/recommends"
                    }
                }
            }

            function vt() {
                return {
                    API: {
                        types: yt.GET_PACKAGE,
                        endpoint: "/market/special_lists/promotion_package?thumbnail=1"
                    }
                }
            }

            var gt = n(93);

            function Ot(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            Et(e, t, n[t])
                        })
                }
                return e
            }

            function Et(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var wt = Object(d.b)("pub/order", ["UPDATE_DRAFT", "RESET_DRAFT"]);

            function St(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                this.id = e,
                    this.address = t.address || null,
                    this.quantity = t.quantity || 1,
                    this.invoice = t.invoice || null
            }

            function Pt(e, t) {
                return {
                    type: wt.UPDATE_DRAFT,
                    id: e,
                    data: t
                }
            }

            function kt(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var jt = Object(d.a)("pub", ["_", "CREATE_ORDER", "GET_ORDER", "REFUND_ORDER", "RECEIVE_ORDER"]);

            function _t(e) {
                return {
                    API: {
                        types: jt.GET_ORDER,
                        endpoint: "pub/orders/".concat(e)
                    }
                }
            }

            var Tt = Object(d.a)("pub", ["GET_ORDER_LIST"]);

            function Ct() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                    limit: 99
                };
                return {
                    API: {
                        types: Tt.GET_ORDER_LIST,
                        endpoint: "pub/orders",
                        query: e
                    }
                }
            }

            var Nt = n(181);

            function It(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var At = Object(d.a)("pub", ["GET_REGIONS"]);
            var xt = [{
                id: "",
                name: "",
                firstChildIndex: null,
                childrenCount: null
            }];

            function Dt(e) {
                return function (e) {
                    if (Array.isArray(e)) {
                        for (var t = 0, n = new Array(e.length); t < e.length; t++)
                            n[t] = e[t];
                        return n
                    }
                }(e) || function (e) {
                    if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e))
                        return Array.from(e)
                }(e) || function () {
                    throw new TypeError("Invalid attempt to spread non-iterable instance")
                }()
            }

            function Rt(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            Lt(e, t, n[t])
                        })
                }
                return e
            }

            function Lt(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var Bt = Rt({}, Object(d.a)("pub", ["GET_ADDRESSES", "GET_ADDRESS", "UPDATE_ADDRESS", "CREATE_ADDRESS", "DELETE_ADDRESS", "ADDRESS_BIND_ACTIVITY", "GET_ADDRESS_WITH_ACTIVITY"]), Object(d.b)("pub", ["MODIFY_ADDRESS_DRAFT", "CLEAR_ADDRESS_DRAFT"]));

            function Mt() {
                return {
                    API: {
                        types: Bt.GET_ADDRESSES,
                        endpoint: "pub/selection/addresses"
                    }
                }
            }

            function Gt() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                    , t = arguments.length > 1 ? arguments[1] : void 0
                    , n = arguments.length > 2 ? arguments[2] : void 0;
                return {
                    type: Bt.MODIFY_ADDRESS_DRAFT,
                    payload: {
                        id: e,
                        fieldName: t,
                        value: n
                    }
                }
            }

            var Ut = {
                data: null,
                drafts: {
                    "": {}
                },
                activeAddress: null
            };

            function Ft(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            zt(e, t, n[t])
                        })
                }
                return e
            }

            function zt(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var qt = Object(d.b)("pub", ["SET_LOCAL_ORDER_INVOICE", "MODIFY_INVOICE_DRAFT", "SET_INVOICE_DRAFT", "CLEAR_INVOICE_DRAFT"]);
            var Ht = n(54)
                , Wt = n.n(Ht);

            function Vt(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            Kt(e, t, n[t])
                        })
                }
                return e
            }

            function Kt(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var Yt = Object(d.b)("pub/crossPageCalls", ["SET_VALUE", "CLEAR_VALUE"]);

            function Zt(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
                    , n = arguments.length > 2 ? arguments[2] : void 0;
                return {
                    type: Yt.SET_VALUE,
                    payload: {
                        mod: e,
                        token: t,
                        value: n
                    }
                }
            }

            function Qt(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                return {
                    type: Yt.CLEAR_VALUE,
                    payload: {
                        mod: e,
                        token: t
                    }
                }
            }

            var Xt = n(99)
                , Jt = n(139)
                , $t = n(67)
                , en = n(105);

            function tn(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            nn(e, t, n[t])
                        })
                }
                return e
            }

            function nn(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var rn = tn({}, Object(d.a)("pub", ["GET_WEEKLY_SEQUENCE", "GET_WEEKLY", "UN_SUBSCRIBE_WEEKLY", "SUBSCRIBE_WEEKLY", "GET_RECENT_SHELF_BOOKS", "ADD_BOOK_CASE", "DELETE_BOOK_CASE"]), Object(d.b)("pub", ["WEEKLY_TOGGLE_SUBSCRIBE_STATUS"]));

            function on() {
                return function (e, t) {
                    var n = t().weekly.allWeekly.next
                        , r = tn({}, Ue.a.parse(n, !0).query, {
                        limit: 15
                    });
                    return e({
                        API: {
                            types: rn.GET_WEEKLY_SEQUENCE,
                            endpoint: "v3/books/collections/weekly",
                            query: r
                        }
                    })
                }
            }

            function an() {
                return {
                    API: {
                        types: rn.UN_SUBSCRIBE_WEEKLY,
                        endpoint: "v3/books/collections/weekly",
                        method: "DELETE"
                    }
                }
            }

            function cn() {
                return {
                    API: {
                        types: rn.SUBSCRIBE_WEEKLY,
                        endpoint: "v3/books/collections/weekly",
                        method: "POST"
                    }
                }
            }

            function un() {
                return {
                    API: {
                        types: rn.ADD_BOOK_CASE,
                        root: "https://api.zhihu.com/",
                        endpoint: "pluton/shelves",
                        method: "POST",
                        body: {
                            business_id: "2",
                            property_type: "ebook_weekly"
                        }
                    }
                }
            }

            function ln() {
                return {
                    API: {
                        types: rn.DELETE_BOOK_CASE,
                        root: "https://api.zhihu.com/",
                        endpoint: "pluton/shelves",
                        method: "DELETE",
                        body: {
                            business_id: "2",
                            property_type: "ebook_weekly"
                        }
                    }
                }
            }

            var sn = {
                allWeekly: new Ze.a,
                pagedWeekly: {}
            };

            function fn(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            pn(e, t, n[t])
                        })
                }
                return e
            }

            function pn(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var mn = Object(d.a)("pub", ["GET_PACKAGE_LIST_SEQUENCE"]);

            function bn(e) {
                return function (t, n) {
                    var r = n().packageList
                        , o = r ? r.next : "";
                    return e = e || fn({}, Ue.a.parse(o, !0).query, {
                        limit: 10
                    }),
                        t({
                            API: {
                                types: mn.GET_PACKAGE_LIST_SEQUENCE,
                                endpoint: "/market/special_lists/promotion_package",
                                query: e
                            }
                        })
                }
            }

            var dn = new Ze.a;

            function yn(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            hn(e, t, n[t])
                        })
                }
                return e
            }

            function hn(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var vn = Object(d.a)("pub", ["GET_REVIEW_COMMENTS_SEQUENCE", "ADD_COMMENT_TO_REVIEW", "TOGGLE_VOTE_COMMENT", "DELETE_REVIEW_COMMENT"]);
            var gn = {
                reviewCommentsSequence: {}
            };

            function On(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var En = Object(S.c)(function (e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            On(e, t, n[t])
                        })
                }
                return e
            }({}, Re, Le, {
                book: Be.a,
                audioBook: Me.a,
                review: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ve
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case He.GET_REVIEW_LIST_SEQUENCE.request:
                            var n = t.token
                                , r = e.sequenceReviews;
                            return ze({}, e, {
                                sequenceReviews: ze({}, r, qe({}, n, ze({}, r[n], {
                                    isFetching: !0
                                })))
                            });
                        case He.GET_REVIEW_LIST_SEQUENCE.success:
                            var o = t.token
                                , a = t.payload
                                , i = a.data
                                , c = a.paging
                                , u = (e.sequenceReviews[o] || {}).items || [];
                            return ze({}, e, {
                                sequenceReviews: ze({}, e.sequenceReviews, qe({}, o, {
                                    items: i ? u.concat(i) : u,
                                    next: c ? c.next : "",
                                    totals: c ? c.totals : 0,
                                    isFetching: !1,
                                    isDrained: !c || c.isEnd
                                }))
                            });
                        case He.GET_PAGED_REVIEW_LIST.request:
                            var l = t.token
                                , s = e.pagedReviews;
                            return ze({}, e, {
                                pagedReviews: ze({}, s, qe({}, l, ze({}, s[l], {
                                    isFetching: !0
                                })))
                            });
                        case He.GET_PAGED_REVIEW_LIST.success:
                            var f = t.token
                                , p = t.offset
                                , m = t.currentUser
                                , b = t.payload
                                , d = b.data
                                , y = b.paging
                                , h = e.pagedReviews
                                , v = e.myReview
                                , g = p / Fe.c + 1
                                , O = {};
                            return 1 === g && d.length > 0 && d[0].author.slug === m ? O = d[0] : g > 1 && (O = v[f]),
                                ze({}, e, {
                                    pagedReviews: ze({}, h, qe({}, f, {
                                        data: d,
                                        currentPage: g,
                                        totals: y ? y.totals : 0,
                                        isFetching: !1
                                    })),
                                    myReview: ze({}, v, qe({}, f, ze({}, O, {
                                        draft: {
                                            score: O && O.score || 0,
                                            content: O && O.content || ""
                                        }
                                    })))
                                });
                        case He.TOGGLE_VOTE_REVIEW.success:
                            var E = t.bookId
                                , w = t.reviewId
                                , S = e.pagedReviews;
                            return ze({}, e, {
                                pagedReviews: ze({}, S, qe({}, E, ze({}, S[E], {
                                    data: S[E].data.map(function (e) {
                                        return e.id === w ? ze({}, e, {
                                            isVoted: !e.isVoted,
                                            voteCount: e.isVoted ? e.voteCount - 1 : e.voteCount + 1
                                        }) : e
                                    })
                                })))
                            });
                        case He.CHANGE_MY_REVIEW_DRAFT:
                            var P = t.payload
                                , k = P.token
                                , j = P.review
                                , _ = e.myReview;
                            return ze({}, e, {
                                myReview: ze({}, _, qe({}, k, ze({}, _[k], {
                                    draft: ze({}, _[k].draft, j)
                                })))
                            });
                        default:
                            return e
                    }
                },
                categories: Ke.a,
                features: Ye.a,
                collections: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : et
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case Je.GET_COLLECTION.request:
                            var n = e[t.token];
                            return Qe({}, e, Xe({}, t.token, Qe({}, n, {
                                isFetching: !0
                            })));
                        case Je.GET_COLLECTION.success:
                            var r = t.token
                                , o = t.payload
                                , a = o.data
                                , i = o.paging
                                , c = e[r];
                            return Qe({}, e, Xe({}, r, {
                                next: i.next,
                                items: c.items.concat(a),
                                isFetching: !1,
                                isDrained: i.isEnd
                            }));
                        case Je.GET_COLLECTION.failure:
                            var u = e[t.token];
                            return Qe({}, e, Xe({}, t.token, Qe({}, u, {
                                isFetching: !1,
                                isDrained: !0
                            })));
                        default:
                            return e
                    }
                },
                special: tt.a,
                specialList: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : it
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case ot.GET_SPECIAL_LIST_SEQUENCE.request:
                            return nt({}, e, {
                                isFetching: !0
                            });
                        case ot.GET_SPECIAL_LIST_SEQUENCE.success:
                            var n = t.payload
                                , r = n.data
                                , o = n.paging
                                , a = e.items;
                            return nt({}, e, {
                                items: r ? a.concat(r) : a,
                                next: o ? o.next : "",
                                isFetching: !1,
                                isDrained: !o || o.isEnd
                            });
                        default:
                            return e
                    }
                },
                gift: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case lt.ACCEPT_GIFT.success:
                            var n = t.id
                                , r = e[n] || {
                                book: {},
                                receivedAmount: 0
                            };
                            return ct({}, e, ut({}, n, ct({}, r, {
                                book: ct({}, r.book, {
                                    isOwn: !0
                                }),
                                isReceived: !0,
                                receivedAmount: r.receivedAmount + 1
                            })));
                        case lt.GET_GIFT.success:
                            return ct({}, e, ut({}, t.id, t.payload));
                        default:
                            return e
                    }
                },
                coupons: ft.a,
                home: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case yt.GET_HOME.success:
                            return bt({}, t.payload, {
                                data: t.payload.data.map(function (e) {
                                    var t = e.type
                                        , n = e.books;
                                    return "category" === t ? {
                                        type: t
                                    } : "feature" === t ? bt({}, e, {
                                        books: n.map(function (e) {
                                            return bt({}, e, {
                                                authors: Object(pt.o)(e.authors)
                                            })
                                        })
                                    }) : e
                                })
                            });
                        case yt.CHANGE_SECTION.success:
                            var n = t.id
                                , r = t.offset
                                , o = t.limit
                                , a = e.data
                                , i = t.payload
                                , c = i.paging
                                , u = i.data
                                , l = a.findIndex(function (e) {
                                return e.id === n
                            })
                                , s = mt(a);
                            return s.splice(l, 1, bt({}, a[l], {
                                books: u,
                                offset: c.isEnd ? 0 : r + o,
                                limit: o
                            })),
                                bt({}, e, {
                                    data: s
                                });
                        case yt.GET_PACKAGE.success:
                            return bt({}, e, {
                                packageData: t.payload.data[0]
                            });
                        default:
                            return e
                    }
                },
                products: gt.a,
                orderDrafts: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                        , t = arguments.length > 1 ? arguments[1] : void 0
                        , n = t.id
                        , r = t.data;
                    switch (t.type) {
                        case wt.UPDATE_DRAFT:
                            return Ot({}, e, Et({}, n, Ot({}, e[n] || new St(n), r)));
                        case wt.RESET_DRAFT:
                            return Ot({}, e, Et({}, n, null));
                        default:
                            return e
                    }
                },
                orders: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case jt.CREATE_ORDER.success:
                        case jt.GET_ORDER.success:
                        case jt.REFUND_ORDER.success:
                        case jt.RECEIVE_ORDER.success:
                            return function (e) {
                                for (var t = 1; t < arguments.length; t++) {
                                    var n = null != arguments[t] ? arguments[t] : {}
                                        , r = Object.keys(n);
                                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                                    }))),
                                        r.forEach(function (t) {
                                            kt(e, t, n[t])
                                        })
                                }
                                return e
                            }({}, e, kt({}, t.payload.id, t.payload));
                        default:
                            return e
                    }
                },
                orderList: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case Tt.GET_ORDER_LIST.success:
                            return t.payload.data;
                        default:
                            return e
                    }
                },
                shipping: Nt.a,
                regions: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : xt
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case At.GET_REGIONS.success:
                            var n = t.id
                                , r = void 0 === n ? "" : n
                                , o = t.payload
                                , a = e.findIndex(function (e) {
                                return String(e.id) === r
                            });
                            return a >= 0 && (e[a] = function (e) {
                                for (var t = 1; t < arguments.length; t++) {
                                    var n = null != arguments[t] ? arguments[t] : {}
                                        , r = Object.keys(n);
                                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                                    }))),
                                        r.forEach(function (t) {
                                            It(e, t, n[t])
                                        })
                                }
                                return e
                            }({}, e[a], {
                                firstChildIndex: e.length,
                                childrenCount: o.data.length
                            })),
                                e = e.concat(o.data);
                        default:
                            return e
                    }
                },
                addresses: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ut
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case Bt.GET_ADDRESSES.success:
                            var n = t.payload.data;
                            return {
                                data: n,
                                drafts: Object.assign({}, e.drafts, n.reduce(function (e, t) {
                                    return e[t.id] = t,
                                        e
                                }, {}))
                            };
                        case Bt.GET_ADDRESS.success:
                            var r = t.payload;
                            return Rt({}, e, {
                                drafts: Rt({}, e.drafts, Lt({}, r.id, r))
                            });
                        case Bt.MODIFY_ADDRESS_DRAFT:
                            var o = t.payload
                                , a = o.id
                                , i = o.fieldName
                                , c = o.value;
                            return Rt({}, e, {
                                drafts: Rt({}, e.drafts, Lt({}, a, Rt({}, e.drafts[a], Lt({}, i, c))))
                            });
                        case Bt.CLEAR_ADDRESS_DRAFT:
                            var u = t.payload.id;
                            return Rt({}, e, {
                                drafts: Rt({}, e.drafts, Lt({}, u, {}))
                            });
                        case Bt.DELETE_ADDRESS.request:
                            var l = t.id
                                , s = Dt(e.data);
                            return s.splice(e.data.findIndex(function (e) {
                                return e.id === l
                            }), 1),
                                Rt({}, e, {
                                    data: s
                                });
                        case Bt.GET_ADDRESS_WITH_ACTIVITY.success:
                        case Bt.GET_ADDRESS_WITH_ACTIVITY.failure:
                            return Rt({}, e, {
                                activeAddress: t.payload
                            });
                        default:
                            return e
                    }
                },
                invoiceEditor: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case qt.SET_LOCAL_ORDER_INVOICE:
                            return Ft({}, e, zt({}, t.id, t.invoice));
                        case qt.MODIFY_INVOICE_DRAFT:
                            var n = t.id
                                , r = t.fieldName
                                , o = t.value;
                            return Ft({}, e, zt({}, n, Ft({}, e[n] || {}, zt({}, r, o))));
                        case qt.CLEAR_INVOICE_DRAFT:
                            return Ft({}, e, zt({}, t.id, null));
                        case qt.SET_INVOICE_DRAFT:
                            return Ft({}, e, zt({}, t.id, t.value));
                        default:
                            return e
                    }
                },
                crossPageCalls: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case Yt.SET_VALUE:
                            var n = t.payload
                                , r = n.mod
                                , o = n.token
                                , a = n.value;
                            return Vt({}, e, Kt({}, r, Vt({}, e[r] || {}, Kt({}, o, a))));
                        case Yt.CLEAR_VALUE:
                            var i = t.payload
                                , c = i.mod
                                , u = i.token;
                            return Vt({}, e, Kt({}, c, Wt()(e[c] || {}, [u])));
                        default:
                            return e
                    }
                },
                reader: Xt.b,
                self: Jt.a,
                shelf: $t.b,
                package: en.a,
                weekly: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : sn
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case rn.GET_WEEKLY_SEQUENCE.request:
                            return tn({}, e, {
                                allWeekly: tn({}, e.allWeekly, {
                                    isFetching: !0
                                })
                            });
                        case rn.GET_WEEKLY_SEQUENCE.success:
                            var n = t.payload
                                , r = n.paging
                                , o = n.data.map(function (e) {
                                return tn({}, e, {
                                    authors: Object(pt.o)(e.authors)
                                })
                            })
                                , a = e.allWeekly.items;
                            return tn({}, e, {
                                allWeekly: tn({}, t.payload, {
                                    next: r ? r.next : "",
                                    items: o ? a.concat(o) : a,
                                    isFetching: !1,
                                    isDrained: !r || r.isEnd
                                })
                            });
                        case rn.GET_WEEKLY_SEQUENCE.failure:
                            return tn({}, e, {
                                allWeekly: tn({}, e.allWeekly, {
                                    isFetching: !1
                                })
                            });
                        case rn.GET_WEEKLY.request:
                            return tn({}, e, {
                                pagedWeekly: {
                                    isFetching: !0
                                }
                            });
                        case rn.GET_WEEKLY.success:
                            var i = t.payload.data.map(function (e) {
                                return tn({}, e, {
                                    authors: Object(pt.o)(e.authors)
                                })
                            });
                            return tn({}, e, {
                                pagedWeekly: tn({}, t.payload, {
                                    data: i,
                                    isFetching: !1
                                })
                            });
                        case rn.GET_WEEKLY.failure:
                            return tn({}, e, {
                                pagedWeekly: tn({}, e.pagedWeekly, {
                                    isFetching: !1
                                })
                            });
                        case rn.WEEKLY_TOGGLE_SUBSCRIBE_STATUS:
                            var c = e.allWeekly.isSubscribed;
                            return tn({}, e, {
                                allWeekly: tn({}, e.allWeekly, {
                                    isSubscribed: !c
                                })
                            });
                        default:
                            return e
                    }
                },
                packageList: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : dn
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case mn.GET_PACKAGE_LIST_SEQUENCE.request:
                            return fn({}, e, {
                                isFetching: !0
                            });
                        case mn.GET_PACKAGE_LIST_SEQUENCE.success:
                            var n = t.payload
                                , r = n.data
                                , o = n.paging;
                            return fn({}, e, {
                                items: r,
                                next: o ? o.next : "",
                                isFetching: !1,
                                isDrained: !o || o.isEnd
                            });
                        default:
                            return e
                    }
                },
                comments: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : gn
                        , t = arguments.length > 1 ? arguments[1] : void 0;
                    switch (t.type) {
                        case vn.GET_REVIEW_COMMENTS_SEQUENCE.request:
                            var n = t.reviewId
                                , r = e.reviewCommentsSequence;
                            return yn({}, e, {
                                reviewCommentsSequence: yn({}, r, hn({}, n, yn({}, r[n] || new Ze.a, {
                                    isFetching: !0
                                })))
                            });
                        case vn.GET_REVIEW_COMMENTS_SEQUENCE.success:
                            var o = t.reviewId
                                , a = t.forceRefresh
                                , i = t.payload
                                , c = i.data
                                , u = i.paging
                                , l = (e.reviewCommentsSequence[o] || {}).items || []
                                , s = c ? l.concat(c) : l;
                            return yn({}, e, {
                                reviewCommentsSequence: yn({}, e.sequenceReviews, hn({}, o, {
                                    items: a ? c : s,
                                    next: u ? u.next : "",
                                    totals: u ? u.totals : 0,
                                    isFetching: !1,
                                    isDrained: !u || u.isEnd
                                }))
                            });
                        case vn.TOGGLE_VOTE_COMMENT.success:
                            var f = t.reviewId
                                , p = t.commentId
                                , m = e.reviewCommentsSequence[f];
                            return yn({}, e, {
                                reviewCommentsSequence: yn({}, e.reviewCommentsSequence, hn({}, f, yn({}, m, {
                                    items: m.items.map(function (e) {
                                        return e.id === p ? yn({}, e, {
                                            voting: !e.voting,
                                            voteCount: e.voting ? e.voteCount - 1 : e.voteCount + 1
                                        }) : e
                                    })
                                })))
                            });
                        case vn.DELETE_REVIEW_COMMENT.success:
                            var b = t.reviewId
                                , d = t.commentId
                                , y = e.reviewCommentsSequence[b];
                            return yn({}, e, {
                                reviewCommentsSequence: yn({}, e.reviewCommentsSequence, hn({}, b, yn({}, y, {
                                    items: y.items.map(function (e) {
                                        return e.id === d ? yn({}, e, {
                                            isDelete: !0
                                        }) : e
                                    }),
                                    totals: y.totals - 1
                                })))
                            });
                        default:
                            return e
                    }
                }
            }))
                , wn = n(370)
                , Sn = n(22)
                , Pn = function (e, t) {
                var n = t.routes;
                if (!e)
                    return !0;
                var r = e.routes
                    , o = n.findIndex(function (e) {
                    return e.sticky
                });
                if (-1 === o)
                    return !0;
                for (var a = 0; a <= o; a++)
                    if (!r[a] || r[a].path !== n[a].path)
                        return !0;
                var i = n[o];
                return [0, ("function" == typeof i.sticky ? i.sticky() : i.sticky) - Sn.c]
            };

            function kn(e) {
                var t = e.renderProps;
                e.ua;
                return J.a.createElement(ne.e, Object.assign({}, t, {
                    render: Object(ne.f)(Object(wn.useScroll)(Pn))
                }))
            }

            var jn = n(371);
            var _n = Object(_.a)() ? J.a.createElement(ne.d, {
                path: "*",
                onEnter: function (e) {
                    var t = e.location;
                    window.location = "".concat(t.pathname).concat(t.search)
                }
            }) : null
                , Tn = n(327)
                , Cn = n(30)
                , Nn = n.n(Cn)
                , In = n(12)
                , An = n(38)
                , xn = n(42)
                , Dn = n(89)
                , Rn = n(29)
                , Ln = n(329)
                , Bn = n(330)
                , Mn = n.n(Bn);

            function Gn(e) {
                var t = e.item
                    , n = e.ua;
                return J.a.createElement("div", {
                    className: "MPub-banner"
                }, J.a.createElement("a", {
                    href: t.landingUrl
                }, J.a.createElement(Rn.a, Object.assign({
                    src: t.image
                }, Object(Ln.a)(n)))))
            }

            var Un = Object(Dn.a)(function () {
                return n.e(1).then(n.bind(null, 1218))
            }, function (e) {
                var t = e.banners
                    , n = e.ua;
                return t && Array.isArray(t) && t.length > 0 ? J.a.createElement("div", {
                    className: "MPub-bannersContainer"
                }, J.a.createElement("div", {
                    className: "MPub-bannersTrack MPub-bannersTrack--placeholder"
                }, J.a.createElement(Gn, {
                    item: t[t.length - 1],
                    ua: n
                }), J.a.createElement(Gn, {
                    item: t[0],
                    ua: n
                }), t.length > 1 && J.a.createElement(Gn, {
                    item: t[1],
                    ua: n
                }))) : null
            }, "HomeBanners");
            Un.css = Mn.a;
            var Fn = Un
                , zn = n(120)
                , qn = n(13)
                , Hn = n(49)
                , Wn = n(394)
                , Vn = n.n(Wn);

            function Kn(e) {
                return J.a.createElement(Hn.a, {
                    module: "EBookList",
                    moduleName: e.name,
                    trackCardShow: !0
                }, J.a.createElement("section", {
                    className: "MPub-specialSection"
                }, J.a.createElement("div", {
                    className: "MPub-specialSection-titleLine"
                }, J.a.createElement("h2", null, e.name), J.a.createElement(qn.a, {
                    to: "/pub/specials",
                    useHybridInApp: !0
                }, "全部专题")), J.a.createElement("ul", {
                    className: "MPub-specials"
                }, e.specials.map(function (t) {
                    return J.a.createElement("li", {
                        key: t.id
                    }, J.a.createElement(Hn.a, {
                        module: "EBookSpecialItem",
                        trackCardShow: !0,
                        content: {
                            token: String(t.id),
                            type: "EBookSpecial"
                        }
                    }, J.a.createElement(qn.a, {
                        href: t.url,
                        zh_navigation_bar_type: "back_title_more",
                        zh_nav_left: "arrow",
                        zh_nav_right: "more",
                        component: "a",
                        useHybridInApp: !0
                    }, J.a.createElement(Rn.a, {
                        width: "300",
                        height: "125",
                        src: t.cover,
                        alt: t.name,
                        defer: e.imageDefer
                    }))))
                }), Array(3).fill(null).map(function (e, t) {
                    return J.a.createElement("li", {
                        className: "holder",
                        key: "holder-".concat(t)
                    })
                }))))
            }

            Kn.css = Vn.a;
            var Yn = Kn
                , Zn = n(1)
                , Qn = n.n(Zn)
                , Xn = function (e) {
                var t = e.wrapperClass
                    , n = e.packageData
                    , r = n.id
                    , o = n.artwork
                    , a = e.disableLink
                    , i = {
                    width: 120,
                    height: 68,
                    useWebpIfSupported: !1,
                    src: o.fullUrl,
                    spec: "r"
                };
                return a ? J.a.createElement(Rn.a, i) : J.a.createElement(qn.a, {
                    className: t,
                    href: "/market/specials/".concat(r),
                    zh_navigation_bar_type: "back_title_more",
                    zh_nav_left: "arrow",
                    zh_nav_right: "more",
                    useHybridInApp: !0
                }, J.a.createElement(Rn.a, i))
            };
            Xn.propTyps = {
                wrapperClass: Qn.a.string,
                packageData: Qn.a.object,
                disableLink: Qn.a.bool
            };
            var Jn = Xn
                , $n = n(395)
                , er = n.n($n);

            function tr(e) {
                var t = e.name
                    , n = e.packageData;
                return J.a.createElement("section", {
                    className: "MPub-packageSection"
                }, J.a.createElement("div", {
                    className: "Card-header MPub-packageSection-header"
                }, J.a.createElement("h2", null, t), J.a.createElement(qn.a, {
                    className: "LinkToPackage",
                    to: "/pub/packages",
                    zh_navigation_bar_type: "back_title_search",
                    zh_nav_left: "arrow",
                    zh_nav_right: "search",
                    useHybridInApp: !0
                }, "查看全部")), J.a.createElement(Jn, {
                    packageData: n,
                    wrapperClass: "Card-Image"
                }))
            }

            tr.propTypes = {
                name: Qn.a.string,
                packageData: Qn.a.object
            },
                tr.css = er.a;
            var nr = tr
                , rr = n(121)
                , or = n(122)
                , ar = n(400)
                , ir = n.n(ar);

            function cr(e) {
                return (cr = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function ur(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function lr(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function sr(e) {
                return (sr = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function fr(e, t) {
                return (fr = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function pr(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function mr(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            function br() {
                return J.a.createElement("div", {
                    className: "MPub-categories-wrapper"
                }, J.a.createElement("ul", {
                    className: "MPub-categories"
                }, J.a.createElement("li", null, J.a.createElement(qn.a, {
                    to: "/pub/categories",
                    zh_navigation_bar_type: "back_title_search",
                    zh_nav_left: "arrow",
                    zh_nav_right: "search",
                    "data-za-detail-view-name": "分类",
                    useHybridInApp: !0
                }, J.a.createElement("span", {
                    className: "iconWrapper"
                }, J.a.createElement(In.a, {
                    src: n(264),
                    width: 18
                })), J.a.createElement("span", null, "分类"))), J.a.createElement("li", null, J.a.createElement(qn.a, {
                    to: "/pub/features/sale",
                    "data-za-detail-view-name": "特价"
                }, J.a.createElement("span", {
                    className: "iconWrapper sale"
                }, J.a.createElement(In.a, {
                    src: n(476),
                    width: 20
                })), J.a.createElement("span", null, "特价"))), J.a.createElement("li", null, J.a.createElement(qn.a, {
                    to: "/pub/features/free",
                    "data-za-detail-view-name": "免费"
                }, J.a.createElement("span", {
                    className: "iconWrapper free"
                }, J.a.createElement(In.a, {
                    src: n(477),
                    width: 18
                })), J.a.createElement("span", null, "免费"))), J.a.createElement("li", null, J.a.createElement(qn.a, {
                    to: "/pub/ranking",
                    zh_navigation_bar_type: "back_title_search",
                    zh_nav_left: "arrow",
                    zh_nav_right: "search",
                    "data-za-detail-view-name": "榜单",
                    useHybridInApp: !0
                }, J.a.createElement("span", {
                    className: "iconWrapper top"
                }, J.a.createElement(In.a, {
                    src: n(478),
                    width: 18
                })), J.a.createElement("span", null, "榜单"))), J.a.createElement("li", null, J.a.createElement(qn.a, {
                    to: "/pub/zhihu",
                    "data-za-detail-view-name": "知乎出品"
                }, J.a.createElement("span", {
                    className: "iconWrapper zhihu"
                }, J.a.createElement(In.a, {
                    src: n(479),
                    width: 20
                })), J.a.createElement("span", null, "知乎出品")))))
            }

            function dr(e) {
                switch (e.type) {
                    case "banner":
                        return J.a.createElement(Fn, e);
                    case "feature":
                        return J.a.createElement(zn.a, e);
                    case "special":
                        return J.a.createElement(Yn, e);
                    case "category":
                        return J.a.createElement(br, null);
                    case "preferencePackage":
                        return J.a.createElement(nr, e);
                    case "audiobook":
                        return J.a.createElement(or.a, e);
                    default:
                        return null
                }
            }

            var yr = "https://www.zhihu.com/static/img/wechat-share-image.png"
                , hr = "千万网友都在读的《知乎周刊》《知乎·一小时》，就在「知乎书店」，每周还有优惠放送哦"
                , vr = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = sr(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== cr(o) && "function" != typeof o ? pr(r) : o,
                        mr(pr(pr(n)), "state", {
                            showHomeItem: !1
                        }),
                        mr(pr(pr(n)), "handleChangeSectionContent", function (e) {
                            return n.props.dispatch(function (e) {
                                return function (t, n) {
                                    var r = n().home.data.find(function (t) {
                                        return t.id === e
                                    })
                                        , o = r.limit || r.books.length || 3
                                        , a = "number" == typeof r.offset ? r.offset : r.books.length;
                                    return t({
                                        API: {
                                            types: yt.CHANGE_SECTION,
                                            endpoint: "v3/books/features/".concat(e),
                                            query: {
                                                limit: o,
                                                offset: a
                                            }
                                        },
                                        id: e,
                                        offset: a,
                                        limit: o
                                    })
                                }
                            }(e))
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && fr(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props
                            , t = e.ua
                            , n = e.dispatch
                            , r = e.data
                            , o = e.packageData;
                        Promise.all([!r && n(ht()), !o && n(vt())]),
                        t.Zhihu && n(Object(Me.d)())
                    }
                }, {
                    key: "renderBottomTabs",
                    value: function () {
                        return this.props.ua.Zhihu ? null : J.a.createElement(rr.a, null)
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.audioBooks
                            , r = t.packageData
                            , o = ur(t, ["audioBooks", "packageData"])
                            , a = (this.props.data || []).slice();
                        return Object(pt.i)(a) ? (n.items && a.splice(3, 0, {
                            name: "有声书",
                            type: "audiobook",
                            books: n.items,
                            url: "https://www.zhihu.com/pub/audiobook/list"
                        }),
                        r && a.splice(4, 0, {
                            name: "特惠打包",
                            type: "preferencePackage",
                            packageData: r
                        }),
                            J.a.createElement("div", {
                                className: "MPub"
                            }, J.a.createElement(Nn.a, {
                                title: "知乎书店",
                                meta: [{
                                    property: "og:image",
                                    content: yr
                                }, {
                                    property: "og:description",
                                    content: hr
                                }]
                            }), J.a.createElement(An.a, {
                                title: "上知乎书店，读点有用的~",
                                desc: hr
                            }), J.a.createElement(xn.b, {
                                title: "",
                                closeButton: null
                            }, J.a.createElement("div", {
                                className: "tip"
                            }, "请升级 APP 后继续进行浏览")), a.map(function (t, n) {
                                return J.a.createElement(dr, Object.assign({}, o, {
                                    handleChangeSectionContent: e.handleChangeSectionContent
                                }, t, {
                                    imageDefer: n > 3 && "inview",
                                    key: n
                                }))
                            }), this.renderBottomTabs())) : this.renderBottomTabs()
                    }
                }]) && lr(n.prototype, r),
                o && lr(n, o),
                    t
            }();
            vr.fetchData = function (e) {
                var t = e.dispatch;
                return Promise.all([t(ht()), t(vt())])
            }
                ,
                vr.css = ir.a;
            var gr = Object(te.b)(function (e) {
                return function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {}
                            , r = Object.keys(n);
                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                        }))),
                            r.forEach(function (t) {
                                mr(e, t, n[t])
                            })
                    }
                    return e
                }({}, e.home, {
                    audioBooks: e.audioBook.recommend || {},
                    ua: e.env.userAgent
                })
            })(vr)
                , Or = n(335)
                , Er = n(337)
                , wr = n(2)
                , Sr = n.n(wr)
                , Pr = n(25)
                , kr = n(87)
                , jr = n(21);

            function _r(e) {
                return (_r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Tr(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Cr(e) {
                return (Cr = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Nr(e, t) {
                return (Nr = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Ir(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function Ar(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var xr = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = Cr(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== _r(o) && "function" != typeof o ? Ir(r) : o,
                        Ar(Ir(Ir(n)), "loadMore", function () {
                            n.props.dispatch(Object(Ye.b)(n.props.token))
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Nr(e, t)
                }(t, J.a.Component),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.items
                            , n = e.isFetching
                            , r = e.isDrained;
                        return J.a.createElement("div", {
                            className: Sr()("PubIndex-main", {
                                "is-drained": r
                            })
                        }, J.a.createElement(Pr.b, {
                            isLoading: n,
                            isDrained: r,
                            onLoad: this.loadMore,
                            placeholder: jr.a
                        }, J.a.createElement(kr.a, {
                            items: t
                        })))
                    }
                }]) && Tr(n.prototype, r),
                o && Tr(n, o),
                    t
            }();

            function Dr(e) {
                function t(t) {
                    return J.a.createElement(xr, Object.assign({}, t, {
                        token: e
                    }))
                }

                return t.fetchData = xr.fetchData.bind(null, {
                    token: e
                }),
                    Object(te.b)(function (t) {
                        return t.features[e]
                    })(t)
            }

            Ar(xr, "fetchData", function (e) {
                var t = e.token;
                return Object(Ye.b)(t, {
                    limit: 5
                })
            });
            var Rr = Dr("sale")
                , Lr = Dr("free")
                , Br = Dr("top")
                , Mr = n(17)
                , Gr = function (e, t) {
                if (!e || !t)
                    return e ? 1 : t ? -1 : 0;
                e = e.toString(),
                    t = t.toString(),
                    e = e.split("-")[0],
                    t = t.split("-")[0],
                    e = e.split(".").map(function (e) {
                        return Number(e)
                    }),
                    t = t.split(".").map(function (e) {
                        return Number(e)
                    });
                for (var n = Math.min(e.length, t.length), r = 0; r < n; r++) {
                    if (e[r] > t[r])
                        return 1;
                    if (e[r] < t[r])
                        return -1
                }
                return e.length - t.length
            }
                , Ur = {
                gt: function (e, t) {
                    return Gr(e, t) > 0
                },
                lt: function (e, t) {
                    return Gr(e, t) < 0
                },
                eq: function (e, t) {
                    return 0 === Gr(e, t)
                },
                gte: function (e, t) {
                    return Gr(e, t) >= 0
                },
                lte: function (e, t) {
                    return Gr(e, t) <= 0
                }
            }
                , Fr = n(9)
                , zr = n(8);

            function qr(e) {
                return J.a.createElement("svg", Object.assign({
                    width: "400",
                    height: "90",
                    viewBox: "0 0 400 90",
                    xmlns: "http://www.w3.org/2000/svg"
                }, e), J.a.createElement("title", null, "Mask"), J.a.createElement("path", {
                    d: "M121.963 39.046a.702.702 0 0 1-.613-.353c-2.583-4.52-4.91-9.842-6.254-17.177a.709.709 0 0 1 .695-.834h13.59c.347 0 .637.25.69.595.878 5.694 3.266 12.715 4.9 16.807a.702.702 0 0 1-.654.962h-12.354zm74.963 3.97c.437 0 .768.394.693.823l-1.71 9.93a.704.704 0 0 1-.694.584h-32.334v18.199c0 9.756-4.48 14.498-13.697 14.498h-18.506a.703.703 0 0 1-.69-.565l-1.75-8.726a.704.704 0 0 1 .69-.842h10.623c1.696 0 2.962-.44 3.763-1.311.805-.874 1.142-2.181 1.004-3.857V54.353h-34.252a.704.704 0 0 1-.693-.584l-1.712-9.93a.703.703 0 0 1 .693-.823h35.964v-26.05h-30.16a.704.704 0 0 1-.693-.584L111.622 5.75a.7.7 0 0 1 .696-.824c5.542.06 37.004.375 50.235-.009 14.249-.413 20.377-1.446 30.084-3.357a.707.707 0 0 1 .844.69v10.67a.707.707 0 0 1-.543.69c-9.765 2.308-20.479 3.094-26.996 3.188-1.592.024-2.532.047-3.061.069v.098c.045 0 .074.002.074.002h-.074v26.05h34.045zm-20.363-22.334h13.59c.44 0 .775.402.695.834-1.344 7.336-3.672 12.657-6.255 17.177a.705.705 0 0 1-.612.354h-12.354a.702.702 0 0 1-.653-.964c1.632-4.091 4.02-11.111 4.899-16.807a.696.696 0 0 1 .69-.594zm201.25 46.379a.703.703 0 0 1-.703.703h-13.945a.704.704 0 0 1-.703-.703V8.606c0-.389.315-.704.703-.704h13.945c.389 0 .703.315.703.704V67.06zm-20.125-29.773c.433 0 .764.388.694.817l-1.619 9.95a.704.704 0 0 1-.694.59h-12.274v27.887c0 6.019-4.88 10.899-10.898 10.899h-5.357a.704.704 0 0 1-.703-.704V48.646h-13.07a.702.702 0 0 1-.694-.59l-1.62-9.951a.704.704 0 0 1 .694-.817h14.69V15.085h-10.805a.705.705 0 0 1-.695-.593l-1.518-9.55a.704.704 0 0 1 .696-.813h41.165c.434 0 .764.386.696.813l-1.517 9.55a.705.705 0 0 1-.696.593h-10.368v22.203h13.893zm41.597-36.11c.39 0 .704.315.704.704v73.37c.126 4.095-.82 7.18-2.812 9.174-2.055 2.059-5.302 3.037-9.68 2.906H373.54a.704.704 0 0 1-.68-.524l-2.31-8.725a.704.704 0 0 1 .68-.884h9.041c3.277 0 3.964-1.938 3.964-3.563V1.882c0-.389.316-.704.704-.704h14.346zM296.132 2.79c.389 0 .703.316.703.704v72.158c0 7.343-5.953 13.296-13.295 13.296h-2.336a.703.703 0 0 1-.704-.704v-74.92h-16.98v7.014h12.297c.432 0 .763.389.694.816l-1.409 8.726a.703.703 0 0 1-.694.592h-10.889v6.22h13.624c.434 0 .764.388.695.816l-1.409 8.725a.704.704 0 0 1-.694.592H234.07a.703.703 0 0 1-.695-.592l-1.408-8.725a.703.703 0 0 1 .694-.816h14.308v-6.22h-10.907a.703.703 0 0 1-.694-.592l-1.408-8.726a.703.703 0 0 1 .695-.816h12.314v-7.014h-17.562v44.082c0 17.78-5.163 25.99-20.348 31.966a.71.71 0 0 1-.94-.47l-2.21-8a.706.706 0 0 1 .24-.732c4.372-3.611 7.505-12.924 7.505-23.469V3.493c0-.388.315-.704.704-.704h81.774zm-20.17 49.854v16.706c.178 5.926-1.782 9.713-5.99 11.58-1.952.865-4.41 1.303-7.304 1.303H235.23a.704.704 0 0 1-.704-.704V52.643c0-.388.316-.704.704-.704h40.03c.388 0 .703.316.703.704zm-15.65 18.85c.875-.867 1.246-2.277 1.102-4.161v-5.26h-12.74V72.5h7.959c.232.02.456.029.672.029 1.303 0 2.313-.348 3.007-1.036zM93.225 7.293c.389 0 .704.314.704.703v61.763c.132 5.228-1.046 9.123-3.503 11.576-2.328 2.325-5.89 3.442-10.595 3.315H53.57a.703.703 0 0 1-.704-.704V7.996c0-.39.316-.704.704-.704h39.654zm-15.872 65.51c.941-.934 1.346-2.444 1.203-4.463V18.225H68.24V73.91h5.135c.234.018.46.026.68.026 1.431 0 2.538-.38 3.298-1.134zM46.368 50.46h-7.945c4.091 9.322 9.362 19.858 12.298 34.022.085.407-.268.777-.683.79l-9.63.245a.7.7 0 0 1-.703-.536c-.633-2.69-1.618-5.882-4.283-11.902-1.558-3.517-3.915-7.899-5.929-10.958-2.643 4.622-5.996 10.576-10.77 15.017-5.127 4.77-9.762 8.681-15.42 11.258a.709.709 0 0 1-.963-.425l-1.963-8.01a.7.7 0 0 1 .236-.77c4.244-3.301 7.866-7.258 11.557-12.933 3.744-5.76 5.508-11.348 6.588-15.798l-12.25.008a.704.704 0 0 1-.696-.598L4.188 39.715a.704.704 0 0 1 .696-.81h14.744l.753-20.372-3.597-.003C14.45 23.624 9.644 30.39 2.709 33.332a.703.703 0 0 1-.945-.474L.024 25.88a.69.69 0 0 1 .128-.61C4.276 20.04 6.728 12.818 6.892.699A.706.706 0 0 1 7.595 0H19.72c.42 0 .745.36.7.777-.17 1.594-.524 4.258-.805 6.333h27.544c.444 0 .777.406.69.842l-2.122 10.016a.704.704 0 0 1-.69.565h-8.614l-.42 20.373h12.05c.433 0 .762.386.695.812l-1.684 10.149a.704.704 0 0 1-.696.594z",
                    fill: "#444",
                    fillRule: "evenodd"
                }))
            }

            n(737);

            function Hr(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Wr(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var Vr = {
                type: "success",
                title: "",
                message: "",
                autoHideTime: 2e3,
                onClose: function () {
                }
            }
                , Kr = function () {
                function e() {
                    var t = this;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, e),
                        Wr(this, "pop", function (e) {
                            e = Object.assign({}, Vr, e, {
                                close: function () {
                                    t.dispose()
                                }
                            }),
                                document.body.appendChild(t.getContainer()),
                                ee.a.render(J.a.createElement(Yr, e), t.getContainer()),
                                t.autoHideTimer = setTimeout(function () {
                                    t.dispose(),
                                        e.onClose()
                                }, e.autoHideTime)
                        }),
                        Wr(this, "dispose", function () {
                            try {
                                ee.a.unmountComponentAtNode(t.getContainer()),
                                    document.body.removeChild(t.getContainer())
                            } catch (e) {
                            }
                            clearTimeout(t.autoHideTimer)
                        })
                }

                var t, n, r;
                return t = e,
                (n = [{
                    key: "getContainer",
                    value: function () {
                        if (document) {
                            if (this.container)
                                return this.container;
                            var e = document.createElement("div");
                            return e.className = "PubToast-container",
                                this.container = e,
                                e
                        }
                    }
                }]) && Hr(t.prototype, n),
                r && Hr(t, r),
                    e
            }()
                , Yr = function (e) {
                var t = e.title
                    , r = e.message
                    , o = e.type;
                return J.a.createElement("div", {
                    className: "content"
                }, "success" === o && J.a.createElement(In.a, {
                    src: n(480),
                    className: "Icon",
                    width: 20,
                    height: 16
                }), J.a.createElement("div", {
                    className: "title"
                }, t), J.a.createElement("div", {
                    className: "message"
                }, r))
            }
                , Zr = new Kr
                , Qr = n(34)
                , Xr = n(404)
                , Jr = n.n(Xr);
            var $r = n(405)
                , eo = n.n($r);

            function to(e) {
                return (to = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function no(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = null != arguments[t] ? arguments[t] : {}
                        , r = Object.keys(n);
                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                    }))),
                        r.forEach(function (t) {
                            co(e, t, n[t])
                        })
                }
                return e
            }

            function ro(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function oo(e) {
                return (oo = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function ao(e, t) {
                return (ao = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function io(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function co(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var uo = Sn.d.pageSize
                , lo = Jr.a.replace(/^\/\//, "https://")
                , so = "现在「订阅」知乎周刊，每周四准时为你更新，从此不再与好内容擦肩而过！"
                , fo = function (e) {
                function t(e, n) {
                    var r, o, a;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        o = this,
                        a = oo(t).call(this, e, n),
                        r = !a || "object" !== to(a) && "function" != typeof a ? io(o) : a,
                        co(io(io(r)), "onSubscribeClick", function () {
                            var e = r.props
                                , t = e.allWeekly.isSubscribed
                                , n = e.dispatch;
                            n((t ? ln : un)()).then(function (e) {
                                e.res.ok && (n({
                                    type: rn.WEEKLY_TOGGLE_SUBSCRIBE_STATUS
                                }),
                                t || Zr.pop({
                                    title: r.supportBookCase ? Sn.a.successTitle : Sn.d.successTitle,
                                    message: Sn.d.successMessage
                                }))
                            })
                        }),
                        co(io(io(r)), "onPageChange", function (e, t) {
                            var n, o = e.offset, a = e.limit;
                            r.setState({
                                currentPage: t
                            }),
                                r.props.dispatch((n = {
                                        offset: o,
                                        limit: a
                                    },
                                        function (e, t) {
                                            return e({
                                                API: {
                                                    types: rn.GET_WEEKLY,
                                                    endpoint: "v3/books/collections/weekly",
                                                    query: n
                                                },
                                                query: n
                                            })
                                        }
                                ))
                        }),
                        co(io(io(r)), "renderPagination", function () {
                            var e = r.state.currentPage;
                            return function (e, t) {
                                for (var n = Math.floor(e / t), r = e % t, o = [], a = 0; a < n; a++) {
                                    var i = t * a + 1
                                        , c = t * (a + 1);
                                    o.push({
                                        limit: t,
                                        offset: e - c,
                                        content: "".concat(i, "-").concat(c)
                                    })
                                }
                                return r && o.push({
                                    offset: 0,
                                    limit: r,
                                    content: "".concat(n * t + 1, "-").concat(e)
                                }),
                                    o.reverse()
                            }(r.props.allWeekly.totals, uo).map(function (t, n) {
                                return J.a.createElement("span", {
                                    key: n,
                                    className: Sr()("label", {
                                        current: e === n
                                    }),
                                    onClick: function () {
                                        return r.onPageChange(t, n)
                                    }
                                }, t.content, " 期")
                            })
                        }),
                        co(io(io(r)), "onFilterTouchStart", function () {
                            r.supportsDisableTouchEvent && Mr.a.dispatch("base/disableTouchEvent")
                        }),
                        co(io(io(r)), "onFilterTouchEnd", function () {
                            r.supportsEnableTouchEvent && Mr.a.dispatch("base/enableTouchEvent")
                        }),
                        co(io(io(r)), "loadMore", function () {
                            r.props.dispatch(on())
                        }),
                        r.state = {
                            currentPage: "all"
                        },
                        r.onSubscribeClick = n.authRequired(r.onSubscribeClick.bind(io(io(r))), []),
                        r
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && ao(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this;
                        this.props.ua.Zhihu && (Mr.a.supportsAction("base/enableTouchEvent").then(function (t) {
                            e.supportsEnableTouchEvent = t
                        }),
                            Mr.a.supportsAction("base/disableTouchEvent").then(function (t) {
                                e.supportsDisableTouchEvent = t
                            }))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.pagedWeekly
                            , r = n.data
                            , o = n.isFetching
                            , a = t.ua
                            , i = this.props.allWeekly
                            , c = i.latestBook
                            , u = i.subscribeCount
                            , l = i.readCount
                            , s = i.totals
                            , f = i.isSubscribed
                            , p = i.items
                            , m = i.isFetching
                            , b = i.isDrained
                            , d = "all" === this.state.currentPage
                            , y = d ? p : r || [];
                        return J.a.createElement("div", {
                            className: "Pub-Weekly"
                        }, J.a.createElement(Nn.a, {
                            title: "知乎周刊",
                            meta: [{
                                property: "og:image",
                                content: lo
                            }, {
                                property: "og:title",
                                content: "千万人都在读的「知乎周刊」，可以「订阅」啦~"
                            }, {
                                property: "og:description",
                                content: so
                            }]
                        }), J.a.createElement(An.a, {
                            title: "千万人都在读的「知乎周刊」，可以「订阅」啦~",
                            desc: so,
                            imgUrl: lo,
                            link: "https://www.zhihu.com/pub/weekly"
                        }), J.a.createElement(Fr.c, {
                            className: "Weekly-info"
                        }, J.a.createElement(qr, {
                            className: "h1",
                            width: 200,
                            height: 40
                        }), J.a.createElement("p", {
                            className: "totals"
                        }, "共 ", s, " 期 · ", Sn.d.updateMessage), J.a.createElement("p", {
                            className: "statistic"
                        }, u ? u.toLocaleString() : "", " 人订阅 · ", l ? l.toLocaleString() : "", " 人读过"), J.a.createElement("p", {
                            className: "Weekly-description"
                        }, Sn.d.weeklyDescription), J.a.createElement("div", {
                            className: "Weekly-actions"
                        }, a.Zhihu ? J.a.createElement(qn.a, {
                            component: "a",
                            to: "/pub/reader/".concat(c),
                            className: "Secondary-button Button"
                        }, "阅读最新一期") : J.a.createElement(ne.c, {
                            className: "Secondary-button Button OpenInApp",
                            to: "/pub/"
                        }, "去知乎书店看好书"), J.a.createElement(zr.c, {
                            className: Sr()("SubscribeButton", {
                                isSubscribed: f
                            }),
                            onClick: this.onSubscribeClick
                        }, f ? this.supportBookCase ? "已加入书架" : "已订阅" : this.supportBookCase ? "加入书架" : "免费订阅"))), J.a.createElement(Fr.c, {
                            className: "Weekly-books"
                        }, J.a.createElement(Fr.a, {
                            className: Sr()("Weekly-books-header")
                        }, J.a.createElement("div", {
                            className: "Filter-items"
                        }, J.a.createElement("div", {
                            className: "Filter-labels",
                            onTouchStart: this.onFilterTouchStart,
                            onTouchEnd: this.onFilterTouchEnd
                        }, J.a.createElement("span", {
                            className: Sr()("label", {
                                current: d
                            }),
                            onClick: function () {
                                e.setState({
                                    currentPage: "all"
                                })
                            }
                        }, "全部"), p.length > 0 && this.renderPagination()))), d ? J.a.createElement(Pr.b, {
                            isLoading: m,
                            isDrained: b,
                            onLoad: this.loadMore,
                            placeholder: jr.a
                        }, J.a.createElement("ul", {
                            className: "WeeklyList"
                        }, p.map(function (e, t) {
                            return J.a.createElement(Qr.b, {
                                component: Fr.b,
                                key: e.id,
                                book: no({}, e, {
                                    urlSearch: "?".concat(Object(pt.g)(e.id, y))
                                }),
                                hasButton: !0,
                                imageDefer: t > 3 && "inview"
                            })
                        }))) : J.a.createElement("div", {
                            className: "WeeklyList"
                        }, o ? jr.a : Array.isArray(r) && r.map(function (e, t) {
                            return J.a.createElement(Qr.b, {
                                component: Fr.b,
                                key: e.id,
                                book: no({}, e, {
                                    urlSearch: "?".concat(Object(pt.g)(e.id, y))
                                }),
                                hasButton: !0,
                                imageDefer: t > 3 && "inview"
                            })
                        }))))
                    }
                }, {
                    key: "supportBookCase",
                    get: function () {
                        var e = this.props.ua;
                        return e.Zhihu && (Ur.gte(e.ZhihuIOSVersionName, "6.5") || Ur.gte(e.ZhihuAndroidVersionName, "6.5"))
                    }
                }]) && ro(n.prototype, r),
                o && ro(n, o),
                    t
            }();
            co(fo, "fetchData", function () {
                return on()
            }),
                co(fo, "contextTypes", {
                    currentUser: Qn.a.object,
                    authRequired: Qn.a.func
                }),
                fo.css = eo.a;
            var po = Object(te.b)(function () {
                return function (e) {
                    return no({}, e.weekly, {
                        ua: e.env.userAgent
                    })
                }
            })(fo);

            function mo(e) {
                return (mo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function bo(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function yo(e) {
                return (yo = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function ho(e, t) {
                return (ho = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function vo(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function go(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var Oo = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = yo(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== mo(o) && "function" != typeof o ? vo(r) : o,
                        go(vo(vo(n)), "loadMore", function () {
                            n.props.dispatch($e(n.props.token))
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && ho(e, t)
                }(t, J.a.Component),
                    n = t,
                (r = [{
                    key: "renderTabs",
                    value: function () {
                        return J.a.createElement("div", {
                            className: "PubIndex-subTabs"
                        }, J.a.createElement(ne.c, {
                            to: "/pub/zhihu/weekly",
                            activeClassName: "is-active"
                        }, "知乎周刊"), J.a.createElement(ne.c, {
                            to: "/pub/zhihu/hour",
                            activeClassName: "is-active"
                        }, "一小时"), J.a.createElement(ne.c, {
                            to: "/pub/zhihu/nacl",
                            activeClassName: "is-active"
                        }, "知乎 · 盐"))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.items
                            , n = e.isFetching
                            , r = e.isDrained
                            , o = e.token
                            , a = e.ua
                            , i = "weekly" === o && (a.Mobile || a.Android);
                        return J.a.createElement("div", {
                            className: Sr()("PubIndex-main", {
                                "is-drained": r
                            })
                        }, this.renderTabs(), i ? J.a.createElement(po, null) : J.a.createElement(Pr.b, {
                            isLoading: n,
                            isDrained: r,
                            onLoad: this.loadMore,
                            placeholder: jr.a
                        }, J.a.createElement(kr.a, {
                            items: t
                        })))
                    }
                }]) && bo(n.prototype, r),
                o && bo(n, o),
                    t
            }();

            function Eo(e) {
                function t(t) {
                    return J.a.createElement(Oo, Object.assign({}, t, {
                        token: e
                    }))
                }

                return t.fetchData = Oo.fetchData.bind(null, {
                    token: e
                }),
                    Object(te.b)(function (t) {
                        var n = t.env;
                        return function (e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {}
                                    , r = Object.keys(n);
                                "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                                }))),
                                    r.forEach(function (t) {
                                        go(e, t, n[t])
                                    })
                            }
                            return e
                        }({}, t.collections[e], {
                            ua: n.userAgent
                        })
                    })(t)
            }

            go(Oo, "fetchData", function (e) {
                return $e(e.token, {
                    limit: 5
                })
            });
            var wo = Eo("nacl")
                , So = Eo("hour")
                , Po = Eo("weekly")
                , ko = n(406);
            var jo = n(16)
                , _o = n(410)
                , To = n.n(_o);

            function Co(e) {
                return (Co = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function No(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Io(e, t) {
                return !t || "object" !== Co(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function Ao(e) {
                return (Ao = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function xo(e, t) {
                return (xo = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var Do = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        Io(this, Ao(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && xo(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        this.props.categories || this.props.dispatch(Object(Ke.b)(!0))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.categories
                            , n = e.ua;
                        return J.a.createElement("div", null, J.a.createElement(jo.a, {
                            title: "分类"
                        }), J.a.createElement(Hn.a, {
                            module: "ContentList"
                        }, J.a.createElement("ul", {
                            className: "MPub-Categories"
                        }, Array.isArray(t) && t.map(function (e) {
                            return J.a.createElement(Hn.a, {
                                key: e.id,
                                module: "EBookCategoryItem",
                                moduleName: e.name,
                                content: {
                                    type: "EBookCategory",
                                    id: String(e.id)
                                },
                                trackCardShow: !0
                            }, J.a.createElement("li", null, J.a.createElement(qn.a, {
                                to: "/pub/category/".concat(e.id),
                                zh_navigation_bar_type: "back_title_search",
                                zh_nav_left: "arrow",
                                zh_nav_right: "search",
                                useHybridInApp: !0
                            }, J.a.createElement("div", {
                                className: "title"
                            }, J.a.createElement("div", null, J.a.createElement("h3", null, e.name), J.a.createElement("span", null, "共 ", e.totals, " 本书")), J.a.createElement("div", {
                                className: "covers"
                            }, Array.isArray(e.topBooks) && e.topBooks.map(function (e, t) {
                                return J.a.createElement("div", {
                                    key: t,
                                    className: "cover",
                                    style: {
                                        backgroundImage: "url(".concat(e.cover, ")")
                                    }
                                })
                            }))), J.a.createElement("div", {
                                className: "top-books"
                            }, Array.isArray(e.topBooks) && e.topBooks.map(function (e) {
                                return J.a.createElement("span", {
                                    key: e.id
                                }, e.title)
                            })))))
                        }))), !n.Zhihu && J.a.createElement(rr.a, null))
                    }
                }]) && No(n.prototype, r),
                o && No(n, o),
                    t
            }();
            Do.fetchData = function () {
                return Object(Ke.b)(!0)
            }
                ,
                Do.css = To.a;
            var Ro = Object(te.b)(function (e) {
                return {
                    categories: e.categories.index,
                    ua: e.env.userAgent
                }
            })(Do)
                , Lo = n(411)
                , Bo = n(85)
                , Mo = n.n(Bo);

            function Go(e) {
                return (Go = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Uo(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Fo(e) {
                return (Fo = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function zo(e, t) {
                return (zo = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function qo(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var Ho = function (e) {
                function t() {
                    var e, n, r, o, a, i, c;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var u = arguments.length, l = new Array(u), s = 0; s < u; s++)
                        l[s] = arguments[s];
                    return r = this,
                        o = (e = Fo(t)).call.apply(e, [this].concat(l)),
                        n = !o || "object" !== Go(o) && "function" != typeof o ? qo(r) : o,
                        a = qo(qo(n)),
                        c = function () {
                            var e = n.props;
                            (0,
                                e.dispatch)((0,
                                e.loadAction)())
                        }
                        ,
                        (i = "loadMore") in a ? Object.defineProperty(a, i, {
                            value: c,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : a[i] = c,
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && zo(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "checkBooksZaView",
                    value: function () {
                        this.featureSection.checkBooksZaView()
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.name
                            , r = t.getContainer
                            , o = t.extraInfo
                            , a = t.data
                            , i = a.items
                            , c = void 0 === i ? [] : i
                            , u = a.isFetching
                            , l = void 0 !== u && u
                            , s = a.isDrained
                            , f = void 0 !== s && s
                            , p = t.onRef;
                        return c.extraInfo = o,
                            J.a.createElement(Pr.b, {
                                isLoading: l,
                                isDrained: f,
                                onLoad: this.loadMore,
                                placeholder: jr.a,
                                getContainer: r,
                                ref: function () {
                                    p && p(e)
                                }
                            }, J.a.createElement(zn.a, {
                                name: n,
                                books: c,
                                displayType: "VERTICAL",
                                getContainer: r,
                                ref: function (t) {
                                    e.featureSection = t
                                }
                            }))
                    }
                }]) && Uo(n.prototype, r),
                o && Uo(n, o),
                    t
            }()
                , Wo = Object(te.b)(function (e, t) {
                return {
                    data: Mo()(e, t.stateKey) || {}
                }
            })(Ho)
                , Vo = n(88)
                , Ko = n.n(Vo)
                , Yo = n(64)
                , Zo = n(413)
                , Qo = n.n(Zo);

            function Xo(e) {
                return (Xo = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Jo(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function $o(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function ea(e) {
                return (ea = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function ta(e, t) {
                return (ta = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function na(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function ra(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var oa = function (e) {
                function t(e) {
                    var n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        r = this,
                        o = ea(t).call(this, e),
                        n = !o || "object" !== Xo(o) && "function" != typeof o ? na(r) : o,
                        ra(na(na(n)), "onResize", function () {
                            n.setState({
                                winWidth: document.documentElement.clientWidth
                            })
                        }),
                        ra(na(na(n)), "getViewWrapper", function () {
                            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : n.state.index
                                , t = Object($.findDOMNode)(na(na(n)));
                            return t && t.getElementsByClassName("view-wrapper")[e]
                        }),
                        ra(na(na(n)), "container", function (e) {
                            for (var t, r = e.cursor, o = (e.carouselState,
                                Jo(e, ["cursor", "carouselState"])), a = n.state.winWidth, i = n.props, c = i.className, u = i.getTabName, l = n.views.length, s = r * a, f = "".concat((100 / l).toFixed(2), "%"), p = Math.min(Math.max(-r * a / l, 0), a * (l - 1) / l), m = 0; m < l; m++)
                                if (r >= -m - .5 && r < .5 - m) {
                                    t = m;
                                    break
                                }
                            return J.a.createElement("div", {
                                className: Sr()("tab-view", c)
                            }, J.a.createElement("div", {
                                className: "tab-view-tabs"
                            }, n.views.map(function (e, r) {
                                return J.a.createElement("span", Object.assign({
                                    key: e.key,
                                    style: {
                                        width: f
                                    }
                                }, t === r && {
                                    className: "active"
                                }, {
                                    onClick: function () {
                                        n.setIndex(r)
                                    }
                                }), "function" == typeof u ? u(e.props) : e.props.name)
                            }), J.a.createElement("div", {
                                className: "active-bar",
                                style: {
                                    width: f,
                                    transform: "translateX(".concat(p, "px)")
                                }
                            })), J.a.createElement(Yo.a, {
                                className: "tab-view-container"
                            }, J.a.createElement(Yo.a, Object.assign({
                                className: "tab-view-track",
                                style: {
                                    transform: "translateX(".concat(s, "px)")
                                }
                            }, o))))
                        }),
                        ra(na(na(n)), "wrapView", function (e, t, r) {
                            return J.a.createElement("div", {
                                className: "view-wrapper",
                                key: e
                            }, n.views[e])
                        });
                    var a = e.query
                        , i = void 0 === a ? {} : a
                        , c = parseInt(i.index, 10) || 0;
                    return n.query = i,
                        n.views = [],
                        n.getScrollContainer = [],
                        n.state = {
                            index: c,
                            winWidth: 375
                        },
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && ta(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this;
                        this.onResize(),
                            window.addEventListener("resize", this.onResize),
                            Mr.a.supportsEvent("iOS/statusBarTap").then(function (t) {
                                t && Mr.a.listen("iOS/statusBarTap", function () {
                                    e.getViewWrapper().scrollTo(0, 0)
                                })
                            })
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function () {
                        window.removeEventListener("resize", this.onResize)
                    }
                }, {
                    key: "setIndex",
                    value: function (e) {
                        var t = parseInt(e, 10);
                        this.setState(function (e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {}
                                    , r = Object.keys(n);
                                "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                                }))),
                                    r.forEach(function (t) {
                                        ra(e, t, n[t])
                                    })
                            }
                            return e
                        }({}, this.state, {
                            index: t
                        })),
                            this.query.index = t,
                            window.history.replaceState({}, null, "".concat(location.pathname, "?").concat(Object(m.c)(this.query))),
                            this.touchCarousel.setCursor(-e)
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.state
                            , n = t.index
                            , r = t.winWidth
                            , o = this.props.onIndexChange;
                        return this.props.children.forEach(function (t, n) {
                            var r = e.getScrollContainer[n];
                            r || (r = e.getScrollContainer[n] = function () {
                                    return e.getViewWrapper(n)
                                }
                            ),
                                e.views[n] = J.a.cloneElement(t, {
                                    getContainer: r
                                })
                        }),
                            J.a.createElement(Ko.a, {
                                component: this.container,
                                cardSize: r,
                                cardCount: 3,
                                autoplay: 0,
                                loop: !1,
                                renderCard: this.wrapView,
                                defaultCursor: -n,
                                ignoreCrossMove: 3,
                                onRest: function (t, n) {
                                    e.setIndex(t),
                                    "function" == typeof o && o(t)
                                },
                                ref: function (t) {
                                    e.touchCarousel = t
                                }
                            })
                    }
                }]) && $o(n.prototype, r),
                o && $o(n, o),
                    t
            }();
            oa.css = Qo.a;
            var aa = oa
                , ia = n(414)
                , ca = n.n(ia);

            function ua(e) {
                return (ua = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function la(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function sa(e, t) {
                return !t || "object" !== ua(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function fa(e) {
                return (fa = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function pa(e, t) {
                return (pa = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var ma = function (e) {
                function t(e) {
                    var n;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        (n = sa(this, fa(t).call(this, e))).views = [],
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && pa(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.location.query
                            , r = t.features;
                        return J.a.createElement("div", {
                            className: "Mpub-ranking"
                        }, J.a.createElement(jo.a, {
                            title: "排行榜"
                        }), J.a.createElement(aa, {
                            query: n,
                            onIndexChange: function (t) {
                                var n = e.views[t];
                                n && n.checkBooksZaView()
                            }
                        }, r.map(function (t, n) {
                            var r = t.id
                                , o = t.name;
                            return J.a.createElement(Wo, {
                                key: n,
                                name: o,
                                stateKey: "features.".concat(r),
                                extraInfo: ["score", "rank_tag"],
                                loadAction: function () {
                                    return Object(Ye.b)(r)
                                },
                                onRef: function (t) {
                                    e.views[n] = t
                                }
                            })
                        })))
                    }
                }]) && la(n.prototype, r),
                o && la(n, o),
                    t
            }();
            ma.defaultProps = {
                features: [{
                    name: "免费榜",
                    id: 19550451
                }, {
                    name: "付费出版榜",
                    id: 19550458
                }, {
                    name: "知乎出品榜",
                    id: 19550454
                }]
            },
                ma.css = ca.a;
            var ba = ma
                , da = [J.a.createElement(ne.d, {
                path: "categories",
                component: Ro,
                key: "Categories",
                showAppHeader: !1,
                bodyClassName: "Pub-mobile-categories-body"
            }), J.a.createElement(ne.d, {
                path: "category/:id",
                component: Lo.a,
                key: "Category",
                showAppHeader: !1,
                bodyClassName: "Pub-mobile-category-body"
            }), J.a.createElement(ne.d, {
                path: "ranking",
                component: ba,
                key: "Ranking",
                showAppHeader: !1,
                bodyClassName: "Pub-white-body"
            })]
                , ya = n(86)
                , ha = n(415)
                , va = n.n(ha);

            function ga(e) {
                return (ga = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Oa(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Ea(e) {
                return (Ea = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function wa(e, t) {
                return (wa = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Sa(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var Pa = function (e) {
                function t() {
                    var e, n, r, o, a, i, c;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var u = arguments.length, l = new Array(u), s = 0; s < u; s++)
                        l[s] = arguments[s];
                    return r = this,
                        o = (e = Ea(t)).call.apply(e, [this].concat(l)),
                        n = !o || "object" !== ga(o) && "function" != typeof o ? Sa(r) : o,
                        a = Sa(Sa(n)),
                        c = function () {
                            n.props.dispatch(at())
                        }
                        ,
                        (i = "loadMore") in a ? Object.defineProperty(a, i, {
                            value: c,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : a[i] = c,
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && wa(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props.specialList
                            , t = e.items
                            , n = e.isFetching
                            , r = e.isDrained
                            , o = J.a.createElement(ya.a, {
                            className: "PubIndex-bookListSpinner"
                        });
                        return J.a.createElement("div", {
                            className: "MPub-SpecialsWrapper"
                        }, J.a.createElement(jo.a, {
                            title: "全部专题"
                        }), J.a.createElement(Pr.b, {
                            isLoading: n,
                            isDrained: r,
                            onLoad: this.loadMore,
                            placeholder: o
                        }, J.a.createElement("ul", {
                            className: "SpecialList"
                        }, Array.isArray(t) && t.map(function (e) {
                            return J.a.createElement("li", {
                                className: "ListItem",
                                key: e.id
                            }, J.a.createElement(ne.c, {
                                to: "/pub/specials/".concat(e.id)
                            }, J.a.createElement(Rn.a, {
                                src: e.cover,
                                alt: e.name,
                                width: "620",
                                height: "258"
                            }), J.a.createElement("h2", {
                                className: "ListItemTitle"
                            }, e.name), J.a.createElement("div", {
                                className: "ListItemInfo"
                            }, J.a.createElement("span", {
                                className: "Pv"
                            }, "人气：", e.pv), J.a.createElement("span", {
                                className: "UpdateDate"
                            }, Object(pt.c)(1e3 * e.lastUpdated, "YYYY-MM-DD")))))
                        }))))
                    }
                }]) && Oa(n.prototype, r),
                o && Oa(n, o),
                    t
            }();
            Pa.fetchData = function () {
                return at()
            }
                ,
                Pa.css = va.a;
            var ka = Object(te.b)(function (e) {
                return {
                    specialList: e.specialList
                }
            })(Pa)
                , ja = n(172)
                , _a = n.n(ja)
                , Ta = n(163)
                , Ca = n(417)
                , Na = n.n(Ca);

            function Ia(e) {
                return (Ia = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Aa(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function xa(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Da(e, t) {
                return !t || "object" !== Ia(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function Ra(e) {
                return (Ra = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function La(e, t) {
                return (La = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var Ba = function (e) {
                function t(e) {
                    var n;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        (n = Da(this, Ra(t).call(this, e))).state = {
                            fullShown: !1
                        },
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && La(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.content
                            , r = t.maxLine
                            , o = t.ellipsis
                            , a = t.className
                            , i = t.onFullShownClick
                            , c = t.useRawHTML
                            ,
                            u = Aa(t, ["content", "maxLine", "ellipsis", "className", "onFullShownClick", "useRawHTML"])
                            , l = this.state.fullShown;
                        return n ? l ? c ? J.a.createElement("div", Object.assign({
                            dangerouslySetInnerHTML: {
                                __html: n
                            },
                            className: Sr()("CollapsedMarkdown-full", "use-raw-html", a)
                        }, u)) : J.a.createElement(Ta.a, Object.assign({
                            content: n,
                            className: Sr()("CollapsedMarkdown-full", a)
                        }, u)) : J.a.createElement("div", Object.assign({
                            className: Sr()("CollapsedMarkdown-short", {
                                "use-raw-html": c
                            }, a),
                            style: {
                                WebkitLineClamp: r
                            },
                            onClick: function (t) {
                                e.setState({
                                    fullShown: !0
                                }),
                                    i(t)
                            }
                        }, u), J.a.createElement(_a.a, {
                            className: "CollapsedMarkdown-shortInner",
                            unsafeHTML: c ? n : Object(pt.k)(n),
                            maxLine: r,
                            ellipsis: o
                        })) : null
                    }
                }]) && xa(n.prototype, r),
                o && xa(n, o),
                    t
            }();
            Ba.defaultProps = {
                maxLine: 5,
                ellipsis: "... 查看更多",
                onFullShownClick: function () {
                }
            },
                Ba.css = Na.a;
            var Ma = Ba
                , Ga = n(101)
                , Ua = n(44)
                , Fa = n(418)
                , za = n.n(Fa);

            function qa(e) {
                return (qa = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Ha(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Wa(e) {
                return (Wa = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Va(e, t) {
                return (Va = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Ka(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function Ya(e) {
                return "//www.zhihu.com/qrcode?url=".concat(encodeURIComponent(e))
            }

            var Za = function (e) {
                function t() {
                    var e, n, r, o, a, i, c;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var u = arguments.length, l = new Array(u), s = 0; s < u; s++)
                        l[s] = arguments[s];
                    return r = this,
                        o = (e = Wa(t)).call.apply(e, [this].concat(l)),
                        n = !o || "object" !== qa(o) && "function" != typeof o ? Ka(r) : o,
                        a = Ka(Ka(n)),
                        c = function () {
                            var e = n.props.url
                                , t = n.props.text;
                            "function" == typeof t && (t = t()),
                                Object(pt.n)(t, e)
                        }
                        ,
                        (i = "handleShareWeibo") in a ? Object.defineProperty(a, i, {
                            value: c,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : a[i] = c,
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Va(e, t)
                }(t, J.a.Component),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        Object(pt.m)(Ya(this.props.url))
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function (e) {
                        this.props.url !== e.url && Object(pt.m)(Ya(this.props.url))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.tip
                            , n = e.url
                            , r = e.className;
                        return J.a.createElement("div", {
                            className: Sr()("PubPCShare", r)
                        }, t, J.a.createElement("ul", null, J.a.createElement("li", {
                            onClick: this.handleShareWeibo
                        }, J.a.createElement(Ua.a, {
                            name: "weibo",
                            width: 16,
                            height: 16,
                            fill: "#f96e76"
                        }), "新浪微博"), J.a.createElement("li", null, J.a.createElement(Ga.b, {
                            toggler: J.a.createElement("span", null, J.a.createElement(Ua.a, {
                                name: "wechat",
                                width: 16,
                                height: 16,
                                fill: "#7dd239"
                            }), "微信"),
                            reversed: !0
                        }, J.a.createElement(Ga.a, {
                            disabled: !0,
                            className: "PubPCShare-wechatMenu"
                        }, "扫一扫", J.a.createElement("img", {
                            src: Ya(n),
                            alt: "扫描二维码打开此页",
                            width: "94",
                            height: "94"
                        }))))))
                    }
                }]) && Ha(n.prototype, r),
                o && Ha(n, o),
                    t
            }();
            Za.defaultProps = {
                tip: "分享给好友："
            },
                Za.css = za.a;
            var Qa = Za
                , Xa = n(419)
                , Ja = n.n(Xa);

            function $a(e) {
                var t = e.specialList;
                return J.a.createElement("ul", {
                    className: "PubSpecial-specialList"
                }, t && t.map(function (e) {
                    return J.a.createElement("li", {
                        key: e.id
                    }, J.a.createElement(ne.c, {
                        to: "/pub/specials/".concat(e.id),
                        className: "PubSpecialEntry"
                    }, J.a.createElement(Rn.a, {
                        className: "PubSpecialEntry-cover",
                        src: e.cover,
                        alt: e.name,
                        width: "316",
                        height: "131"
                    })))
                }))
            }

            $a.css = Ja.a;
            var ei = $a
                , ti = n(173)
                , ni = n(143)
                , ri = n(421)
                , oi = n.n(ri);

            function ai(e) {
                return (ai = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function ii(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function ci(e) {
                return (ci = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function ui(e, t) {
                return (ui = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function li(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function si(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var fi = function (e) {
                function t(e, n) {
                    var r, o, a;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        o = this,
                        a = ci(t).call(this, e, n),
                        r = !a || "object" !== ai(a) && "function" != typeof a ? li(o) : a,
                        si(li(li(r)), "weiboText", function () {
                            var e = r.props.special;
                            return "#知乎书店# ".concat(e.name, "：").concat(e.description.slice(0, 40), "…… 点击查看专题：")
                        }),
                        si(li(li(r)), "handleGetCoupon", function (e) {
                            r.props.dispatch(Object(ft.b)("special", r.props.params.token, e)).then(function (e) {
                                var t = e.payload;
                                r.props.dispatch(Object(ni.c)(t.notification))
                            })
                        }),
                        r.handleGetCoupon = n.authRequired(r.handleGetCoupon.bind(li(li(r))), Sn.e.getCoupon),
                        r
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && ui(e, t)
                }(t, J.a.Component),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        this.props.special || this.props.dispatch(t.fetchData(this.props)),
                        this.props.specialList || this.props.dispatch(Object(tt.d)({
                            random: 1
                        })),
                        this.props.couponList || this.props.dispatch(Object(ft.c)("special", this.props.params.token))
                    }
                }, {
                    key: "componentWillReceiveProps",
                    value: function (e) {
                        e.params.token !== this.props.params.token && (this.props.dispatch(t.fetchData(e)),
                            this.props.dispatch(Object(tt.d)({
                                random: 1
                            })),
                            this.props.dispatch(Object(ft.c)("special", e.params.token)))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.special
                            , r = t.specialList
                            , o = t.couponsList;
                        return n ? J.a.createElement("div", {
                            className: "PubLayout"
                        }, J.a.createElement(Nn.a, {
                            title: n.name
                        }), J.a.createElement(An.a, {
                            title: n.name,
                            desc: n.description,
                            link: n.url
                        }), J.a.createElement(Fr.c, {
                            className: "PubLayout-main"
                        }, J.a.createElement(Rn.a, {
                            className: "PubLayout-fsImage",
                            src: n.cover,
                            width: "690",
                            height: "287",
                            quality: "70",
                            alt: "题图"
                        }), J.a.createElement("div", {
                            className: "PubLayout-mainInner"
                        }, J.a.createElement(Ma, {
                            key: n.id,
                            content: n.description,
                            className: "PubSpecial-intro"
                        }), J.a.createElement(Qa, {
                            className: "PubShare hide-sm",
                            tip: "将此专题分享给好友：",
                            text: this.weiboText,
                            url: n.url
                        }), Array.isArray(o) && o.length > 0 && J.a.createElement("ul", {
                            className: "PubCampaign-couponList"
                        }, o.map(function (t) {
                            return J.a.createElement("li", {
                                className: "PubCampaign-couponListItem",
                                key: t.urlToken
                            }, J.a.createElement(ti.a, Object.assign({}, t, {
                                onAcquire: e.handleGetCoupon
                            })))
                        })), J.a.createElement("ul", {
                            className: "PubSpecial-bookList"
                        }, n.data.map(function (e) {
                            return J.a.createElement("li", {
                                key: e.id
                            }, J.a.createElement(Qr.d, {
                                book: e
                            }))
                        })))), J.a.createElement(Fr.c, {
                            className: "PubLayout-side"
                        }, J.a.createElement(Fr.a, null, "更多专题"), J.a.createElement("div", {
                            className: "PubLayout-sideInner"
                        }, r && J.a.createElement(ei, {
                            specialList: r.filter(function (e) {
                                return e.id !== n.id
                            }).slice(0, 10)
                        })))) : null
                    }
                }]) && ii(n.prototype, r),
                o && ii(n, o),
                    t
            }();
            si(fi, "contextTypes", {
                authRequired: Qn.a.func,
                currentUser: Qn.a.object
            }),
                si(fi, "fetchData", function (e) {
                    var t = e.params.token;
                    return Object(tt.c)(t, {
                        limit: 30
                    })
                }),
                fi.css = oi.a;
            var pi = Object(te.b)(function (e, t) {
                return {
                    special: e.special.items[t.params.token],
                    specialList: e.special.list,
                    couponsList: e.coupons.special[t.params.token]
                }
            })(fi)
                , mi = J.a.createElement(ne.d, {
                path: "specials"
            }, J.a.createElement(ne.b, {
                component: ka
            }), J.a.createElement(ne.d, {
                path: ":token",
                component: pi
            }))
                , bi = n(45)
                , di = n.n(bi)
                , yi = n(252)
                , hi = n(423)
                , vi = n.n(hi)
                , gi = n(27)
                , Oi = n(91)
                , Ei = n(424)
                , wi = n.n(Ei);
            n(750);

            function Si(e) {
                return (Si = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Pi(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function ki(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function ji(e, t) {
                return !t || "object" !== Si(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function _i(e) {
                return (_i = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Ti(e, t) {
                return (Ti = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var Ci = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        ji(this, _i(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Ti(e, t)
                }(t, J.a.Component),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.text
                            , n = e.className
                            , r = Pi(e, ["text", "className"]);
                        return J.a.createElement(Oi.a, Object.assign({}, r, {
                            className: Sr()(n, "ShareInstructionArrow")
                        }), J.a.createElement("img", {
                            src: wi.a,
                            className: "ShareInstructionArrow-arrow",
                            width: "60",
                            height: "98",
                            alt: ""
                        }), J.a.createElement("div", {
                            className: "ShareInstructionArrow-text"
                        }, t))
                    }
                }]) && ki(n.prototype, r),
                o && ki(n, o),
                    t
            }();
            Ci.defaultProps = {
                text: "点击分享给朋友们"
            };
            var Ni = Ci
                , Ii = n(124)
                , Ai = n(425)
                , xi = n.n(Ai)
                , Di = n(426)
                , Ri = n.n(Di)
                , Li = n(427)
                , Bi = n.n(Li);

            function Mi(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function Gi(e) {
                return (Gi = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Ui(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Fi(e) {
                return (Fi = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function zi(e, t) {
                return (zi = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function qi(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function Hi(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            function Wi() {
                var e = function (e, t) {
                    t || (t = e.slice(0));
                    return Object.freeze(Object.defineProperties(e, {
                        raw: {
                            value: Object.freeze(t)
                        }
                    }))
                }(["赠礼将于", "后过期，请通知好友尽快领取"]);
                return Wi = function () {
                    return e
                }
                    ,
                    e
            }

            var Vi = function (e) {
                function t(e, n) {
                    var r, o, a;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        o = this,
                        a = Fi(t).call(this, e, n),
                        r = !a || "object" !== Gi(a) && "function" != typeof a ? qi(o) : a,
                        Hi(qi(qi(r)), "handleShare", function () {
                            r.supportsShareActionSheet ? Mr.a.dispatch("share/showShareActionSheet") : r.isWebView && r.setState({
                                shownShareArrow: !0
                            })
                        }),
                        Hi(qi(qi(r)), "handleDismissShareArrow", function () {
                            r.setState({
                                shownShareArrow: !1
                            })
                        }),
                        Hi(qi(qi(r)), "handleCloseModal", function () {
                            r.setState({
                                shownSuccessModal: !1
                            })
                        }),
                        Hi(qi(qi(r)), "handleAccept", function () {
                            var e, t, n, o = "1" === r.props.location.query.isNewGiftAccept;
                            r.props.dispatch((e = r.props.params.id,
                                t = o,
                                n = t ? {
                                    root: "https://api.zhihu.com/",
                                    endpoint: "trade/gift/".concat(e, "/receive")
                                } : {
                                    endpoint: "v3/books/gifts/".concat(e, "/actions/accept")
                                },
                                {
                                    API: ct({
                                        types: lt.ACCEPT_GIFT,
                                        method: "POST"
                                    }, n),
                                    id: e
                                })).then(function () {
                                return r.setState({
                                    shownSuccessModal: !0
                                })
                            })
                        }),
                        Hi(qi(qi(r)), "weiboText", function () {
                            var e = r.props.gift.book;
                            return "我赠送给你一本《".concat(e.title, "》，点击领取：")
                        }),
                        Hi(qi(qi(r)), "renderButton", function (e) {
                            var t = e.ownGift
                                , n = e.outed
                                , o = e.expired
                                , a = e.isOwn
                                , i = e.book;
                            return t ? n || o ? J.a.createElement(Yi, {
                                href: "/pub/book/".concat(i.id)
                            }, "书籍详情") : r.isWebView ? J.a.createElement(Yi, {
                                onClick: r.handleShare
                            }, "分享") : J.a.createElement(Qa, {
                                text: r.weiboText,
                                url: r.shareUrl
                            }) : a ? J.a.createElement(Yi, {
                                href: "/pub/book/".concat(i.id)
                            }, "前往阅读") : n || o ? J.a.createElement(Yi, {
                                href: "/pub/book/".concat(i.id)
                            }, "查看书籍详情") : J.a.createElement(Yi, {
                                onClick: function (e) {
                                    b.a.trackEvent(e.target, {
                                        action: "Receive",
                                        element: "Button"
                                    }),
                                        r.handleAccept()
                                }
                            }, "领取")
                        });
                    var i = r.props.ua;
                    return r.isWebView = i.isWebView,
                        r.isMobile = i.Mobile,
                        r.supportsShareActionSheet = !1,
                        r.state = {
                            shownShareArrow: !1,
                            shownSuccessModal: !1
                        },
                        r.handleAccept = n.authRequired(r.handleAccept.bind(qi(qi(r))), Sn.e.gift),
                        r
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && zi(e, t)
                }(t, J.a.Component),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this;
                        this.props.gift || this.props.dispatch(st(this.props.params.id)),
                        this.props.ua.Zhihu && Mr.a.supportsAction("share/showShareActionSheet").then(function (t) {
                            e.supportsShareActionSheet = t
                        })
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props.gift;
                        if (!e)
                            return null;
                        var t = e.book
                            , n = e.amount
                            , r = e.ownGift
                            , o = e.receivedAmount
                            , a = e.expiresAt
                            , i = e.receivers
                            , c = t.isOwn
                            , u = function (e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {}
                                    , r = Object.keys(n);
                                "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                    return Object.getOwnPropertyDescriptor(n, e).enumerable
                                }))),
                                    r.forEach(function (t) {
                                        Hi(e, t, n[t])
                                    })
                            }
                            return e
                        }({}, e, {
                            outed: n > 0 && o >= n,
                            expired: Date.now() / 1e3 >= a,
                            isOwn: c
                        });
                        return J.a.createElement("div", {
                            className: Sr()("PubGift", {
                                "is-webview": this.isWebView
                            })
                        }, J.a.createElement(Nn.a, {
                            title: "电子书赠礼"
                        }), J.a.createElement(An.a, {
                            title: "我赠送给你一本《".concat(t.title, "》"),
                            desc: t.description,
                            link: this.shareUrl,
                            imgUrl: t.cover
                        }), this.state.shownShareArrow && J.a.createElement(Ni, {
                            text: "点击分享给需要的朋友吧",
                            onClick: this.handleDismissShareArrow
                        }), J.a.createElement("div", {
                            className: "PubGift-mainColumn"
                        }, J.a.createElement(Fr.c, {
                            className: "PubGift-fsCard"
                        }, J.a.createElement("div", {
                            className: "PubGift-aboveFold"
                        }, J.a.createElement("img", {
                            src: xi.a,
                            srcSet: "".concat(Ri.a, " 2x"),
                            alt: "",
                            className: "PubGift-logo",
                            width: "176",
                            height: "108"
                        }), J.a.createElement("div", null, function (e) {
                            var t = e.ownGift
                                , n = e.outed
                                , r = e.expired
                                , o = e.isReceived
                                , a = e.isOwn
                                , i = e.giver
                                , c = e.amount
                                , u = e.receivedAmount;
                            return t ? n ? "已全部领取" : r ? "赠礼已过期" : c > 0 ? "已被领取 ".concat(u, " 份，剩余 ").concat(c - u, " 份") : "已被领取 ".concat(u, " 份") : o ? "已领取本书" : a ? "已购买本书" : n ? "赠礼已领完" : r ? "赠礼已过期" : "".concat(i.name, "向你赠送了一本书")
                        }(u))), J.a.createElement("hr", {
                            className: "PubGift-hr"
                        }), J.a.createElement("div", {
                            className: "PubGift-info"
                        }, J.a.createElement(Ki, Object.assign({}, t, {
                            className: "PubGift-book"
                        })), this.renderButton(u), J.a.createElement("div", {
                            className: "PubGift-buttonTip"
                        }, function (e) {
                            var t = e.ownGift
                                , n = e.outed
                                , r = e.expired
                                , o = e.isOwn
                                , a = e.amount
                                , i = e.expiresAt;
                            return t ? n || r ? "你可以在书籍详情页再次赠送" : vi()(Wi(), Object(pt.p)(1e3 * i)) : o ? "可在知乎客户端中「更多」—「我的书架」查看" : n || r ? "下次记得早点来哦" : a < 0 ? "" : "".concat(a, " 份赠礼，手慢无")
                        }(u)))), r && i && i.length > 0 && J.a.createElement("div", null, J.a.createElement("div", {
                            className: "PubGift-receiversTitle"
                        }, "领取人"), J.a.createElement(Fr.c, null, J.a.createElement("ul", {
                            className: "PubGift-receivers"
                        }, i.map(function (e) {
                            return J.a.createElement("li", {
                                key: e.id
                            }, J.a.createElement("a", {
                                href: e.url
                            }, J.a.createElement(yi.a, {
                                url: e.avatarUrl,
                                size: 48,
                                round: !0,
                                alt: ""
                            }), e.name))
                        }))))), J.a.createElement(Ii.b, {
                            isOpen: this.state.shownSuccessModal,
                            className: "PubGift-tipModal",
                            onRequestClose: this.handleCloseModal,
                            contentLabel: "领取成功"
                        }, J.a.createElement(Ii.a, null, "领取成功"), "可在知乎客户端中「更多」—「我的书架」查看", J.a.createElement(Yi, {
                            href: "/pub/book/".concat(t.id)
                        }, "前往阅读")))
                    }
                }, {
                    key: "shareUrl",
                    get: function () {
                        var e = this.props
                            , t = e.gift.id
                            , n = e.location.query;
                        return "https://www.zhihu.com/pub/gifts/".concat(t, "?isNewGiftAccept=").concat(n.isNewGiftAccept)
                    }
                }]) && Ui(n.prototype, r),
                o && Ui(n, o),
                    t
            }();

            function Ki(e) {
                var t = e.className
                    , n = Mi(e, ["className"]);
                return J.a.createElement(qn.a, {
                    className: Sr()("GiftBook", t),
                    to: "/pub/book/".concat(n.id)
                }, J.a.createElement(gi.a, {
                    className: "GiftBook-cover",
                    src: n.cover,
                    width: "70",
                    height: "94",
                    alt: "封面"
                }), J.a.createElement("div", {
                    className: "GiftBook-info"
                }, J.a.createElement("div", {
                    className: "GiftBook-title"
                }, n.title), J.a.createElement("div", {
                    className: "GiftBook-authors"
                }, Object(pt.o)(n.authors)), J.a.createElement(di.a, {
                    className: "GiftBook-description",
                    maxLine: 2,
                    lineHeight: 18,
                    text: n.description.trim()
                })))
            }

            function Yi(e) {
                var t = e.href
                    , n = Mi(e, ["href"]);
                return t ? J.a.createElement(zr.c, Object.assign({}, n, {
                    component: "a",
                    href: t,
                    color: "red",
                    preset: "primary",
                    size: "spread"
                })) : J.a.createElement(zr.c, Object.assign({}, n, {
                    color: "red",
                    preset: "primary",
                    size: "spread"
                }))
            }

            Hi(Vi, "contextTypes", {
                currentUser: Qn.a.object,
                authRequired: Qn.a.func
            }),
                Hi(Vi, "fetchData", function (e) {
                    return st(e.params.id)
                }),
                Vi.css = Bi.a;
            var Zi = Object(te.b)(function (e, t) {
                var n = e.gift
                    , r = e.env;
                return {
                    gift: n[t.params.id],
                    ua: r.userAgent
                }
            })(Vi)
                , Qi = J.a.createElement(ne.d, {
                path: "gifts/:id",
                component: Zi
            })
                , Xi = n(465);

            function Ji(e) {
                return (Ji = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function $i(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function ec(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function tc(e, t) {
                return !t || "object" !== Ji(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function nc(e) {
                return (nc = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function rc(e, t) {
                return (rc = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var oc = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        tc(this, nc(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && rc(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.ua
                            , n = e.children
                            , r = e.href
                            , o = e.onClick
                            , a = $i(e, ["ua", "children", "href", "onClick"]);
                        return t.Mobile || t.Android || t.Zhihu ? J.a.createElement("span", Object.assign({}, a, {
                            onClick: function (e) {
                                Object(Xi.a)(Object(pt.h)(r)),
                                o && o(e)
                            }
                        }), n) : J.a.createElement("a", Object.assign({}, a, {
                            href: r,
                            target: "_blank"
                        }), n)
                    }
                }]) && ec(n.prototype, r),
                o && ec(n, o),
                    t
            }()
                , ac = Object(te.b)(function (e) {
                return {
                    ua: e.env.userAgent
                }
            }, {})(oc);
            n(751);
            var ic = function () {
                return J.a.createElement(ac, {
                    className: "Pub-toPubHome show-sm",
                    href: "/pub/"
                }, "前往知乎书店", J.a.createElement(Ua.a, {
                    name: "arrow"
                }))
            }
                , cc = n(428)
                , uc = n.n(cc);

            function lc(e) {
                return (lc = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function sc(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function fc(e) {
                return (fc = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function pc(e, t) {
                return (pc = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function mc(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function bc(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var dc = function (e) {
                function t(e, n) {
                    var r, o, a;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        o = this,
                        a = fc(t).call(this, e, n),
                        r = !a || "object" !== lc(a) && "function" != typeof a ? mc(o) : a,
                        bc(mc(mc(r)), "showFullDescription", function (e) {
                            e.preventDefault()
                        }),
                        bc(mc(mc(r)), "weiboText", function () {
                            var e = r.props.campaign
                                , t = e.name
                                , n = e.description;
                            return "#知乎书店# ".concat(t, "：").concat(n.slice(0, 40), "…… 点击查看专题：")
                        }),
                        bc(mc(mc(r)), "handleGetCoupon", function (e) {
                            r.props.dispatch(Object(ft.b)("campaign", r.props.params.token, e)).then(function (e) {
                                var t = e.payload;
                                r.props.dispatch(Object(ni.c)(t.notification))
                            })
                        }),
                        r.handleGetCoupon = n.authRequired(r.handleGetCoupon.bind(mc(mc(r))), Sn.e.getCoupon),
                        r
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && pc(e, t)
                }(t, X["Component"]),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props
                            , t = e.dispatch
                            , n = e.campaign
                            , r = e.couponList
                            , o = e.params;
                        n || t(Object(tt.b)(o.token)),
                        r || t(Object(ft.c)("campaign", o.token))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this;
                        if (!this.props.campaign)
                            return null;
                        var t = this.props.campaign
                            , n = t.cover
                            , r = t.name
                            , o = t.description
                            , a = t.url
                            , i = t.data
                            , c = this.props
                            , u = c.specialList
                            , l = c.couponsList;
                        return J.a.createElement("div", {
                            className: "PubLayout"
                        }, J.a.createElement(Nn.a, {
                            title: r
                        }), J.a.createElement(An.a, {
                            title: r,
                            desc: o,
                            link: a
                        }), J.a.createElement(Fr.c, {
                            className: "PubLayout-main"
                        }, J.a.createElement(Rn.a, {
                            className: "PubLayout-fsImage",
                            src: n,
                            width: "690",
                            height: "287",
                            alt: "题图"
                        }), J.a.createElement("div", {
                            className: "PubLayout-mainInner"
                        }, J.a.createElement(Ma, {
                            content: o,
                            className: "PubSpecial-intro"
                        }), J.a.createElement("div", {
                            className: "PubCampaign-operations PubShare hide-sm"
                        }, J.a.createElement(Qa, {
                            text: this.weiboText,
                            url: a
                        }), J.a.createElement(ac, {
                            className: "PubCampaign-appLink",
                            href: "/pub/"
                        }, "前往知乎书店")), Array.isArray(l) && l.length > 0 && J.a.createElement("ul", {
                            className: "PubCampaign-couponList"
                        }, l.map(function (t) {
                            return J.a.createElement("li", {
                                className: "PubCampaign-couponListItem",
                                key: t.urlToken
                            }, J.a.createElement(ti.a, Object.assign({}, t, {
                                onAcquire: e.handleGetCoupon
                            })))
                        })), J.a.createElement("div", {
                            className: "PubCampaign-subSpecials"
                        }, Boolean(i) && i.map(function (e) {
                            return J.a.createElement(yc, {
                                item: e,
                                key: e.id
                            })
                        })), J.a.createElement(ic, null))), J.a.createElement(Fr.c, {
                            className: "PubLayout-side"
                        }, J.a.createElement(Fr.a, null, "更多专题"), J.a.createElement("div", {
                            className: "PubLayout-sideInner"
                        }, J.a.createElement(ei, {
                            specialList: u
                        }))))
                    }
                }]) && sc(n.prototype, r),
                o && sc(n, o),
                    t
            }();

            function yc(e) {
                var t = e.item
                    , n = e.limit
                    , r = void 0 === n ? 10 : n;
                return J.a.createElement("div", {
                    className: "PubCampaign-specialSection"
                }, J.a.createElement("div", {
                    className: "PubCampaign-specialTitleWrapper"
                }, J.a.createElement("div", {
                    className: "PubCampaign-specialTitle"
                }, t.name), J.a.createElement("a", {
                    href: t.url,
                    target: "_blank",
                    className: "PubCampaign-specialViewAll"
                }, "查看全部")), J.a.createElement("ul", {
                    className: "PubCampaign-bookList"
                }, t.data.map(function (e, t) {
                    return t < r ? J.a.createElement(Qr.f, Object.assign({}, e, {
                        imageDefer: t > 3 && "inview",
                        className: "PubCampaign-bookItem",
                        key: e.id
                    })) : null
                })))
            }

            bc(dc, "contextTypes", {
                authRequired: Qn.a.func,
                currentUser: Qn.a.object
            }),
                bc(dc, "fetchData", function (e) {
                    var t = e.dispatch
                        , n = e.params;
                    return Promise.all([t(Object(tt.b)(n.token)), t(Object(tt.d)({
                        random: 1,
                        limit: 10
                    })), t(Object(ft.c)("campaign", n.token))])
                }),
                dc.css = uc.a;
            var hc = Object(te.b)(function (e, t) {
                return {
                    campaign: e.special.campaigns[t.params.token],
                    specialList: e.special.list,
                    couponsList: e.coupons.campaign[t.params.token]
                }
            })(dc)
                , vc = J.a.createElement(ne.d, {
                path: "campaigns"
            }, J.a.createElement(ne.d, {
                path: "anniversary",
                bodyClassName: "PubCampaign-anniversary-body",
                name: "Anniversary",
                chunk: "Anniversary",
                getComponent: function () {
                    return n.e(0).then(n.bind(null, 1226)).then(function (e) {
                        return e.default
                    })
                }
            }), J.a.createElement(ne.d, {
                path: ":token",
                component: hc
            }))
                , gc = n(429)
                , Oc = n(236)
                , Ec = n.n(Oc)
                , wc = n(770)
                , Sc = n(32)
                , Pc = n(439)
                , kc = n.n(Pc);

            function jc(e) {
                return (jc = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function _c(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Tc(e) {
                return (Tc = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Cc(e, t) {
                return (Cc = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Nc(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function Ic(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var Ac = "RegionPicker"
                , xc = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = Tc(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== jc(o) && "function" != typeof o ? Nc(r) : o,
                        Ic(Nc(Nc(n)), "handleSelect", function (e) {
                            var t = n.props
                                , r = t.dispatch
                                , o = t.regions
                                , a = t.router
                                , i = t.location.query
                                , c = i.s ? i.s.split(",") : [];
                            if (c.push(e.id),
                                e.hasChildren)
                                a.push({
                                    pathname: "/pub/selection/regions/".concat(e.id),
                                    query: function (e) {
                                        for (var t = 1; t < arguments.length; t++) {
                                            var n = null != arguments[t] ? arguments[t] : {}
                                                , r = Object.keys(n);
                                            "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                                return Object.getOwnPropertyDescriptor(n, e).enumerable
                                            }))),
                                                r.forEach(function (t) {
                                                    Ic(e, t, n[t])
                                                })
                                        }
                                        return e
                                    }({}, i, {
                                        s: c.join()
                                    })
                                });
                            else {
                                var u = i.cpc_token || "";
                                r(Zt(Ac, u, {
                                    id: e.id,
                                    regions: c.map(function (e) {
                                        return o.find(function (t) {
                                            return String(t.id) === String(e)
                                        })
                                    })
                                })),
                                    a.go(-c.length)
                            }
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Cc(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        this.loadDataIfNecessary()
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function (e) {
                        e.params.regionId !== this.props.params.regionId && this.loadDataIfNecessary()
                    }
                }, {
                    key: "getSubRegions",
                    value: function () {
                        var e = this.props;
                        return function (e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
                                , n = e.findIndex(function (e) {
                                return String(e.id) === t
                            });
                            if (-1 === n)
                                return null;
                            var r = e[n];
                            return null == r.firstChildIndex ? null : e.slice(r.firstChildIndex, r.firstChildIndex + r.childrenCount)
                        }(e.regions, e.params.regionId)
                    }
                }, {
                    key: "loadDataIfNecessary",
                    value: function () {
                        var e, t = this.getSubRegions();
                        Object(pt.i)(t) || this.props.dispatch((e = this.props.params.regionId,
                            {
                                API: {
                                    types: At.GET_REGIONS,
                                    endpoint: "pub/selection/regions",
                                    query: null == e ? null : {
                                        id: e
                                    }
                                },
                                id: e
                            }))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.getSubRegions();
                        return J.a.createElement("div", null, J.a.createElement(jo.a, {
                            title: "选择地区"
                        }), Object(pt.i)(t) && J.a.createElement("ul", {
                            className: "Pub-regionPicker"
                        }, t.map(function (t) {
                            return J.a.createElement("li", {
                                key: t.id,
                                onClick: function () {
                                    return e.handleSelect(t)
                                }
                            }, t.name, t.hasChildren && J.a.createElement(wc.a, {
                                className: "arrowRight"
                            }))
                        })))
                    }
                }]) && _c(n.prototype, r),
                o && _c(n, o),
                    t
            }();
            xc.css = kc.a;
            var Dc = Object(te.b)(function (e) {
                return {
                    regions: e.regions
                }
            })(xc)
                , Rc = n(440)
                , Lc = n.n(Rc);

            function Bc(e) {
                return (Bc = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Mc(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Gc(e) {
                return (Gc = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Uc(e, t) {
                return (Uc = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Fc(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function zc(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var qc = "AddressEditor"
                , Hc = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = Gc(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== Bc(o) && "function" != typeof o ? Fc(r) : o,
                        zc(Fc(Fc(n)), "handleSubmit", function (e) {
                            e.preventDefault();
                            var t, r = n.props, o = r.dispatch, a = r.params.id, i = r.address, c = r.router,
                                u = Wt()(i, ["regions"]);
                            o(a ? function (e, t) {
                                return {
                                    API: {
                                        types: Bt.UPDATE_ADDRESS,
                                        endpoint: "pub/selection/addresses/".concat(e),
                                        method: "PUT",
                                        body: t
                                    },
                                    id: e,
                                    address: t
                                }
                            }(a, u) : (t = u,
                                {
                                    API: {
                                        types: Bt.CREATE_ADDRESS,
                                        endpoint: "pub/selection/addresses",
                                        method: "POST",
                                        body: t
                                    }
                                })).then(function (e) {
                                return o(Zt(qc, void 0, e.payload || u)),
                                e.payload || u
                            }).then(function (e) {
                                var t;
                                n.standalone ? (window.alert("保存成功"),
                                    window.location.href = "/pub/selection/addresses/".concat(e.id, "?standalone=1")) : n.activity ? o((t = e.id,
                                    {
                                        API: {
                                            types: Bt.ADDRESS_BIND_ACTIVITY,
                                            endpoint: "pub/selection/activity",
                                            method: "PUT",
                                            body: {
                                                addressesId: t
                                            }
                                        }
                                    })).then(function () {
                                    window.alert("保存成功"),
                                        window.location.href = "/pub/selection/address/activity"
                                }) : o(Mt()).then(function () {
                                    c.go(-1),
                                    a || o(function () {
                                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                                        return {
                                            type: Bt.CLEAR_ADDRESS_DRAFT,
                                            payload: {
                                                id: e
                                            }
                                        }
                                    }())
                                })
                            })
                        }),
                        zc(Fc(Fc(n)), "handleChange", function (e) {
                            var t = e.target
                                , r = t.name
                                , o = t.value
                                , a = n.props
                                , i = a.dispatch
                                , c = a.params.id;
                            i(Gt(void 0 === c ? "" : c, r, o))
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Uc(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props
                            , t = e.dispatch
                            , n = e.params.id
                            , r = void 0 === n ? "" : n
                            , o = e.location.query
                            , a = e.address;
                        this.standalone = "1" === o.standalone,
                            this.activity = "1" === o.activity,
                        !a && r && t(function (e) {
                            return {
                                API: {
                                    types: Bt.GET_ADDRESS,
                                    endpoint: "pub/selection/addresses/".concat(e)
                                }
                            }
                        }(r));
                        var i = this.props.selectedRegion;
                        i && (t(Gt(r, "region_id", i.id)),
                            t(Gt(r, "regions", i.regions)),
                            t(Qt(Ac, r)))
                    }
                }, {
                    key: "renderRegionsField",
                    value: function () {
                        var e = this.props
                            , t = e.address
                            , n = e.params.id
                            , r = void 0 === n ? "" : n
                            , o = t.regions
                            , a = Object(pt.i)(o) ? o.reduce(function (e, t) {
                            return "".concat(e, " ").concat(t.name)
                        }, "") : J.a.createElement("span", {
                            className: "placeholder"
                        }, "请选择");
                        return J.a.createElement("label", null, J.a.createElement(ne.c, {
                            to: "/pub/selection/regions?cpc_token=".concat(r),
                            className: "regionsLink"
                        }, J.a.createElement("span", {
                            className: "fieldName"
                        }, "所在地区"), a, J.a.createElement(wc.a, {
                            className: "arrowRight"
                        })))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.address
                            , n = e.params.id
                            , r = void 0 === n ? "" : n;
                        return t ? J.a.createElement("form", {
                            className: "Pub-addressEditor",
                            onSubmit: this.handleSubmit
                        }, J.a.createElement(jo.a, {
                            title: r ? "编辑地址" : "新增地址"
                        }), J.a.createElement("label", null, J.a.createElement("span", {
                            className: "fieldName"
                        }, "收货人"), J.a.createElement("input", {
                            name: "name",
                            value: t.name || "",
                            onChange: this.handleChange,
                            required: !0,
                            maxLength: "10",
                            autoComplete: "name"
                        })), J.a.createElement("label", null, J.a.createElement("span", {
                            className: "fieldName"
                        }, "联系电话"), J.a.createElement("input", {
                            name: "phone",
                            value: t.phone || "",
                            onChange: this.handleChange,
                            required: !0,
                            type: "tel",
                            autoComplete: "tel-national"
                        })), this.renderRegionsField(), J.a.createElement("textarea", {
                            name: "detail",
                            value: t.detail || "",
                            onChange: this.handleChange,
                            placeholder: "请填写详细地址",
                            autoComplete: "street-address",
                            required: !0
                        }), J.a.createElement(zr.c, {
                            className: "saveBtn",
                            preset: "primary",
                            color: "blue",
                            size: "spread",
                            type: "submit"
                        }, "保存")) : null
                    }
                }]) && Mc(n.prototype, r),
                o && Mc(n, o),
                    t
            }();
            Hc.css = Lc.a;
            var Wc = Object(te.b)(function (e, t) {
                var n = e.addresses
                    , r = e.crossPageCalls
                    , o = t.params.id
                    , a = void 0 === o ? "" : o;
                return {
                    address: n.drafts[a],
                    selectedRegion: r[Ac] && r[Ac][a]
                }
            })(Hc)
                , Vc = n(57)
                , Kc = n(441)
                , Yc = n.n(Kc);

            function Zc(e) {
                return (Zc = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Qc(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Xc(e) {
                return (Xc = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Jc(e, t) {
                return (Jc = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function $c(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function eu(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            function tu(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function nu(e) {
                var t = e.className
                    , n = tu(e, ["className"]);
                return J.a.createElement("div", Object.assign({
                    className: Sr()("card", t)
                }, n))
            }

            var ru = "InvoiceEditor"
                , ou = {
                type: "individual",
                content: "商品类别"
            };

            function au(e) {
                if (!e)
                    return null;
                var t = function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {}
                            , r = Object.keys(n);
                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                        }))),
                            r.forEach(function (t) {
                                eu(e, t, n[t])
                            })
                    }
                    return e
                }({}, e);
                return "individual" === t.type && (t.taxpayerRegistrationNumber = ""),
                    t
            }

            var iu = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = Xc(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== Zc(o) && "function" != typeof o ? $c(r) : o,
                        eu($c($c(n)), "state", {
                            showModal: !1
                        }),
                        eu($c($c(n)), "handleToggle", function (e) {
                            var t = e.target.value
                                , r = n.props
                                , o = r.dispatch
                                , a = r.params.id
                                , i = r.editedInvoice;
                            "1" !== t || i || o(function (e, t) {
                                return {
                                    type: qt.SET_INVOICE_DRAFT,
                                    id: e,
                                    value: t
                                }
                            }(a, ou)),
                            "0" === t && i && o(function (e) {
                                return {
                                    type: qt.CLEAR_INVOICE_DRAFT,
                                    id: e
                                }
                            }(a))
                        }),
                        eu($c($c(n)), "handleChange", function (e) {
                            var t = e.target
                                , r = t.name
                                , o = t.value
                                , a = n.props;
                            (0,
                                a.dispatch)(function (e, t, n) {
                                return {
                                    type: qt.MODIFY_INVOICE_DRAFT,
                                    id: e,
                                    fieldName: t,
                                    value: n
                                }
                            }(a.params.id, r, o))
                        }),
                        eu($c($c(n)), "handleSubmit", function (e) {
                            e.preventDefault();
                            var t = n.props
                                , r = t.dispatch
                                , o = t.params.id
                                , a = t.editedInvoice
                                , i = t.router;
                            r(Zt(ru, o, au(a))),
                                i.go(-1)
                        }),
                        eu($c($c(n)), "handleTaxNumQuestionClick", function () {
                            n.setState({
                                showModal: !0
                            })
                        }),
                        eu($c($c(n)), "handleCloseModal", function () {
                            n.setState({
                                showModal: !1
                            })
                        }),
                        n
                }

                var r, o, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Jc(e, t)
                }(t, J.a.PureComponent),
                    r = t,
                (o = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props
                            , t = e.dispatch
                            , n = e.params.id;
                        n && t(function (e) {
                            return function (t, n) {
                                var r = n().orders[e];
                                return r ? t({
                                    type: qt.SET_LOCAL_ORDER_INVOICE,
                                    invoice: r.invoice,
                                    id: e
                                }) : null
                            }
                        }(n))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.state.showModal
                            , t = this.props
                            , r = t.editedInvoice
                            , o = "1" === t.location.query.readonly;
                        return J.a.createElement("form", {
                            onSubmit: this.handleSubmit,
                            className: "Pub-invoiceEditor"
                        }, J.a.createElement(nu, {
                            className: "need"
                        }, J.a.createElement("div", {
                            className: "title"
                        }, "发票选择："), J.a.createElement("label", null, J.a.createElement("input", {
                            type: "radio",
                            name: "need",
                            value: "0",
                            checked: !r,
                            onChange: this.handleToggle,
                            disabled: o
                        }), "不需要发票"), J.a.createElement("label", null, J.a.createElement("input", {
                            type: "radio",
                            name: "need",
                            value: "1",
                            checked: Boolean(r),
                            onChange: this.handleToggle,
                            disabled: o
                        }), "电子发票")), J.a.createElement(nu, {
                            className: r ? "type" : "type is-disabled"
                        }, J.a.createElement("div", {
                            className: "title"
                        }, "发票抬头："), J.a.createElement("label", null, J.a.createElement("input", {
                            type: "radio",
                            name: "type",
                            value: "individual",
                            checked: Boolean(r) && "individual" === r.type,
                            onChange: this.handleChange,
                            required: Boolean(r),
                            disabled: o
                        }), "个人"), J.a.createElement("label", null, J.a.createElement("input", {
                            type: "radio",
                            name: "type",
                            value: "organization",
                            checked: Boolean(r) && "organization" === r.type,
                            onChange: this.handleChange,
                            required: Boolean(r),
                            disabled: o
                        }), "单位")), J.a.createElement(nu, {
                            className: r ? "inputs" : "inputs is-disabled"
                        }, J.a.createElement("label", null, J.a.createElement("span", {
                            className: "fieldName"
                        }, r && r.type && "individual" !== r.type ? "单位名称" : "收票人姓名"), J.a.createElement("input", {
                            name: "name",
                            value: r && r.name || "",
                            maxLength: "60",
                            onChange: this.handleChange,
                            required: Boolean(r),
                            disabled: o
                        })), r && "organization" === r.type && J.a.createElement("label", null, J.a.createElement("span", {
                            className: "fieldName"
                        }, "纳税人识别号"), J.a.createElement("input", {
                            name: "taxpayerRegistrationNumber",
                            value: r && r.taxpayerRegistrationNumber || "",
                            maxLength: "60",
                            onChange: this.handleChange,
                            required: !0,
                            disabled: o
                        }), !o && J.a.createElement(zr.c, {
                            preset: "plain",
                            onClick: this.handleTaxNumQuestionClick
                        }, J.a.createElement(In.a, {
                            src: n(485)
                        }))), J.a.createElement("label", null, J.a.createElement("span", {
                            className: "fieldName"
                        }, "收票人手机"), J.a.createElement("input", {
                            name: "phone",
                            type: "tel",
                            value: r && r.phone || "",
                            maxLength: "11",
                            minLength: "11",
                            onChange: this.handleChange,
                            required: Boolean(r),
                            disabled: o
                        })), J.a.createElement("label", null, J.a.createElement("span", {
                            className: "fieldName"
                        }, "收票人邮箱"), J.a.createElement("input", {
                            name: "email",
                            type: "email",
                            value: r && r.email || "",
                            maxLength: "60",
                            onChange: this.handleChange,
                            required: Boolean(r),
                            disabled: o
                        }))), J.a.createElement(nu, {
                            className: r ? "content" : "content is-disabled"
                        }, J.a.createElement("label", null, J.a.createElement("div", {
                            className: "title"
                        }, "发票内容："), J.a.createElement("label", null, J.a.createElement("input", {
                            type: "radio",
                            name: "content",
                            value: "商品明细",
                            checked: r && "商品明细" === r.content,
                            onChange: this.handleChange,
                            required: Boolean(r),
                            disabled: o
                        }), "商品明细"), J.a.createElement("label", null, J.a.createElement("input", {
                            type: "radio",
                            name: "content",
                            value: "商品类别",
                            checked: r && (!r.content || /商品类别|图书/.test(r.content)),
                            onChange: this.handleChange,
                            required: Boolean(r),
                            disabled: o
                        }), "商品类别"))), !o && J.a.createElement(zr.c, {
                            className: "saveBtn",
                            preset: "primary",
                            color: "blue",
                            size: "spread",
                            type: "submit"
                        }, "保存"), e && J.a.createElement(Vc.b, {
                            title: "纳税人识别号",
                            closeButton: null
                        }, J.a.createElement("p", null, "据国家税务总局 2017 年第 16 号公告规定，自 2017 年 7 月 1 日起， 对于购买方为企业的，索取增值税普通发票时， 应向销售方提供纳税人识别号或统一社会信用代码。 您可以向贵单位财务部门索取这一信息或者根据单位名称在国家企业信用信息公示系统查询。"), J.a.createElement(Vc.a, null, J.a.createElement(zr.c, {
                            preset: "primary",
                            color: "blue",
                            onClick: this.handleCloseModal
                        }, "知道了"))))
                    }
                }]) && Qc(r.prototype, o),
                a && Qc(r, a),
                    t
            }();
            iu.css = Yc.a;
            var cu = Object(te.b)(function (e, t) {
                return {
                    editedInvoice: e.invoiceEditor[t.params.id]
                }
            })(iu)
                , uu = n(14)
                , lu = n(187)
                , su = n.n(lu);

            function fu(e) {
                return (fu = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function pu(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function mu(e) {
                return (mu = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function bu(e, t) {
                return (bu = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function du(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function yu(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var hu = "立即支付";

            function vu(e) {
                var t = e.name
                    , n = e.children;
                return J.a.createElement("div", {
                    className: "field"
                }, J.a.createElement("span", {
                    className: "fieldName"
                }, t, "："), n)
            }

            var gu = function (e) {
                function t(e) {
                    var n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        r = this,
                        o = mu(t).call(this, e),
                        n = !o || "object" !== fu(o) && "function" != typeof o ? du(r) : o,
                        yu(du(du(n)), "handleShowAddressPortal", function () {
                            n.setState({
                                showAddressPortal: !0
                            })
                        }),
                        yu(du(du(n)), "handleClosePortal", function () {
                            n.setState({
                                showAddressPortal: !1
                            })
                        }),
                        yu(du(du(n)), "handleSelectAddress", function (e) {
                            var t = n.props
                                , r = t.dispatch
                                , o = t.params.id;
                            Promise.resolve(r(Pt(o, {
                                address: e
                            }))).then(function () {
                                n.calcShippingCost(),
                                    n.handleClosePortal()
                            })
                        }),
                        yu(du(du(n)), "handleDeleteAddress", function (e) {
                            var t;
                            n.props.dispatch((t = e.id,
                                {
                                    API: {
                                        types: Bt.DELETE_ADDRESS,
                                        endpoint: "pub/selection/addresses/".concat(t),
                                        method: "DELETE"
                                    },
                                    id: t
                                }))
                        }),
                        yu(du(du(n)), "handleQuantityChange", function (e) {
                            e > n.state.restriction || n.setQuantity(e)
                        }),
                        yu(du(du(n)), "onQuantityBlur", function () {
                            "number" != typeof n.props.draft.quantity && n.setQuantity(1)
                        }),
                        yu(du(du(n)), "calcShippingCost", function () {
                            var e = n.props
                                , t = e.dispatch
                                , r = e.params.id
                                , o = e.draft
                                , a = o.address
                                , i = o.quantity;
                            if (a) {
                                n.setState({
                                    calculating: !0
                                });
                                var c = a.id;
                                t(function (e, t, n) {
                                    return {
                                        API: {
                                            types: jt._,
                                            endpoint: "pub/product/".concat(e, "/shipping_cost"),
                                            query: {
                                                quantity: t,
                                                address_id: n
                                            }
                                        }
                                    }
                                }(r, i, c)).then(function (e) {
                                    var t = e.payload;
                                    i === n.props.draft.quantity && c === n.props.draft.address.id && n.setState({
                                        shippingCost: t.shippingCost,
                                        calculating: !1
                                    })
                                }, function () {
                                    n.setState({
                                        shippingCost: 0,
                                        calculating: !1
                                    })
                                })
                            } else
                                n.setState({
                                    shippingCost: 0,
                                    calculating: !1
                                })
                        }),
                        yu(du(du(n)), "handleToPay", function (e) {
                            var t = n.props
                                , r = t.dispatch
                                , o = t.params.id
                                , a = t.product
                                , i = t.draft
                                , c = t.router;
                            return b.a.trackEvent(e.target, {
                                id: 2052
                            }, {
                                button: {
                                    text: hu
                                }
                            }),
                                Promise.resolve(n.calcShippingCostDebounced.flush()).then(function () {
                                    return r((e = {
                                        product_id: o,
                                        business: a.business,
                                        quantity: i.quantity,
                                        address_id: i.address.id,
                                        invoice: i.invoice
                                    },
                                        {
                                            API: {
                                                types: jt.CREATE_ORDER,
                                                endpoint: "pub/orders",
                                                method: "POST",
                                                body: e
                                            }
                                        }));
                                    var e
                                }).then(function (e) {
                                    var t, n = e.payload;
                                    c.push("/pub/selection/orders/".concat(n.id, "?trigger_pay=1")),
                                        r((t = o,
                                            {
                                                type: wt.RESET_DRAFT,
                                                id: t
                                            }))
                                })
                        });
                    var a = e.draft;
                    return a || (a = new St(e.params.id, Object(pt.i)(e.addresses) ? {
                        address: e.addresses[0]
                    } : {}),
                        e.dispatch(Pt(e.params.id, a))),
                        n.state = {
                            showAddressPortal: !1,
                            disableQuantityInput: !0,
                            shippingCost: 0,
                            restriction: 1 / 0
                        },
                        n.calcShippingCostDebounced = Ec()(n.calcShippingCost, 600),
                        n
                }

                var r, o, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && bu(e, t)
                }(t, J.a.PureComponent),
                    r = t,
                (o = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.dispatch
                            , r = t.params.id;
                        this.props.product || n(Object(gt.b)(r)),
                        this.props.addresses || n(Mt()).then(function () {
                            e.handleSelectAddress(e.props.addresses[0])
                        }),
                            Promise.resolve().then(function () {
                                var t = e.props.editedAddress;
                                return t ? Promise.all([e.handleSelectAddress(t), n(Qt(qc))]) : null
                            }).then(function () {
                                var t = e.props.editedInvoice;
                                return void 0 !== t ? Promise.all([n(Pt(r, {
                                    invoice: t
                                })), n(Qt(ru, r))]) : null
                            }).then(function () {
                                e.calcShippingCost(),
                                    n(function (e) {
                                        return {
                                            API: {
                                                types: jt._,
                                                endpoint: "pub/product/".concat(e, "/restriction")
                                            }
                                        }
                                    }(r)).then(function (t) {
                                        var n = t.payload;
                                        e.setState({
                                            restriction: n.restriction,
                                            disableQuantityInput: !1
                                        })
                                    })
                            })
                    }
                }, {
                    key: "setQuantity",
                    value: function (e) {
                        var t = this.props
                            , n = t.dispatch
                            , r = t.params.id
                            , o = t.draft.address;
                        return n(Pt(r, {
                            quantity: e
                        })),
                            this.setState({
                                calculating: Boolean(o)
                            }, this.calcShippingCostDebounced)
                    }
                }, {
                    key: "renderAddress",
                    value: function () {
                        var e = this.props.draft.address;
                        return e ? J.a.createElement("div", {
                            className: "addressWrapper",
                            onClick: this.handleShowAddressPortal
                        }, J.a.createElement(Sc.a, {
                            address: e
                        }), J.a.createElement(wc.a, {
                            className: "arrowRight"
                        })) : this.renderEmptyAddress()
                    }
                }, {
                    key: "renderEmptyAddress",
                    value: function () {
                        return J.a.createElement(ne.c, {
                            className: "createAddress",
                            to: "/pub/selection/addresses"
                        }, J.a.createElement(In.a, {
                            src: n(266),
                            className: "addIcon"
                        }), "新增地址")
                    }
                }, {
                    key: "renderSelection",
                    value: function () {
                        var e = this.props
                            , t = e.draft
                            , n = e.product
                            , r = e.product.promotion
                            , o = t.quantity || 1
                            , a = r.isPromotion ? r.promotionPrice : r.price;
                        return J.a.createElement(Sc.e, {
                            className: "selection",
                            order: function (e) {
                                for (var t = 1; t < arguments.length; t++) {
                                    var n = null != arguments[t] ? arguments[t] : {}
                                        , r = Object.keys(n);
                                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                                    }))),
                                        r.forEach(function (t) {
                                            yu(e, t, n[t])
                                        })
                                }
                                return e
                            }({}, t, {
                                product: n,
                                unitPrice: a,
                                quantity: o
                            })
                        })
                    }
                }, {
                    key: "renderBottomBar",
                    value: function () {
                        var e = this.props
                            , t = e.params.id
                            , n = e.draft
                            , r = e.product
                            , o = r.promotion
                            , a = (r.specifics.category || {}).servicer
                            , i = this.state
                            , c = i.shippingCost
                            , u = i.calculating
                            , l = o.isPromotion ? o.promotionPrice : o.price
                            , s = n.quantity || 1;
                        return J.a.createElement("div", {
                            className: "bottomBar",
                            "data-za-module": "BottomBar",
                            "data-za-extra-module": JSON.stringify({
                                card: {
                                    content: {
                                        token: t,
                                        type: "Selection"
                                    }
                                }
                            })
                        }, J.a.createElement("div", {
                            className: "bottomBarInner"
                        }, J.a.createElement(uu.a, {
                            cent: l * s + c,
                            className: "totalPrice"
                        }), J.a.createElement(Sc.d, {
                            onClick: this.handleToPay,
                            disabled: !n.address || u,
                            minPendingTime: 800
                        }, hu), J.a.createElement(Sc.h, {
                            servicer: a
                        })))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.draft
                            , n = e.product
                            , r = e.addresses;
                        if (!t || !n)
                            return null;
                        var o = this.state.shippingCost
                            , a = this.state
                            , i = a.showAddressPortal
                            , c = a.disableQuantityInput;
                        return J.a.createElement("div", {
                            className: "Pub-orderPage"
                        }, J.a.createElement(jo.a, {
                            title: "填写订单"
                        }), this.renderAddress(), J.a.createElement("div", {
                            className: "orderInfo"
                        }, this.renderSelection(), J.a.createElement(vu, {
                            name: "购买数量"
                        }, J.a.createElement(Sc.c, {
                            value: t.quantity,
                            min: 1,
                            max: this.state.restriction,
                            disabled: c,
                            onChange: this.handleQuantityChange,
                            onBlur: this.onQuantityBlur
                        })), J.a.createElement(vu, {
                            name: "运费"
                        }, !t.address && "请选择地址", t.address && (o ? J.a.createElement(uu.a, {
                            cent: o
                        }) : "包邮"))), J.a.createElement(ne.c, {
                            hidden: 0 === n.invoiceSupport,
                            className: "orderInfo orderInvoice",
                            to: "/pub/selection/".concat(t.id, "/order/invoice")
                        }, J.a.createElement("span", {
                            className: "leftValue"
                        }, "发票"), J.a.createElement("span", {
                            className: "rightValue"
                        }, t.invoice ? t.invoice.name : "不需要发票"), J.a.createElement(wc.a, {
                            className: "arrowRight"
                        })), this.renderBottomBar(), i && J.a.createElement(Sc.b, {
                            data: r,
                            onClickItem: this.handleSelectAddress,
                            onDeleteItem: this.handleDeleteAddress,
                            onClose: this.handleClosePortal
                        }))
                    }
                }]) && pu(r.prototype, o),
                a && pu(r, a),
                    t
            }();
            yu(gu, "fetchData", function (e) {
                var t = e.dispatch
                    , n = e.params.id;
                return Promise.all([t(Object(gt.b)(n)), t(Mt())])
            }),
                gu.css = su.a;
            var Ou = Object(te.b)(function (e, t) {
                var n = e.orderDrafts
                    , r = e.products
                    , o = e.addresses
                    , a = (e.invoiceEditor,
                    e.crossPageCalls)
                    , i = t.params;
                return {
                    draft: n[i.id],
                    product: r[i.id],
                    addresses: o.data,
                    editedAddress: a[qc] && a[qc][""],
                    editedInvoice: a[ru] && a[ru][i.id]
                }
            })(gu)
                , Eu = n(103)
                , wu = 2
                , Su = 3
                , Pu = 4
                , ku = 7
                , ju = 21
                , _u = 22
                , Tu = 40
                , Cu = 43
                , Nu = 61;

            function Iu(e) {
                switch (e) {
                    case wu:
                    case Su:
                        return "未付款";
                    case ku:
                        return "交易关闭";
                    case Pu:
                        return "待发货";
                    case ju:
                        return "退款中";
                    case _u:
                        return "已退款";
                    case Tu:
                        return "已发货";
                    case Cu:
                        return "已收货";
                    case Nu:
                        return "售后中";
                    default:
                        return ""
                }
            }

            function Au(e) {
                return e === Tu
            }

            function xu(e) {
                return (xu = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Du(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            function Ru(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            function Lu(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }

            function Bu(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Mu(e, t, n) {
                return t && Bu(e.prototype, t),
                n && Bu(e, n),
                    e
            }

            function Gu(e, t) {
                return !t || "object" !== xu(t) && "function" != typeof t ? Uu(e) : t
            }

            function Uu(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function Fu(e) {
                return (Fu = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function zu(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && qu(e, t)
            }

            function qu(e, t) {
                return (qu = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var Hu = "继续支付"
                , Wu = "查询物流"
                , Vu = "确认收货";

            function Ku(e) {
                var t = e.name
                    , n = e.children;
                return J.a.createElement("div", {
                    className: "field"
                }, J.a.createElement("span", {
                    className: "fieldName"
                }, t, "："), n)
            }

            var Yu = Object(te.b)(function (e) {
                var t = e.orderList;
                return {
                    orderListCount: Array.isArray(t) ? t.length : null
                }
            })(function (e) {
                function t() {
                    return Lu(this, t),
                        Gu(this, Fu(t).apply(this, arguments))
                }

                return zu(t, J.a.Component),
                    Mu(t, [{
                        key: "componentDidMount",
                        value: function () {
                            null == this.props.orderListCount && this.props.dispatch(Ct())
                        }
                    }, {
                        key: "render",
                        value: function () {
                            var e = this.props
                                , t = (e.dispatch,
                                e.orderListCount)
                                , n = Ru(e, ["dispatch", "orderListCount"]);
                            return J.a.createElement("span", n, t)
                        }
                    }]),
                    t
            }())
                , Zu = "你将收到一封包含订单信息的知乎私信。另外可通过「知乎 App」-「我的」-「已购」进行订单查询和管理。"
                , Qu = "pub/selection/paying"
                , Xu = function (e) {
                function t(e) {
                    var n;
                    return Lu(this, t),
                        Du(Uu(Uu(n = Gu(this, Fu(t).call(this, e)))), "handlePay", function (e) {
                            var t = n.props.order;
                            e && b.a.trackEvent(e.target, {
                                id: 2053
                            }, {
                                button: {
                                    text: Hu
                                }
                            }),
                                n.setState({
                                    payingTrade: t.trade
                                })
                        }),
                        Du(Uu(Uu(n)), "handlePaySuccessTip", function () {
                            var e = n.props;
                            (0,
                                e.dispatch)(_t(e.params.id))
                        }),
                        Du(Uu(Uu(n)), "handlePaySuccess", function () {
                            n.setState({
                                payingTrade: null
                            })
                        }),
                        Du(Uu(Uu(n)), "onRequestPayClose", function () {
                            n.setState({
                                payingTrade: null
                            })
                        }),
                        Du(Uu(Uu(n)), "onBeforeJumpPay", function () {
                            var e = n.props.params.id;
                            window.localStorage.setItem(Qu, e)
                        }),
                        Du(Uu(Uu(n)), "handleCloseModal", function () {
                            n.setState({
                                showSuccessModal: !1,
                                showShippingModal: !1
                            })
                        }),
                        Du(Uu(Uu(n)), "handleRefund", function () {
                            var e = n.props;
                            return (0,
                                e.dispatch)(function (e) {
                                return {
                                    API: {
                                        types: jt.REFUND_ORDER,
                                        endpoint: "pub/orders/".concat(e, "/actions/refund"),
                                        method: "POST"
                                    }
                                }
                            }(e.params.id))
                        }),
                        Du(Uu(Uu(n)), "onClickReceive", function (e) {
                            b.a.trackEvent(e.target, {
                                id: 2056
                            }, {
                                button: {
                                    text: Vu
                                }
                            })
                        }),
                        Du(Uu(Uu(n)), "handleReceive", function () {
                            var e = n.props;
                            return (0,
                                e.dispatch)(function (e) {
                                return {
                                    API: {
                                        types: jt.RECEIVE_ORDER,
                                        endpoint: "pub/orders/".concat(e, "/actions/receive"),
                                        method: "POST"
                                    }
                                }
                            }(e.params.id))
                        }),
                        Du(Uu(Uu(n)), "handleLookupShipping", function (e) {
                            n.state.showShippingModal || (b.a.trackEvent(e.target, {
                                id: 2055
                            }, {
                                button: {
                                    text: Wu
                                }
                            }),
                                n.setState({
                                    showShippingModal: !0
                                }))
                        }),
                        Du(Uu(Uu(n)), "paySuccessTipComponent", function () {
                            return J.a.createElement("div", {
                                className: "Pub-selectionPaySuccessTip"
                            }, J.a.createElement("p", null, Zu), J.a.createElement("div", {
                                className: "buttonWrapper"
                            }, J.a.createElement(zr.c, {
                                preset: "primary",
                                color: "blue",
                                size: "spread",
                                onClick: n.onRequestPayClose
                            }, "知道了")))
                        }),
                        n.state = {
                            payingTrade: null,
                            showSuccessModal: !1,
                            showShippingModal: !1
                        },
                        n
                }

                return zu(t, J.a.PureComponent),
                    Mu(t, [{
                        key: "componentDidMount",
                        value: function () {
                            var e = this
                                , t = this.props
                                , n = t.dispatch
                                , r = t.params.id
                                , o = t.location.query
                                , a = t.router;
                            Promise.resolve().then(function () {
                                n(_t(r))
                            }).then(function () {
                                "1" === o.trigger_pay && (a.replace(function (e) {
                                    for (var t = 1; t < arguments.length; t++) {
                                        var n = null != arguments[t] ? arguments[t] : {}
                                            , r = Object.keys(n);
                                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                                        }))),
                                            r.forEach(function (t) {
                                                Du(e, t, n[t])
                                            })
                                    }
                                    return e
                                }({}, location, {
                                    pathname: location.pathname,
                                    query: {}
                                })),
                                    e.handlePay()),
                                "0" === o.status && window.localStorage.getItem(Qu) === r && (e.setState({
                                    showSuccessModal: !0
                                }),
                                    window.localStorage.removeItem(Qu))
                            })
                        }
                    }, {
                        key: "renderAddress",
                        value: function () {
                            var e = this.props.order.address;
                            return J.a.createElement("div", {
                                className: "addressWrapper"
                            }, J.a.createElement(Sc.a, {
                                address: e
                            }))
                        }
                    }, {
                        key: "renderSelection",
                        value: function () {
                            var e = this.props.order;
                            return J.a.createElement(Sc.e, {
                                className: "selection",
                                order: e
                            })
                        }
                    }, {
                        key: "renderBottomBarPay",
                        value: function () {
                            var e = this.props.order
                                , t = e.canPay
                                , n = e.product
                                , r = n.id
                                , o = n.specifics.category;
                            return J.a.createElement("div", {
                                className: "bottomBar",
                                "data-za-module": "BottomBar",
                                "data-za-extra-module": JSON.stringify({
                                    card: {
                                        content: {
                                            token: r,
                                            type: "Selection"
                                        }
                                    }
                                })
                            }, J.a.createElement("div", {
                                className: "bottomBarInner"
                            }, J.a.createElement(zr.c, {
                                disabled: !t,
                                onClick: this.handlePay,
                                className: "opButton opButton--red"
                            }, Hu), J.a.createElement(Sc.h, {
                                servicer: o.servicer
                            })))
                        }
                    }, {
                        key: "renderBottomBarOps",
                        value: function () {
                            var e = this.props.order
                                , t = e.status
                                , n = e.product
                                , r = e.payAmount
                                , o = n.specifics.category
                                , a = n.id;
                            return J.a.createElement("div", {
                                className: "bottomBar",
                                "data-za-module": "BottomBar",
                                "data-za-extra-module": JSON.stringify({
                                    card: {
                                        content: {
                                            token: a,
                                            type: "Selection"
                                        }
                                    }
                                })
                            }, J.a.createElement("div", {
                                className: "bottomBarInner"
                            }, t === Pu && J.a.createElement(Sc.g, {
                                className: "opButton",
                                handleRefund: this.handleRefund,
                                disabled: 0 === r
                            }, "申请退款"), Au(t) && J.a.createElement(Sc.f, {
                                className: "opButton opButton--red",
                                onClick: this.onClickReceive,
                                handleReceive: this.handleReceive
                            }, Vu), Au(t) && J.a.createElement(zr.c, {
                                className: "opButton",
                                onClick: this.handleLookupShipping,
                                target: "_blank"
                            }, Wu), function (e) {
                                return e === Cu || e === ku || e === _u
                            }(t) && J.a.createElement(zr.c, {
                                component: "a",
                                className: "opButton",
                                href: "/pub/selection/".concat(n.id),
                                "data-za-detail-view-id": 2057
                            }, "再次购买"), J.a.createElement(Sc.h, {
                                servicer: o.servicer
                            })))
                        }
                    }, {
                        key: "renderShippingModal",
                        value: function () {
                            return this.state.showShippingModal && J.a.createElement(Vc.b, {
                                title: "物流详情",
                                closeButton: null,
                                className: "Order-ShippingModal"
                            }, J.a.createElement(Sc.i, {
                                orderId: this.props.params.id
                            }), J.a.createElement(Vc.a, null, J.a.createElement(zr.c, {
                                preset: "primary",
                                color: "blue",
                                onClick: this.handleCloseModal
                            }, "确认")))
                        }
                    }, {
                        key: "render",
                        value: function () {
                            if (!this.props.order)
                                return null;
                            var e = this.props
                                , t = e.order
                                , n = e.ua
                                , r = t.product
                                , o = t.price
                                , a = t.payAmount
                                , i = t.shippingCost
                                , c = t.canPay
                                , u = this.state
                                , l = u.showSuccessModal
                                , s = u.payingTrade;
                            return J.a.createElement("div", {
                                className: "Pub-orderPage"
                            }, J.a.createElement(jo.a, {
                                title: "订单详情"
                            }), this.renderAddress(), J.a.createElement("div", {
                                className: "orderInfo"
                            }, J.a.createElement("div", {
                                className: "header"
                            }, "订单号：", t.id, J.a.createElement("span", {
                                className: "status"
                            }, Iu(t.status))), this.renderSelection(), J.a.createElement(Ku, {
                                name: "运费"
                            }, i ? J.a.createElement(uu.a, {
                                cent: i
                            }) : "包邮"), J.a.createElement(Ku, {
                                name: "总价"
                            }, J.a.createElement(uu.a, {
                                cent: o
                            })), "number" == typeof a && [J.a.createElement(Ku, {
                                name: "优惠",
                                key: 1
                            }, "−", J.a.createElement(uu.a, {
                                cent: o - a
                            })), J.a.createElement(Ku, {
                                name: "实付",
                                key: 2
                            }, J.a.createElement(uu.a, {
                                cent: a,
                                className: "pay-amount"
                            }))]), t.invoice ? J.a.createElement(ne.c, {
                                hidden: 0 === r.invoiceSupport,
                                className: "orderInfo orderInvoice",
                                to: "/pub/selection/orders/".concat(t.id, "/invoice?readonly=1")
                            }, J.a.createElement("span", {
                                className: "leftValue"
                            }, "发票"), J.a.createElement("span", {
                                className: "rightValue"
                            }, t.invoice.name), J.a.createElement(wc.a, {
                                className: "arrowRight"
                            })) : J.a.createElement("span", {
                                hidden: 0 === r.invoiceSupport,
                                className: "orderInfo orderInvoice"
                            }, J.a.createElement("span", {
                                className: "leftValue"
                            }, "发票"), J.a.createElement("span", {
                                className: "rightValue"
                            }, "不需要发票")), !n.Zhihu && J.a.createElement(ne.c, {
                                className: "orderListEntrance",
                                to: "/pub/selection/orders"
                            }, J.a.createElement("span", {
                                className: "leftValue"
                            }, "我的订单"), J.a.createElement(Yu, {
                                className: "rightValue"
                            }), J.a.createElement(wc.a, {
                                className: "arrowRight"
                            })), c ? this.renderBottomBarPay() : this.renderBottomBarOps(), s && J.a.createElement(Eu.b, Object.assign({}, s, {
                                price: o,
                                title: "支付",
                                subTitle: t.product.title,
                                showCoupon: !0,
                                useNativePayInApp: !1,
                                onBeforeJumpPay: this.onBeforeJumpPay,
                                onSuccessTip: this.handlePaySuccessTip,
                                onSuccess: this.handlePaySuccess,
                                onRequestClose: this.onRequestPayClose,
                                successTitle: "购买成功",
                                successTip: this.paySuccessTipComponent,
                                successTipTimeout: 0
                            })), l && J.a.createElement(Vc.b, {
                                title: "购买成功"
                            }, J.a.createElement("p", null, Zu), J.a.createElement(Vc.a, null, J.a.createElement(zr.c, {
                                preset: "primary",
                                color: "blue",
                                onClick: this.handleCloseModal
                            }, "知道了"))), this.renderShippingModal())
                        }
                    }]),
                    t
            }();
            Du(Xu, "fetchData", function (e) {
                return _t(e.params.id)
            }),
                Xu.css = su.a;
            var Ju = Object(te.b)(function (e, t) {
                var n = e.orders
                    , r = e.env;
                return {
                    order: n[t.params.id],
                    ua: r.userAgent
                }
            })(Xu)
                , $u = n(442)
                , el = n.n($u);

            function tl(e) {
                return (tl = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function nl(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function rl(e, t) {
                return !t || "object" !== tl(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function ol(e) {
                return (ol = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function al(e, t) {
                return (al = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function il(e) {
                var t = e.order;
                return J.a.createElement("li", {
                    className: "Pub-orderList-item"
                }, J.a.createElement(ne.c, {
                    to: "/pub/selection/orders/".concat(t.id)
                }, J.a.createElement("div", {
                    className: "header"
                }, "订单号：", t.id, J.a.createElement("span", {
                    className: "status"
                }, Iu(t.status))), J.a.createElement(Sc.e, {
                    order: t,
                    className: "selection"
                }, J.a.createElement("span", {
                    className: "priceExplain"
                }, "合计：", J.a.createElement(uu.a, {
                    cent: t.price
                }), Boolean(t.shippingCost) && J.a.createElement("span", null, "（含运费", J.a.createElement(uu.a, null, t.shippingCost / 100), "）")))))
            }

            var cl, ul, ll, sl = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        rl(this, ol(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && al(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        this.props.orderList || this.props.dispatch(Ct())
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props.orderList;
                        return J.a.createElement("div", {
                            className: "Pub-orderListPage"
                        }, J.a.createElement(jo.a, {
                            title: "我的订单"
                        }), Object(pt.i)(e) && J.a.createElement("ul", null, e.map(function (e) {
                            return J.a.createElement(il, {
                                key: e.id,
                                order: e
                            })
                        })))
                    }
                }]) && nl(n.prototype, r),
                o && nl(n, o),
                    t
            }();
            ll = function () {
                return Ct()
            }
                ,
                (ul = "fetchData") in (cl = sl) ? Object.defineProperty(cl, ul, {
                    value: ll,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : cl[ul] = ll,
                sl.css = el.a;
            var fl = Object(te.b)(function (e) {
                return {
                    orderList: e.orderList
                }
            })(sl);

            function pl(e) {
                return (pl = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function ml(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function bl(e, t) {
                return !t || "object" !== pl(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function dl(e) {
                return (dl = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function yl(e, t) {
                return (yl = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var hl = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        bl(this, dl(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && yl(e, t)
                }(t, Xu),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                    }
                }, {
                    key: "renderBottomBarOps",
                    value: function () {
                        return J.a.createElement("div", {
                            className: "bottomBar"
                        }, J.a.createElement(zr.c, {
                            className: "opButton",
                            onClick: this.handleLookupShipping
                        }, "查询物流"), J.a.createElement(zr.c, {
                            className: "opButton"
                        }, "联系客服"))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props.order
                            , t = e.price
                            , n = e.shippingCost;
                        return J.a.createElement("div", {
                            className: "Pub-orderPage"
                        }, J.a.createElement(jo.a, {
                            title: "订单详情"
                        }), this.renderAddress(), J.a.createElement("div", {
                            className: "orderInfo"
                        }, J.a.createElement("div", {
                            className: "header"
                        }, "订单号：", e.id, J.a.createElement("span", {
                            className: "status"
                        }, "已发货")), this.renderSelection(), J.a.createElement(Ku, {
                            name: "运费"
                        }, n ? J.a.createElement(uu.a, {
                            cent: n
                        }) : "包邮")), J.a.createElement("div", {
                            className: "orderInfo"
                        }, J.a.createElement(Ku, {
                            name: "总价"
                        }, J.a.createElement(uu.a, {
                            cent: t
                        }))), J.a.createElement("span", {
                            className: "orderInfo orderInvoice"
                        }, J.a.createElement("span", {
                            className: "leftValue"
                        }, "发票"), J.a.createElement("span", {
                            className: "rightValue"
                        }, "不需要发票")), this.renderBottomBarOps(), this.renderShippingModal())
                    }
                }]) && ml(n.prototype, r),
                o && ml(n, o),
                    t
            }();
            !function (e, t, n) {
                t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n
            }(hl, "fetchData", null);
            var vl = {
                id: "891251423008915456",
                status: Tu,
                price: 4800,
                unitPrice: 4800,
                quantity: 1,
                address: {
                    name: "吴可欣",
                    phone: "13520589464",
                    detail: "北京市海淀区学院路甲 5 号 768 创意产业园 B 座 14 门"
                },
                product: {
                    title: "职人觉醒：新手如何快速崛起（附赠刘看山笔记本）",
                    cover: "https://pic3.zhimg.com/v2-bd97dfb83fe362cf4697e8cdb347c3f4_xld.jpg"
                }
            }
                , gl = Object(te.b)(function () {
                return {
                    order: vl,
                    params: {
                        id: "demo"
                    }
                }
            })(hl)
                , Ol = n(443)
                , El = n.n(Ol)
                , wl = new Date("2020-12-12").getTime() - (new Date).getTime() < 0
                , Sl = n(444)
                , Pl = n.n(Sl);

            function kl(e) {
                return (kl = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function jl(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function _l(e) {
                return (_l = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Tl(e, t) {
                return (Tl = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Cl(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function Nl(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var Il = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = _l(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== kl(o) && "function" != typeof o ? Cl(r) : o,
                        Nl(Cl(Cl(n)), "goToCreate", function () {
                            n.context.router.push("/pub/selection/addresses?activity=1")
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Tl(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        return J.a.createElement("div", {
                            className: "Pub-AddressCreate"
                        }, J.a.createElement("img", {
                            src: El.a
                        }), J.a.createElement("div", {
                            className: "tip"
                        }, "你还未添加收货地址"), J.a.createElement(zr.c, {
                            color: "blue",
                            preset: "primary",
                            size: "spread",
                            disabled: wl,
                            className: "submitBtn",
                            onClick: this.goToCreate
                        }, wl ? "地址收集已结束" : "添加地址"))
                    }
                }]) && jl(n.prototype, r),
                o && jl(n, o),
                    t
            }();
            Nl(Il, "contextTypes", {
                router: Qn.a.object
            }),
                Il.css = Pl.a;
            var Al = Object(te.b)()(Il)
                , xl = n(445)
                , Dl = n.n(xl);

            function Rl(e) {
                return (Rl = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Ll(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Bl(e) {
                return (Bl = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Ml(e, t) {
                return (Ml = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Gl(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function Ul(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var Fl = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = Bl(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== Rl(o) && "function" != typeof o ? Gl(r) : o,
                        Ul(Gl(Gl(n)), "goToEdit", function () {
                            var e = n.props.address;
                            n.context.router.push("/pub/selection/addresses/".concat(e.id, "?activity=1"))
                        }),
                        n
                }

                var r, o, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Ml(e, t)
                }(t, J.a.PureComponent),
                    r = t,
                (o = [{
                    key: "render",
                    value: function () {
                        var e = this.props.address;
                        if (!e)
                            return null;
                        var t = e.name;
                        return J.a.createElement("div", {
                            className: "Pub-AddressSummary"
                        }, J.a.createElement("div", {
                            className: "successTip"
                        }, J.a.createElement(In.a, {
                            src: n(756)
                        }), " 您已提交成功，请耐心等待礼物寄送"), J.a.createElement("div", {
                            className: "content"
                        }, J.a.createElement("div", {
                            className: "address"
                        }, J.a.createElement("div", {
                            className: "basicInfo"
                        }, J.a.createElement("span", {
                            className: "name"
                        }, t), J.a.createElement("span", {
                            className: "phone"
                        }, this.phone)), J.a.createElement("div", {
                            className: "addressInfo"
                        }, this.address)), J.a.createElement(zr.c, {
                            color: "blue",
                            preset: "primary",
                            size: "spread",
                            disabled: wl,
                            className: "submitBtn",
                            onClick: this.goToEdit
                        }, wl ? "地址收集已结束" : "修改地址")))
                    }
                }, {
                    key: "address",
                    get: function () {
                        var e = this.props.address
                            , t = e.detail;
                        return e.regions.map(function (e) {
                            return e.name
                        }).join("") + t
                    }
                }, {
                    key: "phone",
                    get: function () {
                        var e = this.props.address.phone;
                        return e.replace(e.substr(3, 4), "****")
                    }
                }]) && Ll(r.prototype, o),
                a && Ll(r, a),
                    t
            }();
            Ul(Fl, "contextTypes", {
                router: Qn.a.object
            }),
                Fl.css = Dl.a;
            var zl = Object(te.b)()(Fl)
                , ql = n(446)
                , Hl = n.n(ql);

            function Wl(e) {
                return (Wl = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Vl(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Kl(e) {
                return (Kl = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Yl(e, t) {
                return (Yl = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Zl(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function Ql(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var Xl = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = Kl(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== Wl(o) && "function" != typeof o ? Zl(r) : o,
                        Ql(Zl(Zl(n)), "goToCreate", function () {
                            n.context.router.push("/pub/selection/addresses?activity=1")
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Yl(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        this.props.dispatch({
                            API: {
                                types: Bt.GET_ADDRESS_WITH_ACTIVITY,
                                endpoint: "pub/selection/activity"
                            }
                        })
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props.address;
                        return J.a.createElement("div", {
                            className: "Pub-ActivityAddress"
                        }, J.a.createElement(jo.a, {
                            title: "礼品寄送地址"
                        }), e && J.a.createElement(X.Fragment, null, e.id ? J.a.createElement(zl, {
                            address: e
                        }) : J.a.createElement(Al, null)))
                    }
                }]) && Vl(n.prototype, r),
                o && Vl(n, o),
                    t
            }();
            Ql(Xl, "contextTypes", {
                router: Qn.a.object
            }),
                Xl.css = Hl.a;
            var Jl = Object(te.b)(function (e) {
                return {
                    address: e.addresses.activeAddress
                }
            })(Xl)
                , $l = [J.a.createElement(ne.d, {
                key: "OrderList",
                path: "selection/orders",
                component: fl
            }), J.a.createElement(ne.d, {
                key: "ActivityAddress",
                path: "selection/address/activity",
                component: Jl
            }), J.a.createElement(ne.d, {
                key: "ShippingOrderDemo",
                path: "selection/orders/demo",
                component: gl
            }), J.a.createElement(ne.d, {
                key: "Order",
                path: "selection/orders/:id",
                component: Ju
            }), J.a.createElement(ne.d, {
                key: "InvoiceViewer",
                path: "selection/orders/:id/invoice",
                component: cu
            }), J.a.createElement(ne.d, {
                key: "AddressEditor",
                path: "selection/addresses(/:id)",
                component: Wc
            }), J.a.createElement(ne.d, {
                key: "RegionPicker",
                path: "selection/regions(/:regionId)",
                component: Dc
            }), J.a.createElement(ne.d, {
                key: "PaperBook",
                path: "selection/:id",
                component: gc.a
            }), J.a.createElement(ne.d, {
                key: "PaperBook",
                path: "selection/:id/order",
                component: Ou
            }), J.a.createElement(ne.d, {
                key: "InvoiceEditor",
                path: "selection/:id/order/invoice",
                component: cu
            })]
                , es = n(447)
                , ts = n.n(es);

            function ns(e) {
                return (ns = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function rs(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function os(e) {
                return (os = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function as(e, t) {
                return (as = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function is(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function cs(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var us = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = os(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== ns(o) && "function" != typeof o ? is(r) : o,
                        cs(is(is(n)), "loadMore", function () {
                            n.props.dispatch(Object(Ye.b)(n.props.params.token))
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && as(e, t)
                }(t, J.a.Component),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props.features[this.props.params.token];
                        if (!e)
                            return null;
                        var t = e.name
                            , n = e.description
                            , r = e.url
                            , o = e.items
                            , a = e.isFetching
                            , i = e.isDrained
                            , c = this.props.specialList;
                        return J.a.createElement("div", {
                            className: "PubLayout"
                        }, J.a.createElement(Nn.a, {
                            title: t
                        }), J.a.createElement(An.a, {
                            title: t,
                            desc: n,
                            link: r
                        }), J.a.createElement(Fr.c, {
                            className: "PubLayout-main"
                        }, J.a.createElement(Fr.a, {
                            className: "hide-sm"
                        }, t), J.a.createElement("div", {
                            className: "PubLayout-mainInner"
                        }, J.a.createElement("div", {
                            className: Sr()("PubIndex-main", {
                                "is-drained": i
                            })
                        }, J.a.createElement(Pr.b, {
                            isLoading: a,
                            isDrained: i,
                            onLoad: this.loadMore,
                            placeholder: jr.a
                        }, J.a.createElement("ul", {
                            className: "PubFeature-bookList"
                        }, o.map(function (e) {
                            return J.a.createElement("li", {
                                key: e.id
                            }, J.a.createElement(Qr.d, {
                                book: e
                            }))
                        })))), J.a.createElement(ic, null))), J.a.createElement(Fr.c, {
                            className: "PubLayout-side"
                        }, J.a.createElement(Fr.a, null, "更多专题"), J.a.createElement("div", {
                            className: "PubLayout-sideInner"
                        }, J.a.createElement(ei, {
                            specialList: c
                        }))))
                    }
                }]) && rs(n.prototype, r),
                o && rs(n, o),
                    t
            }();
            cs(us, "fetchData", function (e) {
                var t = e.dispatch
                    , n = e.params;
                return Promise.all([t(Object(Ye.b)(n.token, {
                    limit: 5
                })), t(Object(tt.d)({
                    random: 1,
                    limit: 10
                }))])
            }),
                us.css = ts.a;
            var ls = Object(te.b)(function (e) {
                return {
                    features: e.features,
                    specialList: e.special.list
                }
            })(us)
                , ss = J.a.createElement(ne.d, {
                path: "features"
            }, J.a.createElement(ne.d, {
                path: ":token",
                component: ls
            }))
                , fs = n(257)
                , ps = n(183)
                , ms = n(58)
                , bs = n(174)
                , ds = n(40)
                , ys = n(191)
                , hs = n(269)
                , vs = n(449)
                , gs = n.n(vs);

            function Os(e) {
                return (Os = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Es(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function ws(e) {
                return (ws = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Ss(e, t) {
                return (Ss = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Ps(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function ks(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var js = function (e) {
                function t(e, r) {
                    var o, a, i;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        a = this,
                        i = ws(t).call(this, e, r),
                        o = !i || "object" !== Os(i) && "function" != typeof i ? Ps(a) : i,
                        ks(Ps(Ps(o)), "onClickBuyBook", function () {
                            var e = o.props.bookInfo
                                , t = (void 0 === e ? {} : e).skuId;
                            Object(hs.a)({
                                skuId: t
                            })
                        }),
                        ks(Ps(Ps(o)), "onRequestPayClose", function () {
                            o.setState({
                                payUIShow: !1
                            })
                        }),
                        ks(Ps(Ps(o)), "handlePaySuccess", function () {
                            var e = o.props
                                , t = e.dispatch
                                , n = e.params.id;
                            t(Object(Be.c)(n)).then(function () {
                                o.setState({
                                    payUIShow: !1
                                })
                            })
                        }),
                        ks(Ps(Ps(o)), "renderBuyWords", function () {
                            var e = o.props.bookInfo || {}
                                , t = e.promotion || {}
                                , n = t[t.isPromotion ? "promotionPrice" : "price"]
                                , r = e.right || {};
                            return Object(ds.c)(e) ? J.a.createElement(X.Fragment, null, "会员专属 ", r.value || "7", " 折 ", J.a.createElement(uu.a, {
                                cent: t.promotionPrice,
                                className: "BookItem-price"
                            })) : t.isPromotion ? J.a.createElement(X.Fragment, null, J.a.createElement("span", {
                                className: "LongWindedText"
                            }, "限时特价"), " ", J.a.createElement(uu.a, {
                                cent: t.promotionPrice,
                                className: "BookItem-price"
                            }), J.a.createElement(uu.a, {
                                cent: t.price,
                                className: "BookItem-value"
                            })) : J.a.createElement(X.Fragment, null, J.a.createElement("span", {
                                className: "LongWindedText"
                            }, "立即"), "购买 ", J.a.createElement(uu.a, {
                                cent: n,
                                className: "BookItem-price"
                            }))
                        }),
                        ks(Ps(Ps(o)), "onSubscribeClick", function () {
                            var e = o.props
                                , t = e.bookInfo.isSubscribed
                                , n = e.dispatch
                                , r = e.params.id;
                            n((t ? an : cn)()).then(function (e) {
                                e.res.ok && (n(Object(Be.f)(r)),
                                t || Zr.pop({
                                    title: Sn.d.successTitle,
                                    message: Sn.d.successMessage
                                }))
                            })
                        }),
                        ks(Ps(Ps(o)), "renderReaderButtonContent", function () {
                            var e = o.props.bookInfo
                                , t = void 0 === e ? {} : e
                                , r = t.right
                                , a = t.memberRole
                                , i = Object(ds.g)(t)
                                , c = Object(ds.d)(t)
                                , u = Object(ds.h)(t)
                                ,
                                l = u ? "继续阅读" : Object(ds.e)(a) && r ? Object(ds.f)(t) ? "阅读" : i ? "试读" : "立即阅读" : c;
                            return J.a.createElement(X.Fragment, null, i || u ? J.a.createElement("span", {
                                className: "IconTextWrapper"
                            }, J.a.createElement(In.a, {
                                className: Sr()("BookIcon", {
                                    InReading: u
                                }),
                                src: n(486),
                                width: "14"
                            }), " ", l) : l)
                        }),
                        o.state = {
                            payUIShow: !1,
                            weeklyTooltipShown: !1
                        },
                        o.onClickBuyBook = r.authRequired(o.onClickBuyBook.bind(Ps(Ps(o))), Sn.e.buy),
                        o.onSubscribeClick = r.authRequired(o.onSubscribeClick.bind(Ps(Ps(o))), []),
                        o
                }

                var r, o, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Ss(e, t)
                }(t, X["PureComponent"]),
                    r = t,
                (o = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props.bookInfo
                            , t = e.canSubscribe
                            , n = e.isSubscribed;
                        this.setState({
                            weeklyTooltipShown: t && !n
                        })
                    }
                }, {
                    key: "handleZaTrackEvent",
                    value: function (e, t, n) {
                        var r = this.props.bookInfo;
                        b.a.setModule(e.target, {
                            module: "EBookItem"
                        }, {
                            card: {
                                content: {
                                    token: String(r.id),
                                    type: "EBook"
                                }
                            }
                        });
                        var o = {
                            action: t,
                            element: "Pay" === t ? "Button" : "Link"
                        };
                        "Pay" === t && (o.is_intent = !0),
                            b.a.trackEvent(e.target, o, {
                                link: {
                                    url: "/pub/book/".concat(r.id)
                                }
                            }),
                        n && n()
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.bookInfo
                            , r = void 0 === n ? {} : n
                            , o = t.buyInfo
                            , a = r.id
                            , i = r.title
                            , c = r.canSubscribe
                            , u = r.isSubscribed
                            , l = r.memberRole
                            , s = r.promotion || {}
                            , f = s[s.isPromotion ? "promotionPrice" : "price"]
                            , p = "/pub/reader/".concat(a)
                            , m = Object(ds.e)(l)
                            , b = Object(ds.g)(r)
                            , d = Object(ds.i)(r)
                            , y = this.state.weeklyTooltipShown
                            , h = Object(ds.b)(r);
                        return J.a.createElement("div", {
                            className: "MPub-bottomBarBase"
                        }, J.a.createElement("div", {
                            className: "MPub-BookBottomTabs"
                        }, c && J.a.createElement(zr.c, {
                            className: Sr()("Subscribe", {
                                isSubscribed: u
                            }),
                            onClick: this.onSubscribeClick
                        }, u ? "已订阅" : "免费订阅"), J.a.createElement(ys.a, {
                            className: "MPub-BookBottomTabs-Tooltip Weekly",
                            shown: y,
                            content: Sn.d.updateMessage,
                            hideOnClick: !0,
                            onClose: function () {
                                e.setState({
                                    weeklyTooltipShown: !1
                                })
                            }
                        }), J.a.createElement(zr.c, {
                            component: ne.c,
                            className: b ? "TryReader" : m && Object(ds.f)(r) ? "VipButton ReaderButton" : "ReaderButton",
                            to: p
                        }, this.renderReaderButtonContent()), b && J.a.createElement(zr.c, {
                            onClick: function (t) {
                                e.handleZaTrackEvent(t, "Pay", e.onClickBuyBook)
                            },
                            preset: "primary",
                            className: Sr()("Buy", {
                                VipButton: Object(ds.c)(r),
                                Short: d,
                                PayPrice: h
                            }),
                            disabled: o.isFetching
                        }, this.renderBuyWords()), d && J.a.createElement(ac, {
                            className: "Button Short VipButton",
                            href: "/pub/book/".concat(r.id)
                        }, Object(ds.f)(r) ? "会员免费读" : Object(ds.a)(r)), this.state.payUIShow && J.a.createElement(Eu.b, Object.assign({}, o, {
                            title: "购买电子书",
                            subTitle: i,
                            price: f,
                            showCoupon: !0,
                            onSuccess: this.handlePaySuccess,
                            onRequestClose: this.onRequestPayClose,
                            successTitle: "购买成功",
                            successTipTimeout: 3
                        }))))
                    }
                }]) && Es(r.prototype, o),
                a && Es(r, a),
                    t
            }();
            ks(js, "contextTypes", {
                currentUser: Qn.a.object,
                authRequired: Qn.a.func
            }),
                js.css = gs.a;
            var _s = js
                , Ts = n(450)
                , Cs = n.n(Ts);

            function Ns(e, t) {
                if (null == e)
                    return {};
                var n, r, o = function (e, t) {
                    if (null == e)
                        return {};
                    var n, r, o = {}, a = Object.keys(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || (o[n] = e[n]);
                    return o
                }(e, t);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (r = 0; r < a.length; r++)
                        n = a[r],
                        t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
                }
                return o
            }

            var Is = function (e) {
                var t = e.author
                    , n = e.component
                    , r = e.className
                    , o = Ns(e, ["author", "component", "className"]);
                return t = t || {},
                    J.a.createElement(n, Object.assign({
                        className: Sr()("AuthorAvatarInfo", r)
                    }, o), J.a.createElement(Rn.a, {
                        width: "20",
                        height: "20",
                        src: t.avatarUrl,
                        alt: t.name,
                        className: "AuthorImage"
                    }), J.a.createElement("span", {
                        className: "AuthorName"
                    }, t.name))
            };
            Is.defaultProps = {
                component: "span"
            },
                Is.css = Cs.a;
            var As = Is
                , xs = n(188)
                , Ds = n.n(xs);

            function Rs(e) {
                return (Rs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Ls(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Bs(e) {
                return (Bs = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Ms(e, t) {
                return (Ms = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Gs(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var Us = function (e) {
                function t() {
                    var e, n, r, o, a, i, c;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var u = arguments.length, l = new Array(u), s = 0; s < u; s++)
                        l[s] = arguments[s];
                    return r = this,
                        n = !(o = (e = Bs(t)).call.apply(e, [this].concat(l))) || "object" !== Rs(o) && "function" != typeof o ? Gs(r) : o,
                        a = Gs(Gs(n)),
                        c = function (e) {
                            b.a.trackEvent(e.target, {
                                action: "Expand",
                                element: "Button"
                            })
                        }
                        ,
                        (i = "showMore") in a ? Object.defineProperty(a, i, {
                            value: c,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : a[i] = c,
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Ms(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e, t = this, n = this.props, r = n.book, o = n.book.authors, a = o[0], i = o.length > 1;
                        e = i ? "/pub/book/".concat(r.id, "/authors") : a.url;
                        var c = J.a.createElement(As, Object.assign({
                            author: a,
                            component: e ? "a" : "span"
                        }, e ? {
                            href: e
                        } : {}, {
                            "data-za-module": "UserItem",
                            "data-za-module-info": JSON.stringify({
                                card: {
                                    content: {
                                        member_hash_id: a.id,
                                        type: "User"
                                    }
                                }
                            })
                        }));
                        return J.a.createElement("div", {
                            className: "BookInfo"
                        }, J.a.createElement(ne.c, {
                            className: "AnimateBookCover",
                            to: "/pub/reader/".concat(r.id),
                            "data-za-detail-view-element_name": "Cover",
                            "data-za-module-info": JSON.stringify({
                                card: {
                                    content: {
                                        token: String(r.id),
                                        type: "EBook"
                                    }
                                }
                            }),
                            ref: function (e) {
                                t.bookCover = e
                            }
                        }, J.a.createElement(gi.a, {
                            className: "BlurBg",
                            src: r.cover,
                            width: "160",
                            height: "227",
                            type: "电子书",
                            alt: r.title
                        }), J.a.createElement(gi.a, {
                            src: r.cover,
                            width: "160",
                            height: "227",
                            type: "电子书",
                            alt: r.title
                        })), J.a.createElement("h1", {
                            itemProp: "name"
                        }, r.title), J.a.createElement("div", {
                            itemProp: "author",
                            className: Sr()("BookAuthor", {
                                Multiple: i
                            })
                        }, c, " ", i && "等"), J.a.createElement("div", {
                            className: "Achievement",
                            itemProp: "aggregateRating",
                            itemScope: !0,
                            itemType: "http://schema.org/AggregateRating"
                        }, !!r.score && J.a.createElement("span", {
                            className: "BookScore",
                            itemProp: "ratingValue"
                        }, r.score.toFixed(1), J.a.createElement(ms.a, {
                            className: "score",
                            score: r.score
                        }))), J.a.createElement(Ma, {
                            className: "BookDesc",
                            itemProp: "description",
                            content: r.preface,
                            maxLine: "2",
                            ellipsis: "... 更多",
                            onFullShownClick: this.showMore
                        }))
                    }
                }]) && Ls(n.prototype, r),
                o && Ls(n, o),
                    t
            }();
            Us.css = Ds.a;
            var Fs = Us
                , zs = n(451)
                , qs = n.n(zs);

            function Hs(e) {
                return (Hs = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Ws(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Vs(e, t) {
                return !t || "object" !== Hs(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function Ks(e) {
                return (Ks = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Ys(e, t) {
                return (Ys = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var Zs = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        Vs(this, Ks(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Ys(e, t)
                }(t, J.a.Component),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props
                            , t = e.anchorId
                            , n = void 0 === t ? "" : t
                            , r = e.comment;
                        if (n) {
                            var o = document.getElementById(n);
                            o && +r.id == +n && o.scrollIntoView({
                                block: "center",
                                behavior: "smooth"
                            })
                        }
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props.comment
                            , t = e.created
                            , n = Object(pt.c)(1e3 * t, "YYYY-MM-DD hh:mm");
                        return J.a.createElement("div", {
                            id: e.id,
                            itemProp: "comment",
                            className: "MPub-book-commentsItem",
                            key: e.id
                        }, J.a.createElement("div", {
                            className: "CommentSummary"
                        }, J.a.createElement(As, {
                            component: "a",
                            href: e.author.url,
                            author: e.author
                        }), !1), J.a.createElement("span", {
                            "data-za-module": "BookReviewItem",
                            "data-za-module-info": JSON.stringify({
                                card: {
                                    content: {
                                        token: String(e.id),
                                        type: "BookReview"
                                    }
                                }
                            })
                        }, J.a.createElement(di.a, {
                            component: "p",
                            className: "CommentContent",
                            maxLine: 5,
                            text: e.content
                        }), J.a.createElement("p", {
                            className: "CommentFooter"
                        }, n)))
                    }
                }]) && Ws(n.prototype, r),
                o && Ws(n, o),
                    t
            }();
            Zs.css = qs.a;
            var Qs = Zs
                , Xs = n(452)
                , Js = function (e) {
                var t = e.data;
                return J.a.createElement("div", {
                    className: Sr()("Prompt", {
                        highlight: "highlight" === t.type
                    })
                }, J.a.createElement("div", {
                    className: "Content",
                    dangerouslySetInnerHTML: {
                        __html: t.content
                    }
                }), "general" === t.type && J.a.createElement("div", {
                    className: "Direction",
                    dangerouslySetInnerHTML: {
                        __html: t.direction
                    }
                }))
            };
            Js.css = n.n(Xs).a;
            var $s = Js
                , ef = (n(757),
                    function () {
                        return J.a.createElement("div", {
                            className: "FailedLoad"
                        }, J.a.createElement("div", {
                            className: "FailedLoadWrapper"
                        }, J.a.createElement("p", {
                            className: "Title"
                        }, "网络加载错误"), J.a.createElement("p", null, J.a.createElement("span", {
                            className: "Reload",
                            onClick: function () {
                                return window.location.reload()
                            }
                        }, "点击重试"))))
                    }
            )
                , tf = n(270)
                , nf = n(189)
                , rf = n.n(nf);

            function of(e) {
                return (of = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function af(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function cf(e) {
                return (cf = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function uf(e, t) {
                return (uf = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function lf(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function sf(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var ff = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = cf(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== of(o) && "function" != typeof o ? lf(r) : o,
                        sf(lf(lf(n)), "renderComment", function () {
                            var e = n.props
                                , t = e.bookInfo
                                , r = e.bookComments
                                , o = location.hash.split("=")[1] || "";
                            return J.a.createElement(Fr.c, {
                                className: "MPub-book-index-comment"
                            }, J.a.createElement(Fr.a, {
                                className: "Comments-header"
                            }, J.a.createElement("span", null, "点评", J.a.createElement("p", {
                                className: "SubTitle"
                            }, t.reviewCount > 0 ? "".concat(t.reviewCount, " 条知友点评") : "你可以写几句对本书的评价或看法")), t.reviewCount > 0 && J.a.createElement(ac, {
                                onClick: n.zaWriteComment,
                                href: "/pub/review/edit/".concat(t.id),
                                className: "Write-comment SubTitle AppLinkToComment"
                            })), 0 === t.reviewCount && J.a.createElement(Fr.b, {
                                className: "InitScore"
                            }, J.a.createElement(ac, {
                                onClick: n.zaWriteComment,
                                href: "/pub/review/edit/".concat(t.id),
                                className: "AppLinkToComment"
                            }, J.a.createElement(ms.a, {
                                className: "score",
                                score: 0
                            }))), r && Array.isArray(r.data) && r.data.map(function (e) {
                                return J.a.createElement(Fr.b, {
                                    key: e.id,
                                    className: "BookReviewsItem"
                                }, J.a.createElement(Qs, {
                                    comment: e,
                                    bookId: t.id,
                                    anchorId: o
                                }))
                            }))
                        }),
                        sf(lf(lf(n)), "renderPackage", function () {
                            var e = n.props.extendInfo
                                , t = e && e.package || {};
                            if (!Object.keys(t).length)
                                return null;
                            var r = t.id
                                , o = t.discountInfo
                                , a = t.mode
                                , i = t.name
                                , c = t.totals;
                            return J.a.createElement(ne.c, {
                                to: "/pub/packages/".concat(r),
                                className: "Card MPub-book-index-package"
                            }, J.a.createElement(Fr.a, null, "打包售卖特惠 ", J.a.createElement("span", {
                                className: "discountDesc"
                            }, o.discountDesc)), J.a.createElement(bs.a, {
                                packageData: t,
                                imageDefer: "inview"
                            }), "full" === a && J.a.createElement("div", {
                                className: "FullMode-PackageInfo"
                            }, J.a.createElement("h3", null, i), J.a.createElement("p", null, c, " 本精选图书")), J.a.createElement("div", {
                                className: "buy"
                            }, "立即购买"))
                        }),
                        sf(lf(lf(n)), "renderRecommends", function () {
                            var e = ((n.props.extendInfo || {}).recommend || {}).data;
                            return J.a.createElement(Hn.a, {
                                module: "EBookList",
                                moduleName: "相关推荐"
                            }, J.a.createElement("div", {
                                className: "MPub-book-index-recommend Card"
                            }, J.a.createElement(Fr.a, null, "相关推荐", J.a.createElement("p", {
                                className: "SubTitle"
                            }, "读完这本书的人正在读")), Array.isArray(e) && e.map(function (e) {
                                return J.a.createElement(Hn.a, {
                                    trackCardShow: !0,
                                    module: "EBookItem",
                                    content: {
                                        token: String(e.id),
                                        type: "EBook"
                                    },
                                    key: e.id
                                }, J.a.createElement("div", {
                                    className: "RecommendItem Card-section"
                                }, J.a.createElement(ps.a, {
                                    book: e,
                                    imageDefer: "inview"
                                })))
                            })))
                        }),
                        sf(lf(lf(n)), "renderSpecial", function () {
                            var e = n.props.extendInfo
                                , t = e && e.special || {};
                            return Object.keys(t).length ? J.a.createElement(Hn.a, {
                                trackCardShow: !0,
                                module: "EBookSpecialItem",
                                moduleName: "相关专题",
                                content: {
                                    token: String(t.id),
                                    type: "EBookSpecial"
                                }
                            }, J.a.createElement("div", {
                                className: "MPub-book-index-special Card"
                            }, J.a.createElement(Fr.a, null, "相关专题"), J.a.createElement(Fr.b, null, J.a.createElement(ne.c, {
                                to: "/pub/specials/".concat(t.id)
                            }, J.a.createElement(Rn.a, {
                                src: t.cover,
                                alt: t.name,
                                width: "510",
                                height: "214",
                                defer: "inview"
                            }), J.a.createElement("p", {
                                className: "SpecialName"
                            }, t.name))))) : null
                        }),
                        sf(lf(lf(n)), "zaWriteComment", function (e) {
                            b.a.setModule(e.target, {
                                module: "EBookItem"
                            }, {
                                card: {
                                    content: {
                                        token: String(n.props.params.id),
                                        type: "EBook"
                                    }
                                }
                            }),
                                b.a.trackEvent(e.target, {
                                    action: "Review",
                                    element: "Button"
                                })
                        }),
                        sf(lf(lf(n)), "renderPrompts", function () {
                            var e = n.props
                                , t = e.bookInfo
                                , r = e.bookInfo
                                , o = r.prompts
                                , a = void 0 === o ? [] : o
                                , i = r.right;
                            return J.a.createElement("div", {
                                className: "PromptList"
                            }, a.map(function (e, t) {
                                return J.a.createElement($s, {
                                    data: e,
                                    key: t
                                })
                            }), Object(ds.i)(t) && J.a.createElement("a", {
                                className: "Prompt BookVipGuidance",
                                href: "https://www.zhihu.com/remix/instabooks"
                            }, i.guidance))
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && uf(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props
                            , t = e.dispatch
                            , n = e.params.id
                            , r = e.bookInfo
                            , o = e.extendInfo;
                        r || t(Object(Be.c)(n)).then(function (e) {
                            return t(Object(Be.d)(e.payload.skuId, n))
                        }),
                        o || t(Object(Be.e)(n))
                    }
                }, {
                    key: "componentWillReceiveProps",
                    value: function (e) {
                        var t = e.params.id
                            , n = e.dispatch;
                        this.props.params.id !== t && (n(Object(Be.c)(t)).then(function (e) {
                            return n(Object(Be.d)(e.payload.skuId, t))
                        }),
                            n(Object(Be.e)(t)))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props.bookInfo;
                        if (!e)
                            return jr.a;
                        if (e.error)
                            return J.a.createElement(ef, null);
                        var t = e.prompts || []
                            , n = "https://www.zhihu.com/pub/book/".concat(e.id);
                        return J.a.createElement("div", {
                            className: "MPub-book-index",
                            itemType: "http://schema.org/Book",
                            itemScope: !0
                        }, J.a.createElement(jo.a, {
                            title: e.title,
                            meta: [{
                                property: "og:image",
                                content: e.cover
                            }, {
                                property: "og:description",
                                content: e.description
                            }],
                            link: [{
                                rel: "canonical",
                                href: n
                            }]
                        }), J.a.createElement("meta", {
                            itemProp: "url",
                            content: n
                        }), J.a.createElement(An.a, {
                            title: e.title,
                            desc: e.description,
                            imgUrl: e.cover,
                            type: "link"
                        }), J.a.createElement(Fr.c, {
                            className: "MPub-book-index-info"
                        }, J.a.createElement(Fr.b, null, J.a.createElement(Fs, {
                            book: e
                        }), this.renderPrompts(), 0 === t.length && !Object(ds.i)(e) && J.a.createElement("hr", null), J.a.createElement(ne.c, {
                            to: "/pub/book/".concat(e.id, "/contents"),
                            className: "Contents",
                            "data-za-detail-view-name": "查看目录",
                            "data-za-module": "EBookItem",
                            "data-za-module-info": JSON.stringify({
                                card: {
                                    content: {
                                        token: String(e.id),
                                        type: "EBook"
                                    }
                                }
                            })
                        }, J.a.createElement(Ua.a, {
                            name: "contents",
                            className: "Content-Icon",
                            width: 14
                        }), "查看目录", J.a.createElement(Ua.a, {
                            name: "arrowRight",
                            className: "ArrowRight",
                            fill: "#D4D4D9",
                            width: 8
                        })))), this.renderComment(), this.renderPackage(), this.renderRecommends(), this.renderSpecial(), J.a.createElement(Fr.c, {
                            className: "MPub-book-index-extraInfo"
                        }, J.a.createElement(Fr.a, null, "更多图书详情信息"), J.a.createElement(Fr.b, null, J.a.createElement("p", {
                            itemProp: "copyrightHolder"
                        }, "版权方：", e.publisherName), J.a.createElement("p", null, "字数：", e.wordsCount), J.a.createElement("p", null, "大小：", Object(fs.b)(e.bookSize)))), J.a.createElement(_s, this.props))
                    }
                }]) && af(n.prototype, r),
                o && af(n, o),
                    t
            }();
            sf(ff, "fetchData", function (e) {
                var t = e.params.id
                    , n = e.dispatch;
                return Promise.all([n(Object(Be.c)(t)).then(function (e) {
                    return n(Object(Be.d)(e.payload.skuId, t))
                }), n(Object(Be.e)(t))])
            }),
                ff.css = rf.a;
            var pf = Object(tf.a)(Object(te.b)(function (e, t) {
                var n = t.params.id;
                return function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {}
                            , r = Object.keys(n);
                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                        }))),
                            r.forEach(function (t) {
                                sf(e, t, n[t])
                            })
                    }
                    return e
                }({}, e.book[n], {
                    buyInfo: e.book.buyInfo
                })
            })(ff))
                , mf = n(453)
                , bf = n.n(mf);

            function df(e) {
                return (df = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function yf(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function hf(e, t) {
                return !t || "object" !== df(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function vf(e) {
                return (vf = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function gf(e, t) {
                return (gf = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var Of = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        hf(this, vf(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && gf(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props.params.id;
                        this.props.bookInfo || this.props.dispatch(Object(Be.c)(e))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props.bookInfo || {};
                        return J.a.createElement("div", {
                            className: "MPub-book-contents"
                        }, J.a.createElement(jo.a, {
                            title: e.title
                        }), J.a.createElement(Fr.c, null, J.a.createElement(Ta.a, {
                            className: "Contents",
                            content: e.table
                        })))
                    }
                }]) && yf(n.prototype, r),
                o && yf(n, o),
                    t
            }();
            !function (e, t, n) {
                t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n
            }(Of, "fetchData", function (e) {
                var t = e.params.id;
                return Object(Be.c)(t)
            }),
                Of.css = bf.a;
            var Ef = Object(te.b)(function (e, t) {
                var n = t.params.id;
                return {
                    bookInfo: e.book[n].bookInfo
                }
            })(Of)
                , wf = n(454)
                , Sf = n.n(wf);

            function Pf(e) {
                return (Pf = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function kf(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function jf(e, t) {
                return !t || "object" !== Pf(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function _f(e) {
                return (_f = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Tf(e, t) {
                return (Tf = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Cf(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var Nf = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        jf(this, _f(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Tf(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props.params.id;
                        this.props.bookInfo || this.props.dispatch(Object(Be.c)(e))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props.bookInfo || {}
                            , t = e.authors;
                        return J.a.createElement("div", {
                            className: "MPub-book-authors"
                        }, J.a.createElement(jo.a, {
                            title: "作者列表 - ".concat(e.title)
                        }), J.a.createElement(Fr.c, null, t && t.map(function (e, t) {
                            var n = e.url
                                , r = J.a.createElement(As, {
                                author: function (e) {
                                    for (var t = 1; t < arguments.length; t++) {
                                        var n = null != arguments[t] ? arguments[t] : {}
                                            , r = Object.keys(n);
                                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                                        }))),
                                            r.forEach(function (t) {
                                                Cf(e, t, n[t])
                                            })
                                    }
                                    return e
                                }({}, e, {
                                    avatarPath: e.avatarUrl
                                })
                            });
                            return n ? J.a.createElement("a", {
                                key: t,
                                className: "AuthorItem",
                                href: e.url
                            }, r, J.a.createElement(Ua.a, {
                                name: "arrowRight",
                                className: "ArrowRight",
                                fill: "#D4D4D9",
                                width: 8
                            })) : J.a.createElement("div", {
                                key: t,
                                className: "AuthorItem"
                            }, r)
                        })))
                    }
                }]) && kf(n.prototype, r),
                o && kf(n, o),
                    t
            }();
            Cf(Nf, "fetchData", function (e) {
                var t = e.params.id;
                return Object(Be.c)(t)
            }),
                Nf.css = Sf.a;
            var If = Object(te.b)(function (e, t) {
                var n = t.params.id;
                return {
                    bookInfo: e.book[n].bookInfo
                }
            })(Nf);
            var Af = n(771)
                , xf = n(772)
                , Df = n(763)
                , Rf = n(186)
                , Lf = n(455)
                , Bf = n.n(Lf);

            function Mf(e) {
                return (Mf = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Gf(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Uf(e) {
                return (Uf = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Ff(e, t) {
                return (Ff = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function zf(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var qf = function (e) {
                function t() {
                    var e, n, r, o, a, i, c;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var u = arguments.length, l = new Array(u), s = 0; s < u; s++)
                        l[s] = arguments[s];
                    return r = this,
                        n = !(o = (e = Uf(t)).call.apply(e, [this].concat(l))) || "object" !== Mf(o) && "function" != typeof o ? zf(r) : o,
                        a = zf(zf(n)),
                        c = function (e) {
                            b.a.trackEvent(e.target, {
                                action: "Expand",
                                element: "Button"
                            })
                        }
                        ,
                        (i = "showMore") in a ? Object.defineProperty(a, i, {
                            value: c,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : a[i] = c,
                        n
                }

                var r, o, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Ff(e, t)
                }(t, J.a.PureComponent),
                    r = t,
                (o = [{
                    key: "render",
                    value: function () {
                        var e = this.props.book
                            , t = void 0 === e ? {} : e
                            , r = t.creators && t.creators.authors || []
                            , o = t.bookRels && t.bookRels.ebook;
                        return J.a.createElement("div", {
                            className: Sr()("BookInfo", "AudioBookInfo")
                        }, J.a.createElement("div", {
                            className: "AnimateBookCover"
                        }, J.a.createElement(gi.a, {
                            className: "BlurBg",
                            src: t.cover,
                            width: "160",
                            height: "227",
                            alt: t.title
                        }), J.a.createElement(gi.a, {
                            src: t.cover,
                            width: "160",
                            height: "227",
                            alt: t.title
                        })), J.a.createElement("h1", {
                            itemProp: "name"
                        }, t.title), r.length > 0 && J.a.createElement("div", {
                            itemProp: "author",
                            className: "BookAuthor"
                        }, r[0].url ? J.a.createElement("a", {
                            href: r[0].url
                        }, r[0].avatarUrl && J.a.createElement(Rn.a, {
                            width: "20",
                            height: "20",
                            src: r[0].avatarUrl,
                            alt: r[0].name,
                            className: "AuthorImage"
                        }), r[0].name) : J.a.createElement("span", null, r[0].name), r.length > 1 && J.a.createElement("span", null, " 等")), J.a.createElement("div", {
                            className: "Achievement",
                            itemProp: "aggregateRating",
                            itemScope: !0,
                            itemType: "http://schema.org/AggregateRating"
                        }, !!t.score && J.a.createElement("span", {
                            className: "BookScore",
                            itemProp: "ratingValue"
                        }, t.score.toFixed(1), J.a.createElement(ms.a, {
                            className: "score",
                            score: t.score
                        })), J.a.createElement(Rf.a, {
                            icon: J.a.createElement(In.a, {
                                src: n(487),
                                width: 9,
                                height: 8
                            }),
                            color: "blue",
                            fontSize: 10,
                            separate: !0
                        }, "有声书")), J.a.createElement(Ma, {
                            className: "BookDesc",
                            itemProp: "description",
                            content: t.description,
                            maxLine: "2",
                            ellipsis: "... 查看全部",
                            onFullShownClick: this.showMore,
                            useRawHTML: !0
                        }), o && J.a.createElement(qn.a, {
                            className: "related-book",
                            to: "/pub/book/".concat(o)
                        }, J.a.createElement(In.a, {
                            src: n(488),
                            width: 15
                        }), J.a.createElement("span", {
                            className: "text"
                        }, "有电子书在售"), J.a.createElement(wc.a, {
                            width: 30,
                            height: 30
                        })))
                    }
                }]) && Gf(r.prototype, o),
                a && Gf(r, a),
                    t
            }();
            qf.css = [Ds.a, Bf.a];
            var Hf = qf
                , Wf = n(175);

            function Vf(e) {
                return (Vf = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Kf(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Yf(e, t) {
                return !t || "object" !== Vf(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function Zf(e) {
                return (Zf = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Qf(e, t) {
                return (Qf = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var Xf = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        Yf(this, Zf(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Qf(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.ua
                            , r = t.versionIOS
                            , o = t.versionAndroid
                            , a = t.title
                            , i = t.content
                            , c = t.button
                            , u = void 0 === c ? {} : c
                            , l = u.ok
                            , s = void 0 === l ? {} : l
                            , f = u.cancel
                            , p = void 0 === f ? {} : f;
                        !n.Zhihu || Ur.gte(n.ZhihuIOSVersionName, r) || Ur.gte(n.ZhihuAndroidVersionName, o) || Wf.a.confirm(J.a.createElement("div", {
                            style: {
                                textAlign: "center"
                            }
                        }, J.a.createElement("h3", {
                            style: {
                                marginBottom: "15px",
                                fontSize: "18px",
                                fontWeight: "bold"
                            }
                        }, a), J.a.createElement("div", null, i)), {
                            text: {
                                ok: s.text || "立即升级",
                                cancel: p.text
                            }
                        }).then(function () {
                            "function" == typeof s.onClick ? s.onClick() : location.href = Sn.b
                        }, function () {
                            "function" == typeof p.onClick ? p.onClick() : e.context.router.push("/pub")
                        })
                    }
                }, {
                    key: "render",
                    value: function () {
                        return null
                    }
                }]) && Kf(n.prototype, r),
                o && Kf(n, o),
                    t
            }();
            !function (e, t, n) {
                t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n
            }(Xf, "contextTypes", {
                router: Qn.a.object
            });
            var Jf = Object(te.b)(function (e) {
                return {
                    ua: e.env.userAgent
                }
            })(Xf);

            function $f(e) {
                return ($f = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function ep(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function tp(e, t) {
                return !t || "object" !== $f(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function np(e) {
                return (np = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function rp(e, t) {
                return (rp = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var op = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        tp(this, np(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && rp(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        return J.a.createElement(Jf, {
                            versionIOS: "4.9",
                            versionAndroid: "5.10",
                            title: "释放双眼 聆听世界",
                            content: J.a.createElement("p", null, "想要享受有声书的精彩体验？", J.a.createElement("br", null), "立即升级到最新版本「知乎」客户端"),
                            button: {
                                cancel: {
                                    onClick: this.props.onCancel
                                }
                            }
                        })
                    }
                }]) && ep(n.prototype, r),
                o && ep(n, o),
                    t
            }()
                , ap = n(456)
                , ip = n.n(ap);

            function cp(e) {
                return (cp = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function up(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function lp(e) {
                return (lp = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function sp(e, t) {
                return (sp = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function fp(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function pp(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var mp = "ERR_CANCEL"
                , bp = function (e) {
                function t(e, n) {
                    var r, o, a;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        o = this,
                        a = lp(t).call(this, e, n),
                        r = !a || "object" !== cp(a) && "function" != typeof a ? fp(o) : a,
                        pp(fp(fp(r)), "getChapter", function (e) {
                            var t = r.props.book.chapters;
                            return (void 0 === t ? [] : t).find(function (t) {
                                return t.urlToken === e
                            }) || {}
                        }),
                        pp(fp(fp(r)), "toggleUpdateAlert", function () {
                            r.setState({
                                showUpdateAlert: !r.state.showUpdateAlert
                            })
                        }),
                        pp(fp(fp(r)), "play", function (e, t) {
                            var n = r.props
                                , o = n.ua
                                , a = n.book.info.id;
                            if (!o.Zhihu || Ur.gte(o.ZhihuIOSVersionName, "4.9") || Ur.gte(o.ZhihuAndroidVersionName, "5.10")) {
                                if (r.supportPlay) {
                                    var i = r.props.params.token;
                                    Mr.a.dispatch("audioBook/play", {
                                        token: i,
                                        id: a,
                                        chapter_uid: t
                                    })
                                }
                            } else
                                r.toggleUpdateAlert()
                        }),
                        pp(fp(fp(r)), "buy", function (e) {
                            var t = r.props
                                , n = t.params.token
                                , o = t.book
                                , a = t.dispatch
                                , i = t.ua
                                , c = o.info
                                , u = c.title
                                , l = c.price
                                , s = c.isOwn;
                            !i.Zhihu || Ur.gte(i.ZhihuIOSVersionName, "4.9") || Ur.gte(i.ZhihuAndroidVersionName, "5.10") ? s ? r.setState({
                                showBuyModal: !1
                            }) : (r.setState({
                                buying: !0
                            }),
                            e && e.target && b.a.trackEvent(e.target, {
                                id: 1310
                            }),
                                a(Object(Me.f)(n)).then(function (e) {
                                    var t = e.payload
                                        , o = t.buyableId
                                        , i = t.buyableToken
                                        , c = t.orderId
                                        , s = t.serviceId
                                        , f = t.tradeNumber
                                        , p = t.categoryCouponAllowed
                                        , m = {
                                        title: "购买有声书",
                                        subtitle: u,
                                        order: {
                                            id: c,
                                            payments: [{
                                                method: "zhwallet",
                                                price: {
                                                    amount: l,
                                                    unit: "RMB"
                                                },
                                                params: {
                                                    service_id: s,
                                                    trade_number: f
                                                }
                                            }]
                                        },
                                        zhwallet_settings: {
                                            service_id: s,
                                            buyable_id: o,
                                            buyable_token: i,
                                            category_coupon_allowed: p
                                        }
                                    };
                                    r.setState({
                                        buying: !1
                                    }),
                                        Mr.a.dispatch("payment/pay", m).then(function (e) {
                                            (e && e.name !== mp || !e) && (a(Object(Me.b)(n)),
                                            r.state.showBuyModal && r.setState({
                                                showBuyModal: !1
                                            }))
                                        })
                                }, function () {
                                    r.setState({
                                        buying: !1
                                    })
                                })) : r.toggleUpdateAlert()
                        }),
                        r.state = {
                            showAllChapters: !1,
                            showBuyModal: !1,
                            playing: "",
                            buying: !1,
                            showUpdateAlert: !1
                        },
                        r.buy = n.authRequired(r.buy.bind(fp(fp(r))), Sn.e.buy),
                        r
                }

                var r, o, a;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && sp(e, t)
                }(t, J.a.PureComponent),
                    r = t,
                (o = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this
                            , t = this.props
                            , n = t.book
                            , r = t.params.token
                            , o = t.dispatch;
                        n.info && n.chapters || o(Object(Me.b)(r)),
                            Mr.a.supportsAction("audioBook/play").then(function (t) {
                                e.supportPlay = t
                            }),
                            Mr.a.supportsEvent("audioBook/playStatusChange").then(function (t) {
                                t && Mr.a.listen("audioBook/playStatusChange", function (t) {
                                    t.token;
                                    var n = t.chapter_uid
                                        , r = t.status
                                        , o = e.props.book.info
                                        , a = o.isOwn
                                        , i = o.price
                                        , c = e.getChapter(n);
                                    !e.paySuccess && 0 === a && i > 0 && 0 === c.isTrial ? e.setState({
                                        showBuyModal: !0
                                    }) : "playing" === r && e.setState(function (e) {
                                        for (var t = 1; t < arguments.length; t++) {
                                            var n = null != arguments[t] ? arguments[t] : {}
                                                , r = Object.keys(n);
                                            "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                                return Object.getOwnPropertyDescriptor(n, e).enumerable
                                            }))),
                                                r.forEach(function (t) {
                                                    pp(e, t, n[t])
                                                })
                                        }
                                        return e
                                    }({}, e.state, {
                                        playing: n
                                    }))
                                })
                            }),
                            Mr.a.supportsEvent("audioBook/paySuccess").then(function (t) {
                                t && Mr.a.listen("audioBook/paySuccess", function (t) {
                                    var n = t.token;
                                    e.paySuccess = !0,
                                        e.setState({
                                            showBuyModal: !1
                                        }),
                                        o(Object(Me.b)(n))
                                })
                            })
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this
                            , t = this.props
                            , r = t.ua
                            , o = t.book
                            , a = this.state.showUpdateAlert
                            , i = o.info
                            , c = o.chapters;
                        if (!i)
                            return jr.a;
                        if (i.error)
                            return J.a.createElement(ef, null);
                        var u, l = !i.isOwn && i.price > 0, s = !i.price;
                        c.length > 8 && !this.state.showAllChapters && (c = o.chapters.slice(0, 8),
                            u = !1);
                        var f = r.Zhihu && r.iOS && Ur.gte(r.ZhihuIOSVersionName, "4.42") && Ur.lt(r.ZhihuIOSVersionName, "6.5");
                        return J.a.createElement("div", {
                            className: "MPub-book-index MPub-audio-book"
                        }, J.a.createElement(jo.a, {
                            title: i.title
                        }), a && J.a.createElement(op, {
                            onCancel: this.toggleUpdateAlert
                        }), J.a.createElement(Fr.c, {
                            className: "MPub-book-index-info"
                        }, J.a.createElement(Fr.b, null, J.a.createElement(Hf, {
                            book: i
                        }))), J.a.createElement(Fr.c, {
                            className: "MPub-audio-book-chapters"
                        }, J.a.createElement(Fr.a, null, J.a.createElement("div", {
                            className: "audio-tag"
                        }, J.a.createElement(In.a, {
                            src: n(265),
                            width: 8,
                            height: 8
                        })), c && J.a.createElement("h3", null, "全 ", o.chapters.length, " 章"), i.duration && J.a.createElement("span", null, Object(pt.d)(i.duration, "cn", 2))), J.a.createElement(Fr.b, null, c && J.a.createElement("ul", {
                            className: Sr()({
                                "show-all-chapters": !1 !== u
                            }),
                            "data-za-module": "AudioBookItem",
                            "data-za-module-info": JSON.stringify({
                                card: {
                                    content: {
                                        token: String(i.urlToken),
                                        type: "AudioBook"
                                    }
                                }
                            })
                        }, c.map(function (t, r) {
                            return J.a.createElement("li", {
                                key: r,
                                className: Sr()({
                                    "playing-state": t.urlToken === e.state.playing
                                }),
                                onClick: l && !t.isTrial ? e.buy : function (n) {
                                    e.play(n, t.urlToken)
                                }
                            }, J.a.createElement("div", {
                                className: "chapter-number"
                            }, t.urlToken === e.state.playing ? J.a.createElement(In.a, {
                                src: n(489),
                                width: 11
                            }) : r + 1), J.a.createElement("section", null, J.a.createElement("div", {
                                className: "chapter-info"
                            }, J.a.createElement("p", null, t.title), J.a.createElement("span", {
                                className: "duration"
                            }, Object(pt.d)(t.duration))), l && (t.isTrial ? J.a.createElement("span", {
                                className: "play-free"
                            }) : J.a.createElement("span", {
                                className: "is-not-own"
                            }, J.a.createElement(Af.a, {
                                width: 16,
                                height: 16
                            })))))
                        })), c && !1 === u && J.a.createElement("div", {
                            className: "show-all-chapters-button",
                            onClick: function () {
                                e.setState({
                                    showAllChapters: !0
                                })
                            }
                        }, J.a.createElement(xf.a, {
                            width: 30,
                            height: 30
                        }), J.a.createElement("span", null, "展开全部 ", o.chapters.length, " 集")))), l && J.a.createElement(Fr.c, {
                            className: "MPub-audio-book-buy-info"
                        }, J.a.createElement(Fr.a, null, "购买须知"), J.a.createElement(Fr.b, null, "本有声书由版权方授权知乎发布，未经权利人的有效授权，任何第三方不得改编、制作成任何形式， 包括但不限于文字、音频、视频等。严禁任何擅自在第三方平台传播、销售的行为，违者将被依法追究法律责任。")), !f && J.a.createElement("div", {
                            className: "u-safeAreaInsetBottomPlaceHolder"
                        }), J.a.createElement("div", {
                            className: "MPub-audio-book-bottom-bar ".concat(!f && "u-safeAreaInsetBottom")
                        }, J.a.createElement(zr.c, {
                            preset: "primary",
                            className: Sr()("play-button", {
                                needBuy: l
                            }),
                            onClick: this.play
                        }, J.a.createElement("span", null, J.a.createElement(Df.a, {
                            width: 5,
                            height: 5
                        })), J.a.createElement("span", null, l ? "试听" : s ? "免费播放" : "播放")), l && J.a.createElement(zr.c, Object.assign({
                            preset: "primary",
                            className: Sr()({
                                needBuy: l
                            }),
                            color: "blue"
                        }, this.state.buying ? {
                            disabled: !0
                        } : {
                            onClick: this.buy
                        }), J.a.createElement("span", null, "立即购买"))), !f && J.a.createElement("div", {
                            className: "u-safeAreaInsetBottomMask"
                        }), this.state.showBuyModal && J.a.createElement(xn.b, {
                            title: "",
                            className: "Modal-buy-audio-book",
                            closeButton: null,
                            onClose: function () {
                                e.setState({
                                    showBuyModal: !1
                                })
                            }
                        }, J.a.createElement(gi.a, {
                            src: i.cover,
                            width: "160",
                            height: "227",
                            alt: i.title
                        }), J.a.createElement("h3", null, i.title), J.a.createElement("span", {
                            className: "authors"
                        }, Object(pt.o)(i.creators.authors)), J.a.createElement(zr.c, {
                            onClick: this.buy
                        }, "解锁全部")))
                    }
                }]) && up(r.prototype, o),
                a && up(r, a),
                    t
            }();
            pp(bp, "contextTypes", {
                currentUser: Qn.a.object,
                authRequired: Qn.a.func
            }),
                pp(bp, "fetchData", function (e) {
                    var t = e.params.token;
                    return (0,
                        e.dispatch)(Object(Me.b)(t))
                }),
                bp.css = [rf.a, ip.a];
            var dp = Object(te.b)(function (e, t) {
                var n = t.params.token;
                return {
                    ua: e.env.userAgent,
                    book: e.audioBook[n] || {}
                }
            })(bp);

            function yp(e) {
                return (yp = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function hp(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function vp(e) {
                return (vp = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function gp(e, t) {
                return (gp = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Op(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            var Ep = function (e) {
                function t() {
                    var e, n, r, o, a, i, c;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var u = arguments.length, l = new Array(u), s = 0; s < u; s++)
                        l[s] = arguments[s];
                    return r = this,
                        o = (e = vp(t)).call.apply(e, [this].concat(l)),
                        n = !o || "object" !== yp(o) && "function" != typeof o ? Op(r) : o,
                        a = Op(Op(n)),
                        c = function () {
                            (0,
                                n.props.dispatch)(Object(Me.c)())
                        }
                        ,
                        (i = "loadMore") in a ? Object.defineProperty(a, i, {
                            value: c,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : a[i] = c,
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && gp(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props.list
                            , t = e.items
                            , n = e.isFetching
                            , r = void 0 !== n && n
                            , o = e.isDrained
                            , a = void 0 !== o && o;
                        return J.a.createElement("div", {
                            className: "MPub-audio-books"
                        }, J.a.createElement(jo.a, {
                            title: "有声书"
                        }), J.a.createElement(Pr.b, {
                            isLoading: r,
                            isDrained: a,
                            onLoad: this.loadMore,
                            placeholder: jr.a
                        }, J.a.createElement(or.a, {
                            books: t
                        })))
                    }
                }]) && hp(n.prototype, r),
                o && hp(n, o),
                    t
            }()
                , wp = Object(te.b)(function (e) {
                return {
                    list: e.audioBook.list || {}
                }
            })(Ep)
                , Sp = n(141)
                , Pp = J.a.createElement(ne.d, {
                path: "audiobook"
            }, J.a.createElement(ne.d, {
                path: "list",
                key: "AudioBooks",
                component: wp,
                bodyClassName: "Pub-white-body"
            }), J.a.createElement(ne.d, {
                path: "self",
                key: "AudioBookSelf",
                component: Sp.a,
                bodyClassName: "Pub-white-body"
            }), J.a.createElement(ne.d, {
                path: ":token",
                key: "AudioBook",
                component: dp
            }))
                , kp = n(458)
                , jp = n.n(kp);

            function _p(e) {
                return (_p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Tp(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Cp(e) {
                return (Cp = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Np(e, t) {
                return (Np = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Ip(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function Ap(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var xp = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = Cp(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== _p(o) && "function" != typeof o ? Ip(r) : o,
                        Ap(Ip(Ip(n)), "loadMore", function () {
                            n.props.dispatch(We(n.props.params.id))
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Np(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.items
                            , n = e.isFetching
                            , r = e.isDrained
                            , o = e.totals
                            , a = J.a.createElement(ya.a, {
                            className: "PubIndex-bookListSpinner"
                        })
                            , i = this.props.params.id;
                        return J.a.createElement("div", {
                            className: "MPub-book-reviews"
                        }, J.a.createElement(jo.a, {
                            title: "知友点评"
                        }), J.a.createElement(Fr.c, {
                            className: "Comments-header"
                        }, J.a.createElement("h1", null, o, " 条知友点评"), J.a.createElement(ac, {
                            href: "/pub/reader/finish/".concat(i),
                            className: "Write-comment",
                            onClick: function (e) {
                                b.a.setModule(e.target, {
                                    module: "EBookItem"
                                }, {
                                    card: {
                                        content: {
                                            token: String(i),
                                            type: "EBook"
                                        }
                                    }
                                }),
                                    b.a.trackEvent(e.target, {
                                        action: "Review",
                                        element: "Button"
                                    })
                            }
                        }, J.a.createElement(Ua.a, {
                            name: "write",
                            className: "Edit"
                        }), " 写点评")), J.a.createElement(Pr.b, {
                            isLoading: n,
                            isDrained: r,
                            onLoad: this.loadMore,
                            placeholder: a
                        }, Array.isArray(t) && t.map(function (e) {
                            return J.a.createElement(Fr.c, {
                                key: e.id,
                                className: "BookReviewsItem"
                            }, J.a.createElement(Qs, {
                                comment: e,
                                bookId: i
                            }))
                        })))
                    }
                }]) && Tp(n.prototype, r),
                o && Tp(n, o),
                    t
            }();
            Ap(xp, "fetchData", function (e) {
                return We(e.params.id)
            }),
                xp.defaultProps = {
                    items: [],
                    isFetching: !1,
                    isDrained: !1,
                    totals: 0
                },
                xp.css = jp.a;
            var Dp = Object(te.b)(function (e, t) {
                var n = t.params.id;
                return function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {}
                            , r = Object.keys(n);
                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                        }))),
                            r.forEach(function (t) {
                                Ap(e, t, n[t])
                            })
                    }
                    return e
                }({}, e.review.sequenceReviews[n])
            })(xp)
                , Rp = J.a.createElement(ne.d, {
                path: "book"
            }, J.a.createElement(ne.d, {
                path: ":id/reviews",
                component: Dp
            }))
                , Lp = n(459)
                , Bp = n.n(Lp);

            function Mp(e) {
                return (Mp = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Gp(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Up(e) {
                return (Up = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Fp(e, t) {
                return (Fp = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function zp(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function qp(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var Hp = function (e) {
                function t() {
                    var e, n, r, o;
                    !function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    for (var a = arguments.length, i = new Array(a), c = 0; c < a; c++)
                        i[c] = arguments[c];
                    return r = this,
                        o = (e = Up(t)).call.apply(e, [this].concat(i)),
                        n = !o || "object" !== Mp(o) && "function" != typeof o ? zp(r) : o,
                        qp(zp(zp(n)), "loadMore", function () {
                            n.props.dispatch(bn())
                        }),
                        n
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Fp(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.items
                            , n = e.isFetching
                            , r = e.isDrained;
                        return J.a.createElement("div", {
                            className: "Pub-PackagesList"
                        }, J.a.createElement(Nn.a, {
                            title: "特惠专辑"
                        }), J.a.createElement(Pr.b, {
                            isLoading: n,
                            isDrained: r,
                            onLoad: this.loadMore,
                            placeholder: jr.a
                        }, Array.isArray(t) && t.map(function (e, t) {
                            return J.a.createElement(qn.a, {
                                key: e.id,
                                className: "PackageList-Item Card",
                                href: "/market/specials/".concat(e.id),
                                zh_navigation_bar_type: "back_title_more",
                                zh_nav_left: "arrow",
                                zh_nav_right: "more",
                                useHybridInApp: !0
                            }, J.a.createElement(Jn, {
                                packageData: e,
                                disableLink: !0
                            }), J.a.createElement("div", {
                                className: "packageIntro"
                            }, J.a.createElement("h2", null, e.title), J.a.createElement("p", null, "打包购买 ", e.skuCount, " 本电子书"), J.a.createElement("div", {
                                className: "extInfo"
                            }, "人气：", e.popularity, J.a.createElement("span", {
                                className: "expiredTime"
                            }, Object(pt.c)(1e3 * e.promotion.endTime, "YYYY.MM.DD"), " 日结束"))))
                        })))
                    }
                }]) && Gp(n.prototype, r),
                o && Gp(n, o),
                    t
            }();
            qp(Hp, "fetchData", function () {
                return bn()
            }),
                Hp.css = Bp.a;
            var Wp = Object(te.b)(function (e) {
                return function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {}
                            , r = Object.keys(n);
                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                        }))),
                            r.forEach(function (t) {
                                qp(e, t, n[t])
                            })
                    }
                    return e
                }({}, e.packageList)
            })(Hp)
                , Vp = n(460)
                , Kp = n.n(Vp);

            function Yp(e) {
                return (Yp = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function Zp(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function Qp(e) {
                return (Qp = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Xp(e, t) {
                return (Xp = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Jp(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }

            function $p(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var em = function (e) {
                function t(e, n) {
                    var r, o, a;
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        o = this,
                        a = Qp(t).call(this, e, n),
                        r = !a || "object" !== Yp(a) && "function" != typeof a ? Jp(o) : a,
                        $p(Jp(Jp(r)), "onClickBuyBook", function (e) {
                            var t = r.props
                                , n = t.dispatch
                                , o = t.params.id;
                            n(Object(en.b)(o)).then(function () {
                                r.setState({
                                    payUIShow: !0
                                })
                            }),
                                b.a.trackEvent(e.target, {
                                    action: "Pay",
                                    element: "Button"
                                })
                        }),
                        $p(Jp(Jp(r)), "goShelf", r.context.authRequired(function () {
                            window.location.href = "https://www.zhihu.com/pub/shelf"
                        }, [])),
                        $p(Jp(Jp(r)), "onRequestPayClose", function () {
                            r.setState({
                                payUIShow: !1
                            })
                        }),
                        $p(Jp(Jp(r)), "handlePaySuccess", function () {
                            var e = r.props
                                , t = e.dispatch
                                , n = e.params.id;
                            t(Object(en.c)(n)).then(function () {
                                r.setState({
                                    payUIShow: !1
                                })
                            })
                        }),
                        $p(Jp(Jp(r)), "getShortPackageBookDesc", function () {
                            var e = r.props.packageInfo.data.filter(function (e) {
                                return !e.isOwn
                            });
                            return e.length ? "《".concat(e[0].title, "》等 ").concat(e.length, " 本电子书") : "已全部购买"
                        }),
                        r.state = {
                            payUIShow: !1
                        },
                        r.onClickBuyBook = n.authRequired(r.onClickBuyBook.bind(Jp(Jp(r))), Sn.e.buy),
                        r
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Xp(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.buyInfo
                            , n = e.packageInfo.discountInfo
                            , r = n.isExpired
                            , o = n.hasAll
                            , a = n.discountDesc
                            , i = n.extraDesc
                            , c = n.originPrice
                            , u = n.payPrice
                            , l = this.state.payUIShow;
                        return J.a.createElement("div", {
                            className: "PackageActionBar"
                        }, J.a.createElement("div", {
                            className: "PackageSaleInfo"
                        }, !o && J.a.createElement("div", {
                            className: "priceInfo"
                        }, !r && J.a.createElement(uu.a, {
                            className: "salePrice",
                            cent: u
                        }), J.a.createElement(uu.a, {
                            className: Sr()("originPrice", {
                                sale: !r
                            }),
                            cent: c
                        }), !r && J.a.createElement("span", {
                            className: "saleLabel"
                        }, a)), J.a.createElement("div", {
                            className: "extraDesc"
                        }, i)), o ? J.a.createElement("div", {
                            onClick: this.goShelf,
                            className: "Button"
                        }, "前往书架") : J.a.createElement(zr.c, {
                            color: "blue",
                            preset: "primary",
                            onClick: this.onClickBuyBook,
                            disabled: t.isFetching
                        }, "立即购买"), l ? J.a.createElement(Eu.b, Object.assign({}, t, {
                            title: "购买电子书",
                            subTitle: this.getShortPackageBookDesc(),
                            price: u,
                            showCoupon: !0,
                            onSuccess: this.handlePaySuccess,
                            onRequestClose: this.onRequestPayClose,
                            successTitle: "购买成功",
                            successTipTimeout: 3
                        })) : J.a.createElement(Eu.a, {
                            onFail: function () {
                                location.reload()
                            }
                        }))
                    }
                }]) && Zp(n.prototype, r),
                o && Zp(n, o),
                    t
            }();
            $p(em, "contextTypes", {
                currentUser: Qn.a.object,
                authRequired: Qn.a.func
            }),
                em.css = Kp.a;
            var tm = em
                , nm = n(461)
                , rm = n.n(nm);

            function om(e) {
                return (om = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function am(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function im(e, t) {
                return !t || "object" !== om(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function cm(e) {
                return (cm = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function um(e, t) {
                return (um = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function lm(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var sm = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        im(this, cm(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && um(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props
                            , n = e.packageInfo
                            , r = e.dispatch
                            , o = e.params;
                        n || r(t.fetchData({
                            params: o
                        }))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.ua
                            , n = e.packageInfo;
                        if (!n)
                            return jr.a;
                        var r = t.Zhihu && t.iOS && Ur.gte(t.ZhihuIOSVersionName, "4.42") && Ur.lt(t.ZhihuIOSVersionName, "6.5")
                            , o = n.name
                            , a = n.banner
                            , i = n.description
                            , c = n.data
                            , u = n.summary;
                        return J.a.createElement("div", {
                            className: "Pub-Package"
                        }, J.a.createElement(jo.a, {
                            title: o
                        }), J.a.createElement(An.a, {
                            title: o,
                            desc: i,
                            imgUrl: a,
                            type: "link"
                        }), J.a.createElement(bs.a, {
                            packageData: u
                        }), J.a.createElement(Ma, {
                            content: i,
                            className: "Card Package-Description"
                        }), J.a.createElement(Fr.c, {
                            className: "Pub-Package-books"
                        }, J.a.createElement(Fr.a, null, "打包书籍详情", J.a.createElement("p", {
                            className: "subTitle"
                        }, "打包购买 ", c && c.length || "", " 本电子书")), J.a.createElement("ul", {
                            className: "Package-bookList"
                        }, Array.isArray(c) && c.map(function (e) {
                            return J.a.createElement(Qr.a, {
                                key: e.id,
                                book: e
                            })
                        }))), !r && J.a.createElement("div", {
                            className: "u-safeAreaInsetBottomPlaceHolder"
                        }), J.a.createElement("div", {
                            className: "MPub-bottomBarBase ".concat(!r && "u-safeAreaInsetBottom")
                        }, J.a.createElement("div", {
                            className: "Pub-Package-BottomBar"
                        }, J.a.createElement(tm, this.props))), !r && J.a.createElement("div", {
                            className: "u-safeAreaInsetBottomMask"
                        }))
                    }
                }]) && am(n.prototype, r),
                o && am(n, o),
                    t
            }();
            lm(sm, "fetchData", function (e) {
                var t = e.params.id;
                return Object(en.c)(t)
            }),
                sm.css = rm.a;
            var fm = Object(te.b)(function (e, t) {
                var n = t.params.id;
                return function (e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {}
                            , r = Object.keys(n);
                        "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                            return Object.getOwnPropertyDescriptor(n, e).enumerable
                        }))),
                            r.forEach(function (t) {
                                lm(e, t, n[t])
                            })
                    }
                    return e
                }({}, e.package[n], {
                    buyInfo: e.package.buyInfo,
                    ua: e.env.userAgent
                })
            })(sm)
                , pm = J.a.createElement(ne.d, {
                path: "packages"
            }, J.a.createElement(ne.b, {
                component: Wp
            }), J.a.createElement(ne.d, {
                path: ":id",
                component: fm
            }))
                , mm = n(271)
                , bm = n(463)
                , dm = n.n(bm);

            function ym(e) {
                return (ym = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function hm(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function vm(e, t) {
                return !t || "object" !== ym(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function gm(e) {
                return (gm = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Om(e, t) {
                return (Om = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            function Em(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            var wm = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        vm(this, gm(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Om(e, t)
                }(t, J.a.PureComponent),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this.props
                            , t = e.book
                            , n = e.params.token
                            , r = e.dispatch;
                        t.info || r(Object(Be.c)(n)),
                        t.chapters || r(Object(Xt.c)(n))
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.book
                            , n = e.params.token
                            , r = t.info || {};
                        return J.a.createElement("div", {
                            className: "MPub-reader-catalogue"
                        }, J.a.createElement("header", null, J.a.createElement(ne.c, {
                            to: "/pub/book/".concat(n)
                        }, J.a.createElement(gi.a, {
                            className: "catalogue-book-cover",
                            src: r.cover,
                            width: "55",
                            height: "73",
                            alt: r.title,
                            defer: !0
                        }), J.a.createElement("section", null, J.a.createElement("h1", null, r.title), J.a.createElement("span", null, (r.authors || []).map(function (e) {
                            return e.name
                        }).join(" "))), J.a.createElement("i", null, J.a.createElement(wc.a, {
                            width: 36,
                            height: 36
                        })))), J.a.createElement(mm.a, this.props))
                    }
                }]) && hm(n.prototype, r),
                o && hm(n, o),
                    t
            }();
            Em(wm, "fetchData", function (e) {
                var t = e.params.token
                    , n = e.dispatch;
                return Promise.all([n(Object(Be.c)(t)), n(Object(Xt.c)(t))])
            }),
                wm.css = dm.a;
            var Sm = Object(te.b)(function (e, t) {
                var n = t.params.token;
                return {
                    book: function (e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {}
                                , r = Object.keys(n);
                            "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                return Object.getOwnPropertyDescriptor(n, e).enumerable
                            }))),
                                r.forEach(function (t) {
                                    Em(e, t, n[t])
                                })
                        }
                        return e
                    }({}, e.reader[n], {
                        info: Mo()(e.book, [n, "bookInfo"])
                    })
                }
            })(wm);

            function Pm(e) {
                return (Pm = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                            return typeof e
                        }
                        : function (e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        }
                )(e)
            }

            function km(e, t, n) {
                return t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n,
                    e
            }

            function jm(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    r.enumerable = r.enumerable || !1,
                        r.configurable = !0,
                    "value" in r && (r.writable = !0),
                        Object.defineProperty(e, r.key, r)
                }
            }

            function _m(e, t) {
                return !t || "object" !== Pm(t) && "function" != typeof t ? function (e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e) : t
            }

            function Tm(e) {
                return (Tm = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                )(e)
            }

            function Cm(e, t) {
                return (Cm = Object.setPrototypeOf || function (e, t) {
                        return e.__proto__ = t,
                            e
                    }
                )(e, t)
            }

            var Nm = function (e) {
                function t() {
                    return function (e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                        _m(this, Tm(t).apply(this, arguments))
                }

                var n, r, o;
                return function (e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && Cm(e, t)
                }(t, X["Component"]),
                    n = t,
                (r = [{
                    key: "componentDidMount",
                    value: function () {
                        var e = this;
                        Mr.a.supportsEvent("base/themeChange").then(function (t) {
                            t ? Mr.a.listen("base/themeChange", function (t) {
                                var n = t.theme;
                                e.props.dispatch(Object(M.c)(n))
                            }) : (void 0 === window.ZhihuWebApp && (window.ZhihuWebApp = {}),
                                    window.ZhihuWebApp.setTheme = function () {
                                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "light";
                                        e.props.dispatch(Object(M.c)(t))
                                    }
                            )
                        })
                    }
                }, {
                    key: "render",
                    value: function () {
                        var e = this.props
                            , t = e.ua
                            , n = e.theme;
                        return J.a.createElement("div", null, J.a.createElement(Nn.a, {
                            htmlAttributes: function (e) {
                                for (var t = 1; t < arguments.length; t++) {
                                    var n = null != arguments[t] ? arguments[t] : {}
                                        , r = Object.keys(n);
                                    "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {
                                        return Object.getOwnPropertyDescriptor(n, e).enumerable
                                    }))),
                                        r.forEach(function (t) {
                                            km(e, t, n[t])
                                        })
                                }
                                return e
                            }({
                                "data-theme": n
                            }, t.Android ? {
                                "data-android": !0
                            } : {})
                        }), this.props.children)
                    }
                }]) && jm(n.prototype, r),
                o && jm(n, o),
                    t
            }()
                , Im = Object(te.b)(function (e) {
                return {
                    ua: e.env.userAgent,
                    theme: e.env.theme
                }
            })(Nm)
                , Am = J.a.createElement(ne.d, {
                path: "self",
                bodyClassName: "Pub-white-body"
            }, J.a.createElement(ne.b, {
                component: Sp.a
            }), ",", J.a.createElement(ne.d, {
                path: "audiobook",
                component: Sp.a
            }));

            function xm(e, t) {
                var n = e.routes
                    , r = t.routes;
                Object(Tn.a)(r);
                var o = n[n.length - 1] || {}
                    , a = r[r.length - 1] || {};
                o.name === a.name && void 0 !== a.name && !1 === a.trackPageShowOnUpdate || b.a.trackPageShow()
            }

            function Dm(e) {
                return J.a.createElement(ne.d, {
                    path: "/",
                    component: jn.a,
                    onChange: xm
                }, J.a.createElement(ne.a, {
                    to: "pub"
                }), J.a.createElement(ne.d, {
                    path: "pub",
                    component: Im
                }, da, function (e) {
                    var t = e.Mobile || e.Android || e.Zhihu
                        , r = t ? {
                        component: gr
                    } : {
                        name: "HomePage",
                        chunk: "desktop",
                        getComponent: function () {
                            return n.e(5).then(n.bind(null, 1216)).then(function (e) {
                                return e.default
                            })
                        }
                    }
                        , o = t ? {
                        component: ko.a
                    } : {
                        name: "Shelf",
                        chunk: "desktop",
                        getComponent: function () {
                            return n.e(5).then(n.bind(null, 1217)).then(function (e) {
                                return e.default
                            })
                        }
                    };
                    return [J.a.createElement(ne.b, Object.assign({}, r, {
                        key: "index",
                        bodyClassName: "Pub-index-body"
                    })), J.a.createElement(ne.d, Object.assign({
                        path: "homepage"
                    }, r, {
                        key: "HomePage"
                    })), J.a.createElement(ne.d, Object.assign({
                        path: "shelf"
                    }, o, {
                        key: "Shelf",
                        authRequired: !0
                    })), J.a.createElement(ne.d, {
                        component: Or.a,
                        key: "Frame"
                    }, J.a.createElement(ne.d, {
                        path: "categories/:id",
                        component: Er.a
                    }), J.a.createElement(ne.d, {
                        path: "features/sale",
                        component: Rr
                    }), J.a.createElement(ne.d, {
                        path: "features/free",
                        component: Lr
                    }), J.a.createElement(ne.d, {
                        path: "features/top",
                        component: Br
                    }), J.a.createElement(ne.d, {
                        path: "zhihu"
                    }, J.a.createElement(ne.a, {
                        to: "weekly"
                    }), J.a.createElement(ne.d, {
                        path: "hour",
                        component: So
                    }), J.a.createElement(ne.d, {
                        path: "weekly",
                        component: Po
                    }), J.a.createElement(ne.d, {
                        path: "nacl",
                        component: wo
                    }))), J.a.createElement(ne.d, {
                        path: "weekly",
                        key: "weekly",
                        component: po
                    })]
                }(e), mi, Qi, vc, $l, ss, function (e) {
                    var t = e.Mobile || e.Android ? {
                        component: pf
                    } : {
                        chunk: "desktop",
                        name: "Book",
                        showAppHeader: !1,
                        getComponent: function () {
                            return n.e(5).then(n.bind(null, 1219)).then(function (e) {
                                return e.default
                            })
                        }
                    };
                    return J.a.createElement(ne.d, {
                        path: "book"
                    }, J.a.createElement(ne.d, Object.assign({
                        path: ":id"
                    }, t)), J.a.createElement(ne.d, {
                        path: ":id/contents",
                        component: Ef
                    }), J.a.createElement(ne.d, {
                        path: ":id/authors",
                        component: If
                    }))
                }(e), Rp, function (e) {
                    return J.a.createElement(ne.d, {
                        path: "reader",
                        key: "reader"
                    }, J.a.createElement(ne.d, {
                        path: ":token",
                        showAppHeader: !1,
                        chunk: "Reader",
                        name: "Reader",
                        getComponent: function () {
                            return n.e(4).then(n.bind(null, 1222)).then(function (e) {
                                return e.default
                            })
                        },
                        bodyClassName: "".concat(e.Mobile ? "M" : "", "Pub-reader-body"),
                        trackPageShowOnUpdate: !1
                    }), J.a.createElement(ne.d, {
                        path: ":token/chapter/:chapterUid",
                        showAppHeader: !1,
                        chunk: "Reader",
                        name: "Reader",
                        getComponent: function () {
                            return n.e(4).then(n.bind(null, 1222)).then(function (e) {
                                return e.default
                            })
                        },
                        bodyClassName: "".concat(e.Mobile ? "M" : "", "Pub-reader-body"),
                        trackPageShowOnUpdate: !1
                    }), J.a.createElement(ne.d, {
                        path: ":token/catalogue",
                        component: Sm,
                        name: "Catalogue",
                        bodyClassName: "Pub-white-body"
                    }))
                }(e), pm, Pp, Am), _n)
            }

            var Rm, Lm, Bm;
            t.default = (Lm = (Rm = {
                rootReducer: En,
                renderCallback: function (e) {
                    var t = e.store
                        , n = e.container
                        , r = t.getState().env.userAgent
                        , o = t.getState().env.isOffice;
                    return new Promise(function (e, a) {
                            Object(ne.h)({
                                history: ne.g,
                                routes: Dm(r)
                            }, function (i, c, u) {
                                i ? a(i) : (Object($.hydrate)(J.a.createElement(re.AppContainer, {
                                    warnings: !1
                                }, J.a.createElement(te.a, {
                                    store: t
                                }, J.a.createElement(kn, {
                                    renderProps: u,
                                    ua: r,
                                    isOffice: o
                                }))), n),
                                    e())
                            })
                        }
                    )
                }
            }).rootReducer,
                Bm = Rm.renderCallback,
                Q({
                    createStore: W(Lm),
                    renderCallback: Bm
                }))
        },
    ]
)
